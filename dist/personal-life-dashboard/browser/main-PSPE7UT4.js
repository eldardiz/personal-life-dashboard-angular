import{a as z,b as le,d as mi,e as w}from"./chunk-BE352OPC.js";function Tg(n,e){return Object.is(n,e)}var _t=null,Nu=!1,Mg=1,Tn=Symbol("SIGNAL");function Ce(n){let e=_t;return _t=n,e}function Sg(){return _t}var bc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wc(n){if(Nu)throw new Error("");if(_t===null)return;_t.consumerOnSignalRead(n);let e=_t.nextProducerIndex++;if(ju(_t),e<_t.producerNode.length&&_t.producerNode[e]!==n&&vc(_t)){let t=_t.producerNode[e];Lu(t,_t.producerIndexOfThis[e])}_t.producerNode[e]!==n&&(_t.producerNode[e]=n,_t.producerIndexOfThis[e]=vc(_t)?hE(n,_t,e):0),_t.producerLastReadVersion[e]=n.version}function dE(){Mg++}function Pg(n){if(!(vc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Mg)){if(!n.producerMustRecompute(n)&&!Rg(n)){Dg(n);return}n.producerRecomputeValue(n),Dg(n)}}function Og(n){if(n.liveConsumerNode===void 0)return;let e=Nu;Nu=!0;try{for(let t of n.liveConsumerNode)t.dirty||Pk(t)}finally{Nu=e}}function Ag(){return _t?.consumerAllowSignalWrites!==!1}function Pk(n){n.dirty=!0,Og(n),n.consumerMarkedDirty?.(n)}function Dg(n){n.dirty=!1,n.lastCleanEpoch=Mg}function Vu(n){return n&&(n.nextProducerIndex=0),Ce(n)}function kg(n,e){if(Ce(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(vc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Lu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Rg(n){ju(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Pg(t),r!==t.version))return!0}return!1}function Ng(n){if(ju(n),vc(n))for(let e=0;e<n.producerNode.length;e++)Lu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function hE(n,e,t){if(fE(n),n.liveConsumerNode.length===0&&pE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=hE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Lu(n,e){if(fE(n),n.liveConsumerNode.length===1&&pE(n))for(let r=0;r<n.producerNode.length;r++)Lu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ju(i),i.producerIndexOfThis[r]=e}}function vc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ju(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function fE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function pE(n){return n.producerNode!==void 0}function Fg(n,e){let t=Object.create(Ok);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Pg(t),wc(t),t.value===Fu)throw t.error;return t.value};return r[Tn]=t,r}var Ig=Symbol("UNSET"),xg=Symbol("COMPUTING"),Fu=Symbol("ERRORED"),Ok=le(z({},bc),{value:Ig,dirty:!0,error:null,equal:Tg,kind:"computed",producerMustRecompute(n){return n.value===Ig||n.value===xg},producerRecomputeValue(n){if(n.value===xg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=xg;let t=Vu(n),r,i=!1;try{r=n.computation(),Ce(null),i=e!==Ig&&e!==Fu&&r!==Fu&&n.equal(e,r)}catch(o){r=Fu,n.error=o}finally{kg(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Ak(){throw new Error}var gE=Ak;function mE(n){gE(n)}function Vg(n){gE=n}var kk=null;function Lg(n,e){let t=Object.create(Bu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(wc(t),t.value);return r[Tn]=t,r}function Cc(n,e){Ag()||mE(n),n.equal(n.value,e)||(n.value=e,Rk(n))}function jg(n,e){Ag()||mE(n),Cc(n,e(n.value))}var Bu=le(z({},bc),{equal:Tg,value:void 0,kind:"signal"});function Rk(n){n.version++,dE(),Og(n),kk?.()}function Bg(n){let e=Ce(null);try{return n()}finally{Ce(e)}}var Ug;function Ec(){return Ug}function Rr(n){let e=Ug;return Ug=n,e}var Uu=Symbol("NotFound");function he(n){return typeof n=="function"}function ms(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var zu=ms(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function co(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ze=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(he(r))try{r()}catch(o){e=o instanceof zu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{_E(o)}catch(s){e=e??[],s instanceof zu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_E(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&co(t,e)}remove(e){let{_finalizers:t}=this;t&&co(t,e),e instanceof n&&e._removeParent(this)}};Ze.EMPTY=(()=>{let n=new Ze;return n.closed=!0,n})();var zg=Ze.EMPTY;function $u(n){return n instanceof Ze||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function _E(n){he(n)?n():n.unsubscribe()}var Ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _s={setTimeout(n,e,...t){let{delegate:r}=_s;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=_s;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qu(n){_s.setTimeout(()=>{let{onUnhandledError:e}=Ln;if(e)e(n);else throw n})}function Ic(){}var yE=$g("C",void 0,void 0);function vE(n){return $g("E",void 0,n)}function bE(n){return $g("N",n,void 0)}function $g(n,e,t){return{kind:n,value:e,error:t}}var lo=null;function ys(n){if(Ln.useDeprecatedSynchronousErrorHandling){let e=!lo;if(e&&(lo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=lo;if(lo=null,t)throw r}}else n()}function wE(n){Ln.useDeprecatedSynchronousErrorHandling&&lo&&(lo.errorThrown=!0,lo.error=n)}var uo=class extends Ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$u(e)&&e.add(this)):this.destination=Bk}static create(e,t,r){return new vs(e,t,r)}next(e){this.isStopped?Hg(bE(e),this):this._next(e)}error(e){this.isStopped?Hg(vE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hg(yE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lk=Function.prototype.bind;function qg(n,e){return Lk.call(n,e)}var Wg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Hu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Hu(r)}else Hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Hu(t)}}},vs=class extends uo{constructor(e,t,r){super();let i;if(he(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qg(e.next,o),error:e.error&&qg(e.error,o),complete:e.complete&&qg(e.complete,o)}):i=e}this.destination=new Wg(i)}};function Hu(n){Ln.useDeprecatedSynchronousErrorHandling?wE(n):qu(n)}function jk(n){throw n}function Hg(n,e){let{onStoppedNotification:t}=Ln;t&&_s.setTimeout(()=>t(n,e))}var Bk={closed:!0,next:Ic,error:jk,complete:Ic};var bs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(n){return n}function Gg(...n){return Kg(n)}function Kg(n){return n.length===0?gn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var be=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=zk(t)?t:new vs(t,r,i);return ys(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=CE(r),new r((i,o)=>{let s=new vs({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[bs](){return this}pipe(...t){return Kg(t)(this)}toPromise(t){return t=CE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function CE(n){var e;return(e=n??Ln.Promise)!==null&&e!==void 0?e:Promise}function Uk(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}function zk(n){return n&&n instanceof uo||Uk(n)&&$u(n)}function Qg(n){return he(n?.lift)}function Te(n){return e=>{if(Qg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(n,e,t,r,i){return new Yg(n,e,t,r,i)}var Yg=class extends uo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ws(){return Te((n,e)=>{let t=null;n._refCount++;let r=Ee(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Cs=class extends be{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Qg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ze;let t=this.getSubject();e.add(this.source.subscribe(Ee(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ze.EMPTY)}return e}refCount(){return ws()(this)}};var EE=ms(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class n extends be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new EE}next(t){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ys(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zg:(this.currentObservers=null,o.push(t),new Ze(()=>{this.currentObservers=null,co(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new be;return t.source=this,t}}return n.create=(e,t)=>new Wu(e,t),n})(),Wu=class extends rt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zg}};var Tt=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zg={now(){return(Zg.delegate||Date).now()},delegate:void 0};var Gu=class extends Ze{constructor(e,t){super()}schedule(e,t=0){return this}};var xc={setInterval(n,e,...t){let{delegate:r}=xc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Es=class extends Gu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return xc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&xc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,co(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Is=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Is.now=Zg.now;var xs=class extends Is{constructor(e,t=Is.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Jg=new xs(Es);var Ku=class extends Es{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Qu=class extends xs{};var Xg=new Qu(Ku);var Xt=new be(n=>n.complete());function IE(n){return n&&he(n.schedule)}function xE(n){return n[n.length-1]}function Yu(n){return he(xE(n))?n.pop():void 0}function _i(n){return IE(xE(n))?n.pop():void 0}function em(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function TE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function l(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function DE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ho(n){return this instanceof ho?(this.v=n,this):new ho(n)}function ME(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(T){return Promise.resolve(T).then(v,p)}}function a(v,T){r[v]&&(i[v]=function(k){return new Promise(function(R,J){o.push([v,k,R,J])>1||l(v,k)})},T&&(i[v]=T(i[v])))}function l(v,T){try{u(r[v](T))}catch(k){y(o[0][3],k)}}function u(v){v.value instanceof ho?Promise.resolve(v.value.v).then(h,p):y(o[0][2],v)}function h(v){l("next",v)}function p(v){l("throw",v)}function y(v,T){v(T),o.shift(),o.length&&l(o[0][0],o[0][1])}}function SE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof DE=="function"?DE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Zu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ju(n){return he(n?.then)}function Xu(n){return he(n[bs])}function ed(n){return Symbol.asyncIterator&&he(n?.[Symbol.asyncIterator])}function td(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $k(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nd=$k();function rd(n){return he(n?.[nd])}function id(n){return ME(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ho(t.read());if(i)return yield ho(void 0);yield yield ho(r)}}finally{t.releaseLock()}})}function od(n){return he(n?.getReader)}function lt(n){if(n instanceof be)return n;if(n!=null){if(Xu(n))return qk(n);if(Zu(n))return Hk(n);if(Ju(n))return Wk(n);if(ed(n))return PE(n);if(rd(n))return Gk(n);if(od(n))return Kk(n)}throw td(n)}function qk(n){return new be(e=>{let t=n[bs]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hk(n){return new be(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Wk(n){return new be(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qu)})}function Gk(n){return new be(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function PE(n){return new be(e=>{Qk(n,e).catch(t=>e.error(t))})}function Kk(n){return PE(id(n))}function Qk(n,e){var t,r,i,o;return TE(this,void 0,void 0,function*(){try{for(t=SE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function en(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yi(n,e=0){return Te((t,r)=>{t.subscribe(Ee(r,i=>en(r,n,()=>r.next(i),e),()=>en(r,n,()=>r.complete(),e),i=>en(r,n,()=>r.error(i),e)))})}function vi(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function OE(n,e){return lt(n).pipe(vi(e),yi(e))}function AE(n,e){return lt(n).pipe(vi(e),yi(e))}function kE(n,e){return new be(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function RE(n,e){return new be(t=>{let r;return en(t,e,()=>{r=n[nd](),en(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}function sd(n,e){if(!n)throw new Error("Iterable cannot be null");return new be(t=>{en(t,e,()=>{let r=n[Symbol.asyncIterator]();en(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function NE(n,e){return sd(id(n),e)}function FE(n,e){if(n!=null){if(Xu(n))return OE(n,e);if(Zu(n))return kE(n,e);if(Ju(n))return AE(n,e);if(ed(n))return sd(n,e);if(rd(n))return RE(n,e);if(od(n))return NE(n,e)}throw td(n)}function We(n,e){return e?FE(n,e):lt(n)}function ie(...n){let e=_i(n);return We(n,e)}function Ds(n,e){let t=he(n)?n:()=>n,r=i=>i.error(t());return new be(e?i=>e.schedule(r,0,i):r)}function tm(n){return!!n&&(n instanceof be||he(n.lift)&&he(n.subscribe))}var Nr=ms(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function De(n,e){return Te((t,r)=>{let i=0;t.subscribe(Ee(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Yk}=Array;function Zk(n,e){return Yk(e)?n(...e):n(e)}function ad(n){return De(e=>Zk(n,e))}var{isArray:Jk}=Array,{getPrototypeOf:Xk,prototype:eR,keys:tR}=Object;function cd(n){if(n.length===1){let e=n[0];if(Jk(e))return{args:e,keys:null};if(nR(e)){let t=tR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function nR(n){return n&&typeof n=="object"&&Xk(n)===eR}function ld(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Dc(...n){let e=_i(n),t=Yu(n),{args:r,keys:i}=cd(n);if(r.length===0)return We([],e);let o=new be(rR(r,e,i?s=>ld(i,s):gn));return t?o.pipe(ad(t)):o}function rR(n,e,t=gn){return r=>{VE(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)VE(e,()=>{let u=We(n[l],e),h=!1;u.subscribe(Ee(r,p=>{o[l]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VE(n,e,t){n?en(t,n,e):e()}function LE(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,p=!1,y=()=>{p&&!l.length&&!u&&e.complete()},v=k=>u<r?T(k):l.push(k),T=k=>{o&&e.next(k),u++;let R=!1;lt(t(k,h++)).subscribe(Ee(e,J=>{i?.(J),o?v(J):e.next(J)},()=>{R=!0},void 0,()=>{if(R)try{for(u--;l.length&&u<r;){let J=l.shift();s?en(e,s,()=>T(J)):T(J)}y()}catch(J){e.error(J)}}))};return n.subscribe(Ee(e,v,()=>{p=!0,y()})),()=>{a?.()}}function it(n,e,t=1/0){return he(e)?it((r,i)=>De((o,s)=>e(r,o,i,s))(lt(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>LE(r,i,n,t)))}function Ts(n=1/0){return it(gn,n)}function jE(){return Ts(1)}function Ms(...n){return jE()(We(n,_i(n)))}function ud(n){return new be(e=>{lt(n()).subscribe(e)})}function nm(...n){let e=Yu(n),{args:t,keys:r}=cd(n),i=new be(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let p=!1;lt(t[h]).subscribe(Ee(o,y=>{p||(p=!0,u--),a[h]=y},()=>l--,void 0,()=>{(!l||!p)&&(u||o.next(r?ld(r,a):a),o.complete())}))}});return e?i.pipe(ad(e)):i}function mn(n,e){return Te((t,r)=>{let i=0;t.subscribe(Ee(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Fr(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ee(t,void 0,void 0,s=>{o=lt(n(s,Fr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function BE(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ee(s,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function bi(n,e){return he(e)?it(n,e,1):it(n,1)}function wi(n){return Te((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Vr(n){return n<=0?()=>Xt:Te((e,t)=>{let r=0;e.subscribe(Ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dd(n=iR){return Te((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function iR(){return new Nr}function Tc(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mn((i,o)=>n(i,o,r)):gn,Vr(1),t?wi(e):dd(()=>new Nr))}function Ss(n){return n<=0?()=>Xt:Te((e,t)=>{let r=[];e.subscribe(Ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function rm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?mn((i,o)=>n(i,o,r)):gn,Ss(1),t?wi(e):dd(()=>new Nr))}function im(n,e){return Te(BE(n,e,arguments.length>=2,!0))}function om(...n){let e=_i(n);return Te((t,r)=>{(e?Ms(n,t,e):Ms(n,t)).subscribe(r)})}function Mn(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ee(r,l=>{i?.unsubscribe();let u=0,h=o++;lt(n(l,h)).subscribe(i=Ee(r,p=>r.next(e?e(l,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sm(n){return Te((e,t)=>{lt(n).subscribe(Ee(t,()=>t.complete(),Ic)),!t.closed&&e.subscribe(t)})}function Mt(n,e,t){let r=he(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ee(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):gn}var kI="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",K=class extends Error{code;constructor(e,t){super(x_(e,t)),this.code=e}};function oR(n){return`NG0${Math.abs(n)}`}function x_(n,e){return`${oR(n)}${e?": "+e:""}`}var RI=Symbol("InputSignalNode#UNSET"),sR=le(z({},Bu),{transformFn:void 0,applyValueToInputSignal(n,e){Cc(n,e)}});function NI(n,e){let t=Object.create(sR);t.value=n,t.transformFn=e?.transform;function r(){if(wc(t),t.value===RI){let i=null;throw new K(-950,i)}return t.value}return r[Tn]=t,r}function Lc(n){return{toString:n}.toString()}var hd="__parameters__";function aR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function FI(n,e,t){return Lc(()=>{let r=aR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let p=l.hasOwnProperty(hd)?l[hd]:Object.defineProperty(l,hd,{value:[]})[hd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var er=globalThis;function $e(n){for(let e in n)if(n[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function cR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(rn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function wm(n,e){return n?e?`${n} ${e}`:n:e||""}var lR=$e({__forward_ref__:$e});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return rn(this())},n}function Kt(n){return VI(n)?n():n}function VI(n){return typeof n=="function"&&n.hasOwnProperty(lR)&&n.__forward_ref__===Qt}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gd(n){return UE(n,jI)||UE(n,BI)}function LI(n){return Gd(n)!==null}function UE(n,e){return n.hasOwnProperty(e)?n[e]:null}function uR(n){let e=n&&(n[jI]||n[BI]);return e||null}function zE(n){return n&&(n.hasOwnProperty($E)||n.hasOwnProperty(dR))?n[$E]:null}var jI=$e({\u0275prov:$e}),$E=$e({\u0275inj:$e}),BI=$e({ngInjectableDef:$e}),dR=$e({ngInjectorDef:$e}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UI(n){return n&&!!n.\u0275providers}var hR=$e({\u0275cmp:$e}),fR=$e({\u0275dir:$e}),pR=$e({\u0275pipe:$e}),gR=$e({\u0275mod:$e}),Ed=$e({\u0275fac:$e}),Oc=$e({__NG_ELEMENT_ID__:$e}),qE=$e({__NG_ENV_ID__:$e});function jc(n){return typeof n=="string"?n:n==null?"":String(n)}function mR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():jc(n)}function zI(n,e){throw new K(-200,n)}function D_(n,e){throw new K(-201,!1)}var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{}),Cm;function $I(){return Cm}function tn(n){let e=Cm;return Cm=n,e}function qI(n,e,t){let r=Gd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&me.Optional)return null;if(e!==void 0)return e;D_(n,"Injector")}var _R={},po=_R,Em="__NG_DI_FLAG__",Id=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?Uu:po,r)}},xd="ngTempTokenPath",yR="ngTokenPath",vR=/\n/gm,bR="\u0275",HE="__source";function wR(n,e=me.Default){if(Ec()===void 0)throw new K(-203,!1);if(Ec()===null)return qI(n,void 0,e);{let t=Ec(),r;return t instanceof Id?r=t.injector:r=t,r.get(n,e&me.Optional?null:void 0,e)}}function oe(n,e=me.Default){return($I()||wR)(Kt(n),e)}function V(n,e=me.Default){return oe(n,Kd(e))}function Kd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Im(n){let e=[];for(let t=0;t<n.length;t++){let r=Kt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],l=CR(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function HI(n,e){return n[Em]=e,n.prototype[Em]=e,n}function CR(n){return n[Em]}function ER(n,e,t,r){let i=n[xd];throw e[HE]&&i.unshift(e[HE]),n.message=IR(`
`+n.message,i,t,r),n[yR]=i,n[xd]=null,n}function IR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==bR?n.slice(2):n;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(vR,`
  `)}`}var sn=HI(FI("Optional"),8);var xR=HI(FI("SkipSelf"),4);function mo(n,e){let t=n.hasOwnProperty(Ed);return t?n[Ed]:null}function DR(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function TR(n){return n.flat(Number.POSITIVE_INFINITY)}function T_(n,e){n.forEach(t=>Array.isArray(t)?T_(t,e):e(t))}function WI(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Dd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function MR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function M_(n,e,t){let r=Bc(n,e);return r>=0?n[r|1]=t:(r=~r,MR(n,r,e,t)),r}function am(n,e){let t=Bc(n,e);if(t>=0)return n[t|1]}function Bc(n,e){return SR(n,e,1)}function SR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var _o={},nn=[],Fs=new Q(""),GI=new Q("",-1),KI=new Q(""),Td=class{get(e,t=po){if(t===po){let r=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw r.name="NullInjectorError",r}return t}};function QI(n,e){let t=n[gR]||null;if(!t&&e===!0)throw new Error(`Type ${rn(n)} does not have '\u0275mod' property.`);return t}function yo(n){return n[hR]||null}function PR(n){return n[fR]||null}function OR(n){return n[pR]||null}function zn(n){return{\u0275providers:n}}function AR(...n){return{\u0275providers:YI(!0,n),\u0275fromNgModule:!0}}function YI(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return T_(e,s=>{let a=s;xm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ZI(i,o),t}function ZI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];S_(i,o=>{e(o,r)})}}function xm(n,e,t,r){if(n=Kt(n),!n)return!1;let i=null,o=zE(n),s=!o&&yo(n);if(!o&&!s){let l=n.ngModule;if(o=zE(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)xm(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{T_(o.imports,h=>{xm(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&ZI(u,e)}if(!a){let u=mo(i)||(()=>new i);e({provide:i,useFactory:u,deps:nn},i),e({provide:KI,useValue:i,multi:!0},i),e({provide:Fs,useValue:()=>oe(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;S_(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function S_(n,e){for(let t of n)UI(t)&&(t=t.\u0275providers),Array.isArray(t)?S_(t,e):e(t)}var kR=$e({provide:String,useValue:$e});function JI(n){return n!==null&&typeof n=="object"&&kR in n}function RR(n){return!!(n&&n.useExisting)}function NR(n){return!!(n&&n.useFactory)}function Vs(n){return typeof n=="function"}function FR(n){return!!n.useClass}var Qd=new Q(""),_d={},WE={},cm;function P_(){return cm===void 0&&(cm=new Td),cm}var Ft=class{},Ac=class extends Ft{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Tm(e,s=>this.processProvider(s)),this.records.set(GI,Ps(void 0,this)),i.has("environment")&&this.records.set(Ft,Ps(void 0,this));let o=this.records.get(Qd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KI,nn,me.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?Uu:po,r)}destroy(){Sc(this),this._destroyed=!0;let e=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(e)}}onDestroy(e){return Sc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Sc(this);let t=Rr(this),r=tn(void 0),i;try{return e()}finally{Rr(t),tn(r)}}get(e,t=po,r=me.Default){if(Sc(this),e.hasOwnProperty(qE))return e[qE](this);r=Kd(r);let i,o=Rr(this),s=tn(void 0);try{if(!(r&me.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=UR(e)&&Gd(e);u&&this.injectableDefInScope(u)?l=Ps(Dm(e),_d):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,r)}let a=r&me.Self?P_():this.parent;return t=r&me.Optional&&t===po?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[xd]=a[xd]||[]).unshift(rn(e)),o)throw a;return ER(a,e,"R3InjectorError",this.source)}else throw a}finally{tn(s),Rr(o)}}resolveInjectorInitializers(){let e=Ce(null),t=Rr(this),r=tn(void 0),i;try{let o=this.get(Fs,nn,me.Self);for(let s of o)s()}finally{Rr(t),tn(r),Ce(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Kt(e);let t=Vs(e)?e:Kt(e&&e.provide),r=LR(e);if(!Vs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ps(void 0,_d,!0),i.factory=()=>Im(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ce(null);try{return t.value===WE?zI(rn(e)):t.value===_d&&(t.value=WE,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&BR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ce(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Kt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Dm(n){let e=Gd(n),t=e!==null?e.factory:mo(n);if(t!==null)return t;if(n instanceof Q)throw new K(204,!1);if(n instanceof Function)return VR(n);throw new K(204,!1)}function VR(n){if(n.length>0)throw new K(204,!1);let t=uR(n);return t!==null?()=>t.factory(n):()=>new n}function LR(n){if(JI(n))return Ps(void 0,n.useValue);{let e=XI(n);return Ps(e,_d)}}function XI(n,e,t){let r;if(Vs(n)){let i=Kt(n);return mo(i)||Dm(i)}else if(JI(n))r=()=>Kt(n.useValue);else if(NR(n))r=()=>n.useFactory(...Im(n.deps||[]));else if(RR(n))r=(i,o)=>oe(Kt(n.useExisting),o!==void 0&&o&me.Optional?me.Optional:void 0);else{let i=Kt(n&&(n.useClass||n.provide));if(jR(n))r=()=>new i(...Im(n.deps));else return mo(i)||Dm(i)}return r}function Sc(n){if(n.destroyed)throw new K(205,!1)}function Ps(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jR(n){return!!n.deps}function BR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function UR(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function Tm(n,e){for(let t of n)Array.isArray(t)?Tm(t,e):t&&UI(t)?Tm(t.\u0275providers,e):e(t)}function Lt(n,e){let t;n instanceof Ac?(Sc(n),t=n):t=new Id(n);let r,i=Rr(t),o=tn(void 0);try{return e()}finally{Rr(i),tn(o)}}function ex(){return $I()!==void 0||Ec()!=null}function O_(n){if(!ex())throw new K(-203,!1)}function zR(n){return typeof n=="function"}var Hr=0,_e=1,ue=2,Vt=3,Un=4,$n=5,Md=6,Sd=7,on=8,Ls=9,jr=10,ut=11,kc=12,GE=13,qs=14,nr=15,vo=16,Os=17,Br=18,Yd=19,tx=20,Ci=21,lm=22,Pd=23,Sn=24,Rs=25,yn=26,nx=1;var bo=7,Od=8,js=9,_n=10;function Ei(n){return Array.isArray(n)&&typeof n[nx]=="object"}function Wr(n){return Array.isArray(n)&&n[nx]===!0}function rx(n){return(n.flags&4)!==0}function Hs(n){return n.componentOffset>-1}function A_(n){return(n.flags&1)===1}function rr(n){return!!n.template}function Ad(n){return(n[ue]&512)!==0}function Ws(n){return(n[ue]&256)===256}var Mm=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ix(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Di=(()=>{let n=()=>ox;return n.ngInherit=!0,n})();function ox(n){return n.type.prototype.ngOnChanges&&(n.setInput=qR),$R}function $R(){let n=ax(this),e=n?.current;if(e){let t=n.previous;if(t===_o)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function qR(n,e,t,r,i){let o=this.declaredInputs[r],s=ax(n)||HR(n,{previous:_o,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Mm(u&&u.currentValue,t,l===_o),ix(n,e,i,t)}var sx="__ngSimpleChanges__";function ax(n){return n[sx]||null}function HR(n,e){return n[sx]=e}var KE=null;var Le=function(n,e=null,t){KE?.(n,e,t)},WR="svg",GR="math";function ir(n){for(;Array.isArray(n);)n=n[Hr];return n}function cx(n,e){return ir(e[n])}function cr(n,e){return ir(e[n.index])}function lx(n,e){return n.data[e]}function k_(n,e){return n[e]}function KR(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function or(n,e){let t=e[n];return Ei(t)?t:t[Hr]}function QR(n){return(n[ue]&4)===4}function R_(n){return(n[ue]&128)===128}function YR(n){return Wr(n[Vt])}function kd(n,e){return e==null?null:n[e]}function ux(n){n[Os]=0}function dx(n){n[ue]&1024||(n[ue]|=1024,R_(n)&&Uc(n))}function ZR(n,e){for(;n>0;)e=e[qs],n--;return e}function Zd(n){return!!(n[ue]&9216||n[Sn]?.dirty)}function Sm(n){n[jr].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),Zd(n)&&Uc(n)}function Uc(n){n[jr].changeDetectionScheduler?.notify(0);let e=wo(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!R_(e)));)e=wo(e)}function hx(n,e){if(Ws(n))throw new K(911,!1);n[Ci]===null&&(n[Ci]=[]),n[Ci].push(e)}function JR(n,e){if(n[Ci]===null)return;let t=n[Ci].indexOf(e);t!==-1&&n[Ci].splice(t,1)}function wo(n){let e=n[Vt];return Wr(e)?e[Vt]:e}function N_(n){return n[Sd]??=[]}function F_(n){return n.cleanup??=[]}function XR(n,e,t,r){let i=N_(e);i.push(t),n.firstCreatePass&&F_(n).push(r,i.length-1)}var ye={lFrame:Cx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pm=!1;function eN(){return ye.lFrame.elementDepthCount}function tN(){ye.lFrame.elementDepthCount++}function nN(){ye.lFrame.elementDepthCount--}function fx(){return ye.bindingsEnabled}function rN(){return ye.skipHydrationRootTNode!==null}function iN(n){return ye.skipHydrationRootTNode===n}function oN(){ye.skipHydrationRootTNode=null}function Oe(){return ye.lFrame.lView}function St(){return ye.lFrame.tView}function N(n){return ye.lFrame.contextLView=n,n[on]}function F(n){return ye.lFrame.contextLView=null,n}function an(){let n=px();for(;n!==null&&n.type===64;)n=n.parent;return n}function px(){return ye.lFrame.currentTNode}function sN(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function zc(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function gx(){return ye.lFrame.isParent}function aN(){ye.lFrame.isParent=!1}function cN(){return ye.lFrame.contextLView}function mx(){return Pm}function QE(n){let e=Pm;return Pm=n,e}function _x(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function lN(n){return ye.lFrame.bindingIndex=n}function Jd(){return ye.lFrame.bindingIndex++}function yx(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uN(){return ye.lFrame.inI18n}function dN(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,Om(e)}function hN(){return ye.lFrame.currentDirectiveIndex}function Om(n){ye.lFrame.currentDirectiveIndex=n}function fN(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function vx(){return ye.lFrame.currentQueryIndex}function V_(n){ye.lFrame.currentQueryIndex=n}function pN(n){let e=n[_e];return e.type===2?e.declTNode:e.type===1?n[$n]:null}function bx(n,e,t){if(t&me.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&me.Host);)if(i=pN(o),i===null||(o=o[qs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=wx();return r.currentTNode=e,r.lView=n,!0}function L_(n){let e=wx(),t=n[_e];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function wx(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?Cx(n):e}function Cx(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Ex(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Ix=Ex;function j_(){let n=Ex();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gN(n){return(ye.lFrame.contextLView=ZR(n,ye.lFrame.contextLView))[on]}function To(){return ye.lFrame.selectedIndex}function Co(n){ye.lFrame.selectedIndex=n}function B_(){let n=ye.lFrame;return lx(n.tView,n.selectedIndex)}function mN(){return ye.lFrame.currentNamespace}var xx=!0;function U_(){return xx}function z_(n){xx=n}function _N(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ox(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Dx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function yd(n,e,t){Tx(n,e,3,t)}function vd(n,e,t,r){(n[ue]&3)===t&&Tx(n,e,t,r)}function um(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function Tx(n,e,t,r){let i=r!==void 0?n[Os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Os]+=65536),(a<o||o==-1)&&(yN(n,t,e,l),n[Os]=(n[Os]&4294901760)+l+2),l++}function YE(n,e){Le(4,n,e);let t=Ce(null);try{e.call(n)}finally{Ce(t),Le(5,n,e)}}function yN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[Os]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,YE(a,o)):YE(a,o)}var Ns=-1,Eo=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function vN(n){return(n.flags&8)!==0}function bN(n){return(n.flags&16)!==0}function wN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];CN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Mx(n){return n===3||n===4||n===6}function CN(n){return n.charCodeAt(0)===64}function Rc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ZE(n,t,i,null,e[++r]):ZE(n,t,i,null,null))}}return n}function ZE(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Sx(n){return n!==Ns}function Rd(n){return n&32767}function EN(n){return n>>16}function Nd(n,e){let t=EN(n),r=e;for(;t>0;)r=r[qs],t--;return r}var Am=!0;function Fd(n){let e=Am;return Am=n,e}var IN=256,Px=IN-1,Ox=5,xN=0,tr={};function DN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oc)&&(r=t[Oc]),r==null&&(r=t[Oc]=xN++);let i=r&Px,o=1<<i;e.data[n+(i>>Ox)]|=o}function Vd(n,e){let t=Ax(n,e);if(t!==-1)return t;let r=e[_e];r.firstCreatePass&&(n.injectorIndex=e.length,dm(r.data,n),dm(e,null),dm(r.blueprint,null));let i=$_(n,e),o=n.injectorIndex;if(Sx(i)){let s=Rd(i),a=Nd(i,e),l=a[_e].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function dm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ax(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function $_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Vx(i),r===null)return Ns;if(t++,i=i[qs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ns}function km(n,e,t){DN(n,e,t)}function TN(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Mx(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kx(n,e,t){if(t&me.Optional||n!==void 0)return n;D_(e,"NodeInjector")}function Rx(n,e,t,r){if(t&me.Optional&&r===void 0&&(r=null),(t&(me.Self|me.Host))===0){let i=n[Ls],o=tn(void 0);try{return i?i.get(e,r,t&me.Optional):qI(e,r,t&me.Optional)}finally{tn(o)}}return kx(r,e,t)}function Nx(n,e,t,r=me.Default,i){if(n!==null){if(e[ue]&2048&&!(r&me.Self)){let s=ON(n,e,t,r,tr);if(s!==tr)return s}let o=Fx(n,e,t,r,tr);if(o!==tr)return o}return Rx(e,t,r,i)}function Fx(n,e,t,r,i){let o=SN(t);if(typeof o=="function"){if(!bx(e,n,r))return r&me.Host?kx(i,t,r):Rx(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))D_(t);else return s}finally{Ix()}}else if(typeof o=="number"){let s=null,a=Ax(n,e),l=Ns,u=r&me.Host?e[nr][$n]:null;for((a===-1||r&me.SkipSelf)&&(l=a===-1?$_(n,e):e[a+8],l===Ns||!XE(r,!1)?a=-1:(s=e[_e],a=Rd(l),e=Nd(l,e)));a!==-1;){let h=e[_e];if(JE(o,a,h.data)){let p=MN(a,e,t,s,r,u);if(p!==tr)return p}l=e[a+8],l!==Ns&&XE(r,e[_e].data[a+8]===u)&&JE(o,a,e)?(s=h,a=Rd(l),e=Nd(l,e)):a=-1}}return i}function MN(n,e,t,r,i,o){let s=e[_e],a=s.data[n+8],l=r==null?Hs(a)&&Am:r!=s&&(a.type&3)!==0,u=i&me.Host&&o===a,h=bd(a,s,t,l,u);return h!==null?Nc(e,s,h,a,i):tr}function bd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:u;for(let v=p;v<y;v++){let T=s[v];if(v<l&&t===T||v>=l&&T.type===t)return v}if(i){let v=s[l];if(v&&rr(v)&&v.type===t)return l}return null}function Nc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Eo){let a=o;a.resolving&&zI(mR(s[t]));let l=Fd(a.canSeeViewProviders);a.resolving=!0;let u,h=a.injectImpl?tn(a.injectImpl):null,p=bx(n,r,me.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&_N(t,s[t],e)}finally{h!==null&&tn(h),Fd(l),a.resolving=!1,Ix()}}return o}function SN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oc)?n[Oc]:void 0;return typeof e=="number"?e>=0?e&Px:PN:e}function JE(n,e,t){let r=1<<n;return!!(t[e+(n>>Ox)]&r)}function XE(n,e){return!(n&me.Self)&&!(n&me.Host&&e)}var go=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Nx(this._tNode,this._lView,e,Kd(r),t)}};function PN(){return new go(an(),Oe())}function vn(n){return Lc(()=>{let e=n.prototype.constructor,t=e[Ed]||Rm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ed]||Rm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rm(n){return VI(n)?()=>{let e=Rm(Kt(n));return e&&e()}:mo(n)}function ON(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!Ad(s);){let a=Fx(o,s,t,r|me.Self,tr);if(a!==tr)return a;let l=o.parent;if(!l){let u=s[tx];if(u){let h=u.get(t,tr,r);if(h!==tr)return h}l=Vx(s),s=s[qs]}o=l}return i}function Vx(n){let e=n[_e],t=e.type;return t===2?e.declTNode:t===1?n[$n]:null}function q_(n){return TN(an(),n)}function eI(n,e=null,t=null,r){let i=Lx(n,e,t,r);return i.resolveInjectorInitializers(),i}function Lx(n,e=null,t=null,r,i=new Set){let o=[t||nn,AR(n)];return r=r||(typeof n=="object"?void 0:rn(n)),new Ac(o,e||P_(),r||null,i)}var Je=class n{static THROW_IF_NOT_FOUND=po;static NULL=new Td;static create(e,t){if(Array.isArray(e))return eI({name:""},t,e,"");{let r=e.name??"";return eI({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:n,providedIn:"any",factory:()=>oe(GI)});static __NG_ELEMENT_ID__=-1};var AN=new Q("");AN.__NG_ELEMENT_ID__=n=>{let e=an();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&me.Optional)return null;throw new K(204,!1)};var jx=!1,Gs=(()=>{class n{static __NG_ELEMENT_ID__=kN;static __NG_ENV_ID__=t=>t}return n})(),Nm=class extends Gs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Ws(t)?(e(),()=>{}):(hx(t,e),()=>JR(t,e))}};function kN(){return new Nm(Oe())}var Io=class{},Xd=new Q("",{providedIn:"root",factory:()=>!1});var Bx=new Q(""),Ux=new Q(""),Mo=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Tt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),eh=(()=>{class n{internalPendingTasks=V(Mo);scheduler=V(Io);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return w(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),Fm=class extends rt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ex()&&(this.destroyRef=V(Gs,{optional:!0})??void 0,this.pendingTasks=V(Mo,{optional:!0})??void 0)}emit(e){let t=Ce(null);try{super.next(e)}finally{Ce(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ze&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ot=Fm;function Ld(...n){}function zx(n){let e,t;function r(){n=Ld;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function tI(n){return queueMicrotask(()=>n()),()=>{n=Ld}}var H_="isAngularZone",jd=H_+"_ID",RN=0,Pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ot(!1);onMicrotaskEmpty=new ot(!1);onStable=new ot(!1);onError=new ot(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jx}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,VN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(H_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NN,Ld,Ld);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},NN={};function W_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function FN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){zx(()=>{n.callbackScheduled=!1,Vm(n),n.isCheckStableRunning=!0,W_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Vm(n)}function VN(n){let e=()=>{FN(n)},t=RN++;n._inner=n._inner.fork({name:"angular",properties:{[H_]:!0,[jd]:t,[jd+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(LN(l))return r.invokeTask(o,s,a,l);try{return nI(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),rI(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return nI(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!jN(l)&&e(),rI(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Vm(n),W_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Vm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function nI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rI(n){n._nesting--,W_(n)}var Lm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ot;onMicrotaskEmpty=new ot;onStable=new ot;onError=new ot;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function LN(n){return $x(n,"__ignore_ng_zone__")}function jN(n){return $x(n,"__scheduler_tick__")}function $x(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var sr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},BN=new Q("",{providedIn:"root",factory:()=>{let n=V(Pe),e=V(sr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function iI(n,e){return NI(n,e)}function UN(n){return NI(RI,n)}var qx=(iI.required=UN,iI);function zN(){return Ks(an(),Oe())}function Ks(n,e){return new cn(cr(n,e))}var cn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=zN}return n})();function $N(n){return n instanceof cn?n.nativeElement:n}function qN(n){return typeof n=="function"&&n[Tn]!==void 0}function Qs(n,e){let t=Lg(n,e?.equal),r=t[Tn];return t.set=i=>Cc(r,i),t.update=i=>jg(r,i),t.asReadonly=HN.bind(t),t}function HN(){let n=this[Tn];if(n.readonlyFn===void 0){let e=()=>this();e[Tn]=n,n.readonlyFn=e}return n.readonlyFn}function Hx(n){return qN(n)&&typeof n.set=="function"}function WN(){return this._results[Symbol.iterator]()}var jm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new rt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=TR(e);(this._changesDetected=!DR(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=WN};function Wx(n){return(n.flags&128)===128}var Gx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Gx||{}),Kx=new Map,GN=0;function KN(){return GN++}function QN(n){Kx.set(n[Yd],n)}function Bm(n){Kx.delete(n[Yd])}var oI="__ngContext__";function $c(n,e){Ei(e)?(n[oI]=e[Yd],QN(e)):n[oI]=e}function Qx(n){return Zx(n[kc])}function Yx(n){return Zx(n[Un])}function Zx(n){for(;n!==null&&!Wr(n);)n=n[Un];return n}var Um;function Jx(n){Um=n}function Xx(){if(Um!==void 0)return Um;if(typeof document<"u")return document;throw new K(210,!1)}var G_=new Q("",{providedIn:"root",factory:()=>YN}),YN="ng",K_=new Q(""),Ti=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Q_=new Q("",{providedIn:"root",factory:()=>Xx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZN="h",JN="b";var eD=!1,XN=new Q("",{providedIn:"root",factory:()=>eD});var Y_=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Y_||{}),Ys=new Q(""),sI=new Set;function Zs(n){sI.has(n)||(sI.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var tD=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=e2}return n})();function e2(){return new tD(Oe(),an())}var As=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(As||{}),nD=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),t2=[As.EarlyRead,As.Write,As.MixedReadWrite,As.Read],n2=(()=>{class n{ngZone=V(Pe);scheduler=V(Io);errorHandler=V(sr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){V(Ys,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Le(16),this.executing=!0;for(let r of t2)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Le(17)}register(t){let{view:r}=t;r!==void 0?((r[Rs]??=[]).push(t),Uc(r),r[ue]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Y_.AFTER_NEXT_RENDER,t):t()}static \u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}return n})(),zm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Rs];e&&(this.view[Rs]=e.filter(t=>t!==this))}};function Z_(n,e){!e?.injector&&O_(Z_);let t=e?.injector??V(Je);return Zs("NgAfterNextRender"),i2(n,t,e,!0)}function r2(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function i2(n,e,t,r){let i=e.get(nD);i.impl??=e.get(n2);let o=e.get(Ys,null,{optional:!0}),s=t?.phase??As.MixedReadWrite,a=t?.manualCleanup!==!0?e.get(Gs):null,l=e.get(tD,null,{optional:!0}),u=new zm(i.impl,r2(n,s),l?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}var o2=(n,e,t,r)=>{};function s2(n,e,t,r){o2(n,e,t,r)}var a2=()=>null;function rD(n,e,t=!1){return a2(n,e,t)}function iD(n,e){let t=n.contentQueries;if(t!==null){let r=Ce(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];V_(o),a.contentQueries(2,e[s],s)}}}finally{Ce(r)}}}function $m(n,e,t){V_(0);let r=Ce(null);try{e(n,t)}finally{Ce(r)}}function oD(n,e,t){if(rx(e)){let r=Ce(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{Ce(r)}}}var ar=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ar||{});var fd;function c2(){if(fd===void 0&&(fd=null,er.trustedTypes))try{fd=er.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return fd}function th(n){return c2()?.createHTML(n)||n}var pd;function sD(){if(pd===void 0&&(pd=null,er.trustedTypes))try{pd=er.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pd}function aI(n){return sD()?.createHTML(n)||n}function cI(n){return sD()?.createScriptURL(n)||n}var Ur=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kI})`}},qm=class extends Ur{getTypeName(){return"HTML"}},Hm=class extends Ur{getTypeName(){return"Style"}},Wm=class extends Ur{getTypeName(){return"Script"}},Gm=class extends Ur{getTypeName(){return"URL"}},Km=class extends Ur{getTypeName(){return"ResourceURL"}};function Pn(n){return n instanceof Ur?n.changingThisBreaksApplicationSecurity:n}function Gr(n,e){let t=l2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${kI})`)}return t===e}function l2(n){return n instanceof Ur&&n.getTypeName()||null}function aD(n){return new qm(n)}function cD(n){return new Hm(n)}function lD(n){return new Wm(n)}function uD(n){return new Gm(n)}function dD(n){return new Km(n)}function u2(n){let e=new Ym(n);return d2()?new Qm(e):e}var Qm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(th(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Ym=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=th(e),t}};function d2(){try{return!!new window.DOMParser().parseFromString(th(""),"text/html")}catch{return!1}}var h2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nh(n){return n=String(n),n.match(h2)?n:"unsafe:"+n}function Kr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function qc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var hD=Kr("area,br,col,hr,img,wbr"),fD=Kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pD=Kr("rp,rt"),f2=qc(pD,fD),p2=qc(fD,Kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),g2=qc(pD,Kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lI=qc(hD,p2,g2,f2),gD=Kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m2=Kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_2=Kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),y2=qc(gD,m2,_2),v2=Kr("script,style,template"),Zm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=C2(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=w2(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=uI(e).toLowerCase();if(!lI.hasOwnProperty(t))return this.sanitizedSomething=!0,!v2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!y2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;gD[a]&&(l=nh(l)),this.buf.push(" ",s,'="',dI(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=uI(e).toLowerCase();lI.hasOwnProperty(t)&&!hD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(dI(e))}};function b2(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function w2(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw mD(e);return e}function C2(n){let e=n.firstChild;if(e&&b2(n,e))throw mD(e);return e}function uI(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function mD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var E2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I2=/([^\#-~ |!])/g;function dI(n){return n.replace(/&/g,"&amp;").replace(E2,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(I2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gd;function J_(n,e){let t=null;try{gd=gd||u2(n);let r=e?String(e):"";t=gd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=gd.getInertBodyElement(r)}while(r!==o);let a=new Zm().sanitizeChildren(hI(t)||t);return th(a)}finally{if(t){let r=hI(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function hI(n){return"content"in n&&x2(n)?n.content:null}function x2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}function D2(n,e){return n.createText(e)}function T2(n,e,t){n.setValue(e,t)}function _D(n,e,t){return n.createElement(e,t)}function Bd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function yD(n,e,t){n.appendChild(e,t)}function fI(n,e,t,r,i){r!==null?Bd(n,e,t,r,i):yD(n,e,t)}function M2(n,e,t){n.removeChild(null,e,t)}function S2(n,e,t){n.setAttribute(e,"style",t)}function P2(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wN(n,e,r),i!==null&&P2(n,e,i),o!==null&&S2(n,e,o)}var qn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(qn||{});function rh(n){let e=ey();return e?aI(e.sanitize(qn.HTML,n)||""):Gr(n,"HTML")?aI(Pn(n)):J_(Xx(),jc(n))}function X_(n){let e=ey();return e?e.sanitize(qn.URL,n)||"":Gr(n,"URL")?Pn(n):nh(jc(n))}function O2(n){let e=ey();if(e)return cI(e.sanitize(qn.RESOURCE_URL,n)||"");if(Gr(n,"ResourceURL"))return cI(Pn(n));throw new K(904,!1)}var A2=new Set(["embed","frame","iframe","media","script"]),k2=new Set(["base","link","script"]);function R2(n,e){return e==="src"&&A2.has(n)||e==="href"&&k2.has(n)||e==="xlink:href"&&n==="script"?O2:X_}function bD(n,e,t){return R2(e,t)(n)}function ey(){let n=Oe();return n&&n[jr].sanitizer}function wD(n){return n instanceof Function?n():n}function N2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var CD="ng-template";function F2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&N2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ty(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ty(n){return n.type===4&&n.value!==CD}function V2(n,e,t){let r=n.type===4&&!t?CD:n.value;return e===r}function L2(n,e,t){let r=4,i=n.attrs,o=i!==null?U2(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!jn(r)&&!jn(l))return!1;if(s&&jn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!V2(n,l,t)||l===""&&e.length===1){if(jn(r))return!1;s=!0}}else if(r&8){if(i===null||!F2(n,i,l,t)){if(jn(r))return!1;s=!0}}else{let u=e[++a],h=j2(l,i,ty(n),t);if(h===-1){if(jn(r))return!1;s=!0;continue}if(u!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&u!==p){if(jn(r))return!1;s=!0}}}}return jn(r)||s}function jn(n){return(n&1)===0}function j2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return z2(e,n)}function B2(n,e,t=!1){for(let r=0;r<e.length;r++)if(L2(n,e[r],t))return!0;return!1}function U2(n){for(let e=0;e<n.length;e++){let t=n[e];if(Mx(t))return e}return n.length}function z2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function pI(n,e){return n?":not("+e.trim()+")":e}function $2(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jn(s)&&(e+=pI(o,i),i=""),r=s,o=o||!jn(r);t++}return i!==""&&(e+=pI(o,i)),e}function q2(n){return n.map($2).join(",")}function H2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!jn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Qr={};function ny(n,e,t,r,i,o,s,a,l,u,h){let p=yn+r,y=p+i,v=W2(p,y),T=typeof u=="function"?u():u;return v[_e]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:T,incompleteFirstPass:!1,ssrId:h}}function W2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qr);return t}function G2(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ny(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ry(n,e,t,r,i,o,s,a,l,u,h){let p=e.blueprint.slice();return p[Hr]=i,p[ue]=r|4|128|8|64|1024,(u!==null||n&&n[ue]&2048)&&(p[ue]|=2048),ux(p),p[Vt]=p[qs]=n,p[on]=t,p[jr]=s||n&&n[jr],p[ut]=a||n&&n[ut],p[Ls]=l||n&&n[Ls]||null,p[$n]=o,p[Yd]=KN(),p[Md]=h,p[tx]=u,p[nr]=e.type==2?n[nr]:p,p}function K2(n,e,t){let r=cr(e,n),i=G2(t),o=n[jr].rendererFactory,s=iy(n,ry(n,i,null,ED(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function ED(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ID(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function iy(n,e){return n[kc]?n[GE][Un]=e:n[kc]=e,n[GE]=e,e}function x(n=1){xD(St(),Oe(),To()+n,!1)}function xD(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&yd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&vd(e,o,0,t)}Co(t)}var ih=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ih||{});function Jm(n,e,t,r){let i=Ce(null);try{let[o,s,a]=n.inputs[t],l=null;(s&ih.SignalBased)!==0&&(l=e[o][Tn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):ix(e,l,o,r)}finally{Ce(i)}}function DD(n,e,t,r,i){let o=To(),s=r&2;try{Co(-1),s&&e.length>yn&&xD(n,e,yn,!1),Le(s?2:0,i),t(r,i)}finally{Co(o),Le(s?3:1,i)}}function oy(n,e,t){eF(n,e,t),(t.flags&64)===64&&tF(n,e,t)}function TD(n,e,t=cr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function Q2(n,e,t,r){let o=r.get(XN,eD)||t===ar.ShadowDom,s=n.selectRootElement(e,o);return Y2(s),s}function Y2(n){Z2(n)}var Z2=()=>null;function J2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function MD(n,e,t,r,i,o,s,a){if(!a&&sy(e,n,t,r,i)){Hs(e)&&X2(t,e.index);return}if(e.type&3){let l=cr(e,t);r=J2(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)}else e.type&12}function X2(n,e){let t=or(e,n);t[ue]&16||(t[ue]|=64)}function eF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Hs(t)&&K2(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Nc(e,n,s,t);if($c(l,e),o!==null&&oF(e,s-r,l,a,t,o),rr(a)){let u=or(t.index,e);u[on]=Nc(e,n,s,t)}}}function tF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=hN();try{Co(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Om(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&nF(l,u)}}finally{Co(-1),Om(s)}}function nF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function SD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];B2(e,o.selectors,!1)&&(r??=[],rr(o)?r.unshift(o):r.push(o))}return r}function rF(n,e,t,r,i,o){let s=cr(n,e);iF(e[ut],s,o,n.value,t,r,i)}function iF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?jc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function oF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Jm(r,t,l,u)}}function sF(n,e){let t=n[Ls],r=t?t.get(sr,null):null;r&&r.handleError(e)}function sy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],p=e.data[u];Jm(p,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];Jm(h,u,r,i),a=!0}return a}function aF(n,e){let t=or(e,n),r=t[_e];cF(r,t);let i=t[Hr];i!==null&&t[Md]===null&&(t[Md]=rD(i,t[Ls])),Le(18),ay(r,t,t[on]),Le(19,t[on])}function cF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ay(n,e,t){L_(e);try{let r=n.viewQuery;r!==null&&$m(1,r,t);let i=n.template;i!==null&&DD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Br]?.finishViewCreation(n),n.staticContentQueries&&iD(n,e),n.staticViewQueries&&$m(2,n.viewQuery,t);let o=n.components;o!==null&&lF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,j_()}}function lF(n,e){for(let t=0;t<e.length;t++)aF(n,e[t])}function uF(n,e,t,r){let i=Ce(null);try{let o=e.tView,a=n[ue]&4096?4096:16,l=ry(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[vo]=u;let h=n[Br];return h!==null&&(l[Br]=h.createEmbeddedView(o)),ay(o,l,t),l}finally{Ce(i)}}function gI(n,e){return!e||e.firstChild===null||Wx(n)}var dF;function cy(n,e){return dF(n,e)}var zr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(zr||{});function PD(n){return(n.flags&32)===32}function ks(n,e,t,r,i){if(r!=null){let o,s=!1;Wr(r)?o=r:Ei(r)&&(s=!0,r=r[Hr]);let a=ir(r);n===0&&t!==null?i==null?yD(e,t,a):Bd(e,t,a,i||null,!0):n===1&&t!==null?Bd(e,t,a,i||null,!0):n===2?M2(e,a,s):n===3&&e.destroyNode(a),o!=null&&EF(e,n,o,t,i)}}function hF(n,e){OD(n,e),e[Hr]=null,e[$n]=null}function fF(n,e,t,r,i,o){r[Hr]=i,r[$n]=e,oh(n,r,t,1,i,o)}function OD(n,e){e[jr].changeDetectionScheduler?.notify(9),oh(n,e,e[ut],2,null,null)}function pF(n){let e=n[kc];if(!e)return hm(n[_e],n);for(;e;){let t=null;if(Ei(e))t=e[kc];else{let r=e[_n];r&&(t=r)}if(!t){for(;e&&!e[Un]&&e!==n;)Ei(e)&&hm(e[_e],e),e=e[Vt];e===null&&(e=n),Ei(e)&&hm(e[_e],e),t=e&&e[Un]}e=t}}function ly(n,e){let t=n[js],r=t.indexOf(e);t.splice(r,1)}function AD(n,e){if(Ws(e))return;let t=e[ut];t.destroyNode&&oh(n,e,t,3,null,null),pF(e)}function hm(n,e){if(Ws(e))return;let t=Ce(null);try{e[ue]&=-129,e[ue]|=256,e[Sn]&&Ng(e[Sn]),mF(n,e),gF(n,e),e[_e].type===1&&e[ut].destroy();let r=e[vo];if(r!==null&&Wr(e[Vt])){r!==e[Vt]&&ly(r,e);let i=e[Br];i!==null&&i.detachView(n)}Bm(e)}finally{Ce(t)}}function gF(n,e){let t=n.cleanup,r=e[Sd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Sd]=null);let i=e[Ci];if(i!==null){e[Ci]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Pd];if(o!==null){e[Pd]=null;for(let s of o)s.destroy()}}function mF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Eo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Le(4,a,l);try{l.call(a)}finally{Le(5,a,l)}}else{Le(4,i,o);try{o.call(i)}finally{Le(5,i,o)}}}}}function _F(n,e,t){return yF(n,e.parent,t)}function yF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Hr];if(Hs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ar.None||i===ar.Emulated)return null}return cr(r,t)}function vF(n,e,t){return wF(n,e,t)}function bF(n,e,t){return n.type&40?cr(n,t):null}var wF=bF,mI;function uy(n,e,t,r){let i=_F(n,r,e),o=e[ut],s=r.parent||e[$n],a=vF(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)fI(o,i,t[l],a,!1);else fI(o,i,t,a,!1);mI!==void 0&&mI(o,r,e,t,i)}function Pc(n,e){if(e!==null){let t=e.type;if(t&3)return cr(e,n);if(t&4)return Xm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Pc(n,r);{let i=n[e.index];return Wr(i)?Xm(-1,i):ir(i)}}else{if(t&128)return Pc(n,e.next);if(t&32)return cy(e,n)()||ir(n[e.index]);{let r=kD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wo(n[nr]);return Pc(i,r)}else return Pc(n,e.next)}}}return null}function kD(n,e){if(e!==null){let r=n[nr][$n],i=e.projection;return r.projection[i]}return null}function Xm(n,e){let t=_n+n+1;if(t<e.length){let r=e[t],i=r[_e].firstChild;if(i!==null)return Pc(r,i)}return e[bo]}function dy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],l=t.type;if(s&&e===0&&(a&&$c(ir(a),r),t.flags|=2),!PD(t))if(l&8)dy(n,e,t.child,r,i,o,!1),ks(e,n,i,a,o);else if(l&32){let u=cy(t,r),h;for(;h=u();)ks(e,n,i,h,o);ks(e,n,i,a,o)}else l&16?CF(n,e,r,t,i,o):ks(e,n,i,a,o);t=s?t.projectionNext:t.next}}function oh(n,e,t,r,i,o){dy(t,r,n.firstChild,e,i,o,!1)}function CF(n,e,t,r,i,o){let s=t[nr],l=s[$n].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];ks(e,n,i,h,o)}else{let u=l,h=s[Vt];Wx(r)&&(u.flags|=128),dy(n,e,u,h,i,o,!0)}}function EF(n,e,t,r,i){let o=t[bo],s=ir(t);o!==s&&ks(e,n,r,o,i);for(let a=_n;a<t.length;a++){let l=t[a];oh(l[_e],l,n,e,r,o)}}function IF(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zr.Important),n.setStyle(t,r,i,o))}}function Ud(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ir(o)),Wr(o)&&xF(o,r);let s=t.type;if(s&8)Ud(n,e,t.child,r);else if(s&32){let a=cy(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=kD(e,t);if(Array.isArray(a))r.push(...a);else{let l=wo(e[nr]);Ud(l[_e],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xF(n,e){for(let t=_n;t<n.length;t++){let r=n[t],i=r[_e].firstChild;i!==null&&Ud(r[_e],r,i,e)}n[bo]!==n[Hr]&&e.push(n[bo])}function RD(n){if(n[Rs]!==null){for(let e of n[Rs])e.impl.addSequence(e);n[Rs].length=0}}var ND=[];function DF(n){return n[Sn]??TF(n)}function TF(n){let e=ND.pop()??Object.create(SF);return e.lView=n,e}function MF(n){n.lView[Sn]!==n&&(n.lView=null,ND.push(n))}var SF=le(z({},bc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Uc(n.lView)},consumerOnSignalRead(){this.lView[Sn]=this}});function PF(n){let e=n[Sn]??Object.create(OF);return e.lView=n,e}var OF=le(z({},bc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=wo(n.lView);for(;e&&!FD(e[_e]);)e=wo(e);e&&dx(e)},consumerOnSignalRead(){this.lView[Sn]=this}});function FD(n){return n.type!==2}function VD(n){if(n[Pd]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Pd])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var AF=100;function LD(n,e=!0,t=0){let i=n[jr].rendererFactory,o=!1;o||i.begin?.();try{kF(n,t)}catch(s){throw e&&sF(n,s),s}finally{o||i.end?.()}}function kF(n,e){let t=mx();try{QE(!0),e_(n,e);let r=0;for(;Zd(n);){if(r===AF)throw new K(103,!1);r++,e_(n,1)}}finally{QE(t)}}function RF(n,e,t,r){if(Ws(e))return;let i=e[ue],o=!1,s=!1;L_(e);let a=!0,l=null,u=null;o||(FD(n)?(u=DF(e),l=Vu(u)):Sg()===null?(a=!1,u=PF(e),l=Vu(u)):e[Sn]&&(Ng(e[Sn]),e[Sn]=null));try{ux(e),lN(n.bindingStartIndex),t!==null&&DD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let v=n.preOrderCheckHooks;v!==null&&yd(e,v,null)}else{let v=n.preOrderHooks;v!==null&&vd(e,v,0,null),um(e,0)}if(s||NF(e),VD(e),jD(e,0),n.contentQueries!==null&&iD(n,e),!o)if(h){let v=n.contentCheckHooks;v!==null&&yd(e,v)}else{let v=n.contentHooks;v!==null&&vd(e,v,1),um(e,1)}VF(n,e);let p=n.components;p!==null&&UD(e,p,0);let y=n.viewQuery;if(y!==null&&$m(2,y,r),!o)if(h){let v=n.viewCheckHooks;v!==null&&yd(e,v)}else{let v=n.viewHooks;v!==null&&vd(e,v,2),um(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[lm]){for(let v of e[lm])v();e[lm]=null}o||(RD(e),e[ue]&=-73)}catch(h){throw o||Uc(e),h}finally{u!==null&&(kg(u,l),a&&MF(u)),j_()}}function jD(n,e){for(let t=Qx(n);t!==null;t=Yx(t))for(let r=_n;r<t.length;r++){let i=t[r];BD(i,e)}}function NF(n){for(let e=Qx(n);e!==null;e=Yx(e)){if(!(e[ue]&2))continue;let t=e[js];for(let r=0;r<t.length;r++){let i=t[r];dx(i)}}}function FF(n,e,t){Le(18);let r=or(e,n);BD(r,t),Le(19,r[on])}function BD(n,e){R_(n)&&e_(n,e)}function e_(n,e){let r=n[_e],i=n[ue],o=n[Sn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Rg(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)RF(r,n,r.template,n[on]);else if(i&8192){VD(n),jD(n,1);let a=r.components;a!==null&&UD(n,a,1),RD(n)}}function UD(n,e,t){for(let r=0;r<e.length;r++)FF(n,e[r],t)}function VF(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Co(~i);else{let o=i,s=t[++r],a=t[++r];dN(s,o);let l=e[o];Le(24,l),a(2,l),Le(25,l)}}}finally{Co(-1)}}function hy(n,e){let t=mx()?64:1088;for(n[jr].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=wo(n);if(Ad(n)&&!r)return n;n=r}return null}function zD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function LF(n,e,t,r=!0){let i=e[_e];if(jF(i,e,n,t),r){let s=Xm(t,n),a=e[ut],l=a.parentNode(n[bo]);l!==null&&fF(i,n[$n],a,e,l,s)}let o=e[Md];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function t_(n,e){if(n.length<=_n)return;let t=_n+e,r=n[t];if(r){let i=r[vo];i!==null&&i!==n&&ly(i,r),e>0&&(n[t-1][Un]=r[Un]);let o=Dd(n,_n+e);hF(r[_e],r);let s=o[Br];s!==null&&s.detachView(o[_e]),r[Vt]=null,r[Un]=null,r[ue]&=-129}return r}function jF(n,e,t,r){let i=_n+r,o=t.length;r>0&&(t[i-1][Un]=e),r<o-_n?(e[Un]=t[i],WI(t,_n+r,e)):(t.push(e),e[Un]=null),e[Vt]=t;let s=e[vo];s!==null&&t!==s&&$D(s,e);let a=e[Br];a!==null&&a.insertView(n),Sm(e),e[ue]|=128}function $D(n,e){let t=n[js],r=e[Vt];if(Ei(r))n[ue]|=2;else{let i=r[Vt][nr];e[nr]!==i&&(n[ue]|=2)}t===null?n[js]=[e]:t.push(e)}var Fc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[_e];return Ud(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[on]}set context(e){this._lView[on]=e}get destroyed(){return Ws(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Vt];if(Wr(e)){let t=e[Od],r=t?t.indexOf(this):-1;r>-1&&(t_(e,r),Dd(t,r))}this._attachedToViewContainer=!1}AD(this._lView[_e],this._lView)}onDestroy(e){hx(this._lView,e)}markForCheck(){hy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){Sm(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,LD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ad(this._lView),t=this._lView[vo];t!==null&&!e&&ly(t,this._lView),OD(this._lView[_e],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=Ad(this._lView),r=this._lView[vo];r!==null&&!t&&$D(r,this._lView),Sm(this._lView)}};var xo=(()=>{class n{static __NG_ELEMENT_ID__=zF}return n})(),BF=xo,UF=class extends BF{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=uF(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Fc(i)}};function zF(){return sh(an(),Oe())}function sh(n,e){return n.type&4?new UF(e,n,Ks(n,e)):null}function fy(n,e,t,r,i){let o=n.data[e];if(o===null)o=$F(n,e,t,r,i),uN()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=sN();o.injectorIndex=s===null?-1:s.injectorIndex}return zc(o,!0),o}function $F(n,e,t,r,i){let o=px(),s=gx(),a=s?o:o&&o.parent,l=n.data[e]=HF(n,a,t,e,r,i);return qF(n,l,o,s),l}function qF(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function HF(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return rN()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var SQ=new RegExp(`^(\\d+)*(${JN}|${ZN})*(.*)`);var WF=()=>null;function _I(n,e){return WF(n,e)}var GF=class{},qD=class{},n_=class{resolveComponentFactory(e){throw Error(`No component factory found for ${rn(e)}.`)}},ah=class{static NULL=new n_},Bs=class{},lr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>KF()}return n})();function KF(){let n=Oe(),e=an(),t=or(e.index,n);return(Ei(t)?t:n)[ut]}var QF=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>null})}return n})();var fm={},r_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Kd(r);let i=this.injector.get(e,fm,r);return i!==fm||t===fm?i:this.parentInjector.get(e,t,r)}};function yI(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wm(i,a);else if(o==2){let l=a,u=e[++s];r=wm(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function W(n,e=me.Default){let t=Oe();if(t===null)return oe(n,e);let r=an();return Nx(r,t,Kt(n),e)}function HD(){let n="invalid";throw new Error(n)}function WD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,l=null,u=null,h=ZF(s);h===null?a=s:[a,l,u]=h,eV(n,e,t,a,o,l,u)}o!==null&&r!==null&&YF(t,r,o)}function YF(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new K(-301,!1);r.push(e[i],o)}}function ZF(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&rr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,JF(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function JF(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function XF(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function eV(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let y=0;y<a;y++){let v=r[y];!l&&rr(v)&&(l=!0,XF(n,t,y)),km(Vd(t,e),n,v.type)}sV(t,n.data.length,a);for(let y=0;y<a;y++){let v=r[y];v.providersResolver&&v.providersResolver(v)}let u=!1,h=!1,p=ID(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){let v=r[y];if(t.mergedAttrs=Rc(t.mergedAttrs,v.hostAttrs),nV(n,t,e,p,v),oV(p,v,i),s!==null&&s.has(v)){let[k,R]=s.get(v);t.directiveToIndex.set(v.type,[p,k+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(v))&&t.directiveToIndex.set(v.type,p);v.contentQueries!==null&&(t.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(t.flags|=64);let T=v.type.prototype;!u&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}tV(n,t,o)}function tV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))vI(0,e,i,r),vI(1,e,i,r),wI(e,r,!1);else{let o=t.get(i);bI(0,e,o,r),bI(1,e,o,r),wI(e,r,!0)}}}function vI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),GD(e,o)}}function bI(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),GD(e,s)}}function GD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function wI(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||ty(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function nV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=mo(i.type,!0)),s=new Eo(o,rr(i),W);n.blueprint[r]=s,t[r]=s,rV(n,e,r,ID(n,t,i.hostVars,Qr),i)}function rV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;iV(s)!=a&&s.push(a),s.push(t,r,o)}}function iV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function oV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;rr(e)&&(t[""]=n)}}function sV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function KD(n,e,t,r,i,o,s,a){let l=e.consts,u=kd(l,s),h=fy(e,n,2,r,u);return o&&WD(e,t,h,kd(l,a),i),h.mergedAttrs=Rc(h.mergedAttrs,h.attrs),h.attrs!==null&&yI(h,h.attrs,!1),h.mergedAttrs!==null&&yI(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function QD(n,e){Dx(n,e),rx(e)&&n.queries.elementEnd(e)}var zd=class extends ah{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=yo(e);return new Us(t,this.ngModule)}};function aV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&ih.SignalBased)!==0};return i&&(o.transform=i),o})}function cV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function lV(n,e,t){let r=e instanceof Ft?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new r_(t,r):t}function uV(n){let e=n.get(Bs,null);if(e===null)throw new K(407,!1);let t=n.get(QF,null),r=n.get(Io,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function dV(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return _D(e,t,t==="svg"?WR:t==="math"?GR:null)}var Us=class extends qD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=aV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=cV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=q2(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Le(22);let o=Ce(null);try{let s=this.componentDef,a=r?["ng-version","19.2.18"]:H2(this.componentDef.selectors[0]),l=ny(0,null,null,1,0,null,null,null,null,[a],null),u=lV(s,i||this.ngModule,e),h=uV(u),p=h.rendererFactory.createRenderer(null,s),y=r?Q2(p,r,s.encapsulation,u):dV(s,p),v=ry(null,l,null,512|ED(s),null,null,h,p,u,null,rD(y,u,!0));v[yn]=y,L_(v);let T=null;try{let k=KD(yn,l,v,"#host",()=>[this.componentDef],!0,0);y&&(vD(p,y,k),$c(y,v)),oy(l,v,k),oD(l,k,v),QD(l,k),t!==void 0&&hV(k,this.ngContentSelectors,t),T=or(k.index,v),v[on]=T[on],ay(l,v,null)}catch(k){throw T!==null&&Bm(T),Bm(v),k}finally{Le(23),j_()}return new i_(this.componentType,v)}finally{Ce(o)}}},i_=class extends GF{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=lx(t[_e],yn),this.location=Ks(this._tNode,t),this.instance=or(this._tNode.index,t)[on],this.hostView=this.changeDetectorRef=new Fc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=sy(r,i[_e],i,e,t);this.previousInputValues.set(e,t);let s=or(r.index,i);hy(s,1)}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Mi=(()=>{class n{static __NG_ELEMENT_ID__=fV}return n})();function fV(){let n=an();return ZD(n,Oe())}var pV=Mi,YD=class extends pV{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ks(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){let e=$_(this._hostTNode,this._hostLView);if(Sx(e)){let t=Nd(e,this._hostLView),r=Rd(e),i=t[_e].data[r+8];return new go(i,t)}else return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=CI(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_I(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,gI(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!zR(e),a;if(s)a=t;else{let T=t||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let l=s?e:new Us(yo(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let k=(s?u:this.parentInjector).get(Ft,null);k&&(o=k)}let h=yo(l.componentType??{}),p=_I(this._lContainer,h?.id??null),y=p?.firstChild??null,v=l.create(u,i,y,o);return this.insertImpl(v.hostView,a,gI(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(YR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Vt],u=new YD(l,l[$n],l[Vt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return LF(s,i,o,r),e.attachToViewContainerRef(),WI(pm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=CI(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=t_(this._lContainer,t);r&&(Dd(pm(this._lContainer),t),AD(r[_e],r))}detach(e){let t=this._adjustIndex(e,-1),r=t_(this._lContainer,t);return r&&Dd(pm(this._lContainer),t)!=null?new Fc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function CI(n){return n[Od]}function pm(n){return n[Od]||(n[Od]=[])}function ZD(n,e){let t,r=e[n.index];return Wr(r)?t=r:(t=zD(r,e,null,n),e[n.index]=t,iy(e,t)),mV(t,e,n,r),new YD(t,n,e)}function gV(n,e){let t=n[ut],r=t.createComment(""),i=cr(e,n),o=t.parentNode(i);return Bd(t,o,r,t.nextSibling(i),!1),r}var mV=vV,_V=()=>!1;function yV(n,e,t){return _V(n,e,t)}function vV(n,e,t,r){if(n[bo])return;let i;t.type&8?i=ir(r):i=gV(e,t),n[bo]=i}var o_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},s_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)py(e,t).matches!==null&&this.queries[t].setDirty()}},a_=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=TV(e):this.predicate=e}},c_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},l_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,bV(t,o)),this.matchTNodeWithReadOption(e,t,bd(t,e,o,!1,!1))}else r===xo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,bd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===cn||i===Mi||i===xo&&t.type&4)this.addMatch(t.index,-2);else{let o=bd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function bV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function wV(n,e){return n.type&11?Ks(n,e):n.type&4?sh(n,e):null}function CV(n,e,t,r){return t===-1?wV(e,n):t===-2?EV(n,e,r):Nc(n,n[_e],t,e)}function EV(n,e,t){if(t===cn)return Ks(e,n);if(t===xo)return sh(e,n);if(t===Mi)return ZD(e,n)}function JD(n,e,t,r){let i=e[Br].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(CV(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function u_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=JD(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let p=_n;p<h.length;p++){let y=h[p];y[vo]===y[Vt]&&u_(y[_e],y,u,r)}if(h[js]!==null){let p=h[js];for(let y=0;y<p.length;y++){let v=p[y];u_(v[_e],v,u,r)}}}}}return r}function IV(n,e){return n[Br].queries[e].queryList}function xV(n,e,t){let r=new jm((t&4)===4);return XR(n,e,r,r.destroy),(e[Br]??=new s_).queries.push(new o_(r))-1}function DV(n,e,t){let r=St();return r.firstCreatePass&&(MV(r,new a_(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),xV(r,Oe(),e)}function TV(n){return n.split(",").map(e=>e.trim())}function MV(n,e,t){n.queries===null&&(n.queries=new c_),n.queries.track(new l_(e,t))}function py(n,e){return n.queries.getByIndex(e)}function SV(n,e){let t=n[_e],r=py(t,e);return r.crossesNgTemplate?u_(t,n,e,[]):JD(t,n,r,e)}var zs=class{},gy=class{};var d_=class extends zs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new zd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=QI(e);this._bootstrapComponents=wD(o.bootstrap),this._r3Injector=Lx(e,t,[{provide:zs,useValue:this},{provide:ah,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},h_=class extends gy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new d_(this.moduleType,e,[])}};var $d=class extends zs{injector;componentFactoryResolver=new zd(this);instance=null;constructor(e){super();let t=new Ac([...e.providers,{provide:zs,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],e.parent||P_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hc(n,e,t=null){return new $d({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var PV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=YI(!1,t.type),i=r.length>0?Hc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(oe(Ft))})}return n})();function Ge(n){return Lc(()=>{let e=XD(n),t=le(z({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Gx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(PV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ar.Emulated,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Zs("NgStandalone"),eT(t);let r=n.dependencies;return t.directiveDefs=EI(r,!1),t.pipeDefs=EI(r,!0),t.id=NV(t),t})}function OV(n){return yo(n)||PR(n)}function AV(n){return n!==null}function Yr(n){return Lc(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kV(n,e){if(n==null)return _o;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=ih.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function RV(n){if(n==null)return _o;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function je(n){return Lc(()=>{let e=XD(n);return eT(e),e})}function ch(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function XD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||_o,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kV(n.inputs,e),outputs:RV(n.outputs),debugInfo:null}}function eT(n){n.features?.forEach(e=>e(n))}function EI(n,e){if(!n)return null;let t=e?OR:OV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(AV)}function NV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function FV(n){return Object.getPrototypeOf(n.prototype).constructor}function Pt(n){let e=FV(n.type),t=!0,r=[n];for(;e;){let i;if(rr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=gm(n.inputs),s.declaredInputs=gm(n.declaredInputs),s.outputs=gm(n.outputs);let a=i.hostBindings;a&&UV(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&jV(n,l),u&&BV(n,u),VV(n,i),cR(n.outputs,i.outputs),rr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Pt&&(t=!1)}}e=Object.getPrototypeOf(e)}LV(r)}function VV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function LV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rc(i.hostAttrs,t=Rc(t,i.hostAttrs))}}function gm(n){return n===_o?{}:n===nn?[]:n}function jV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function BV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function UV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function tT(n){return $V(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function $V(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function nT(n,e,t){return n[e]=t}function $r(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function qV(n,e,t,r){let i=$r(n,e,t);return $r(n,e+1,r)||i}function HV(n,e,t,r,i,o,s,a,l){let u=e.consts,h=fy(e,n,4,s||null,a||null);fx()&&WD(e,t,h,kd(u,l),SD),h.mergedAttrs=Rc(h.mergedAttrs,h.attrs),Dx(e,h);let p=h.tView=ny(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function WV(n,e,t,r,i,o,s,a,l,u){let h=t+yn,p=e.firstCreatePass?HV(h,e,n,r,i,o,s,a,l):e.data[h];zc(p,!1);let y=GV(e,n,p,t);U_()&&uy(e,n,y,p),$c(y,n);let v=zD(y,n,y,p);return n[h]=v,iy(n,v),yV(v,p,n),A_(p)&&oy(e,n,p),l!=null&&TD(n,p,u),p}function fe(n,e,t,r,i,o,s,a){let l=Oe(),u=St(),h=kd(u.consts,o);return WV(l,u,n,e,t,r,i,h,s,a),fe}var GV=KV;function KV(n,e,t,r){return z_(!0),e[ut].createComment("")}var my=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var rT=new Q("");var QV=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new f_})}return n})(),f_=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function So(n){return!!n&&typeof n.then=="function"}function iT(n){return!!n&&typeof n.subscribe=="function"}var oT=new Q("");function _y(n){return zn([{provide:oT,multi:!0,useValue:n}])}var sT=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=V(oT,{optional:!0})??[];injector=V(Je);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Lt(this.injector,i);if(So(o))t.push(o);else if(iT(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lh=new Q("");function YV(){Vg(()=>{throw new K(600,!1)})}function ZV(n){return n.isBoundToModule}var JV=10;var Ii=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(BN);afterRenderManager=V(nD);zonelessEnabled=V(Xd);rootEffectScheduler=V(QV);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new rt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(Mo).hasPendingTasks.pipe(De(t=>!t));constructor(){V(Ys,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=V(Ft);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Je.NULL){Le(10);let o=t instanceof qD;if(!this._injector.get(sT).done){let v="";throw new K(405,v)}let a;o?a=t:a=this._injector.get(ah).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=ZV(a)?void 0:this._injector.get(zs),u=r||a.selector,h=a.create(i,[],u,l),p=h.location.nativeElement,y=h.injector.get(rT,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),wd(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),Le(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Y_.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new K(101,!1);let t=Ce(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ce(t),this.afterTick.next(),Le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bs,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<JV;)Le(14),this.synchronizeOnce(),Le(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)XV(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;wd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lh,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XV(n,e,t,r){if(!t&&!Zd(n))return;LD(n,e,t&&!r?0:1)}function bn(n,e,t,r){let i=Oe(),o=Jd();if($r(i,o,e)){let s=St(),a=B_();rF(a,i,n,e,t,r)}return bn}function eL(n,e,t,r){return $r(n,Jd(),t)?e+jc(t)+r:Qr}function md(n,e){return n<<17|e<<2}function Do(n){return n>>17&32767}function tL(n){return(n&2)==2}function nL(n,e){return n&131071|e<<17}function p_(n){return n|2}function $s(n){return(n&131068)>>2}function mm(n,e){return n&-131069|e<<2}function rL(n){return(n&1)===1}function g_(n){return n|1}function iL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Do(s),l=$s(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Bc(p,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let y=Do(n[a+1]);n[r+1]=md(y,a),y!==0&&(n[y+1]=mm(n[y+1],r)),n[a+1]=nL(n[a+1],r)}else n[r+1]=md(a,0),a!==0&&(n[a+1]=mm(n[a+1],r)),a=r;else n[r+1]=md(l,0),a===0?a=r:n[l+1]=mm(n[l+1],r),l=r;u&&(n[r+1]=p_(n[r+1])),II(n,h,r,!0),II(n,h,r,!1),oL(e,h,n,r,o),s=md(a,l),o?e.classBindings=s:e.styleBindings=s}function oL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Bc(o,e)>=0&&(t[r+1]=g_(t[r+1]))}function II(n,e,t,r){let i=n[t+1],o=e===null,s=r?Do(i):$s(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];sL(l,e)&&(a=!0,n[s+1]=r?g_(u):p_(u)),s=r?Do(u):$s(u)}a&&(n[t+1]=r?p_(i):g_(i))}function sL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Bc(n,e)>=0:!1}var Bn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aL(n){return n.substring(Bn.key,Bn.keyEnd)}function cL(n){return lL(n),aT(n,cT(n,0,Bn.textEnd))}function aT(n,e){let t=Bn.textEnd;return t===e?-1:(e=Bn.keyEnd=uL(n,Bn.key=e,t),cT(n,e,t))}function lL(n){Bn.key=0,Bn.keyEnd=0,Bn.value=0,Bn.valueEnd=0,Bn.textEnd=n.length}function cT(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function uL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function $(n,e,t){let r=Oe(),i=Jd();if($r(r,i,e)){let o=St(),s=B_();MD(o,s,r,n,e,r[ut],t,!1)}return $}function m_(n,e,t,r,i){sy(e,n,t,i?"class":"style",r)}function Xe(n,e,t){return uT(n,e,t,!1),Xe}function Ne(n,e){return uT(n,e,null,!0),Ne}function lT(n){hL(yL,dL,n,!0)}function dL(n,e){for(let t=cL(e);t>=0;t=aT(e,t))M_(n,aL(e),!0)}function uT(n,e,t,r){let i=Oe(),o=St(),s=yx(2);if(o.firstUpdatePass&&hT(o,n,s,r),e!==Qr&&$r(i,s,e)){let a=o.data[To()];fT(o,a,i,i[ut],n,i[s+1]=bL(e,t),r,s)}}function hL(n,e,t,r){let i=St(),o=yx(2);i.firstUpdatePass&&hT(i,null,o,r);let s=Oe();if(t!==Qr&&$r(s,o,t)){let a=i.data[To()];if(pT(a,r)&&!dT(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=wm(l,t||"")),m_(i,a,s,t,r)}else vL(i,a,s,s[ut],s[o+1],s[o+1]=_L(n,e,t),r,o)}}function dT(n,e){return e>=n.expandoStartIndex}function hT(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[To()],s=dT(n,t);pT(o,r)&&e===null&&!s&&(e=!1),e=fL(i,o,e,r),iL(i,o,e,t,s,r)}}function fL(n,e,t,r){let i=fN(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=_m(null,n,e,t,r),t=Vc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=_m(i,n,e,t,r),o===null){let l=pL(n,e,r);l!==void 0&&Array.isArray(l)&&(l=_m(null,n,e,l[1],r),l=Vc(l,e.attrs,r),gL(n,e,r,l))}else o=mL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function pL(n,e,t){let r=t?e.classBindings:e.styleBindings;if($s(r)!==0)return n[Do(r)]}function gL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Do(i)]=r}function mL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Vc(r,s,t)}return Vc(r,e.attrs,t)}function _m(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Vc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Vc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),M_(n,s,t?!0:e[++o]))}return n===void 0?null:n}function _L(n,e,t){if(t==null||t==="")return nn;let r=[],i=Pn(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function yL(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&M_(n,r,t)}function vL(n,e,t,r,i,o,s,a){i===Qr&&(i=nn);let l=0,u=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let y=l<i.length?i[l+1]:void 0,v=u<o.length?o[u+1]:void 0,T=null,k;h===p?(l+=2,u+=2,y!==v&&(T=p,k=v)):p===null||h!==null&&h<p?(l+=2,T=h):(u+=2,T=p,k=v),T!==null&&fT(n,e,t,r,T,k,s,a),h=l<i.length?i[l]:null,p=u<o.length?o[u]:null}}function fT(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=rL(u)?xI(l,e,t,i,$s(u),s):void 0;if(!qd(h)){qd(o)||tL(u)&&(o=xI(l,null,t,i,a,s));let p=cx(To(),t);IF(r,s,p,i,o)}}function xI(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,p=h===null,y=t[i+1];y===Qr&&(y=p?nn:void 0);let v=p?am(y,r):h===r?y:void 0;if(u&&!qd(v)&&(v=am(l,r)),qd(v)&&(a=v,s))return a;let T=n[i+1];i=s?Do(T):$s(T)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=am(l,r))}return a}function qd(n){return n!==void 0}function bL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rn(Pn(n)))),n}function pT(n,e){return(n.flags&(e?8:16))!==0}function m(n,e,t,r){let i=Oe(),o=St(),s=yn+n,a=i[ut],l=o.firstCreatePass?KD(s,o,i,e,SD,fx(),t,r):o.data[s],u=wL(o,i,l,a,e,n);i[s]=u;let h=A_(l);return zc(l,!0),vD(a,u,l),!PD(l)&&U_()&&uy(o,i,u,l),(eN()===0||h)&&$c(u,i),tN(),h&&(oy(o,i,l),oD(o,l,i)),r!==null&&TD(i,l),m}function g(){let n=an();gx()?aN():(n=n.parent,zc(n,!1));let e=n;iN(e)&&oN(),nN();let t=St();return t.firstCreatePass&&QD(t,e),e.classesWithoutHost!=null&&vN(e)&&m_(t,e,Oe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bN(e)&&m_(t,e,Oe(),e.stylesWithoutHost,!1),g}function Ie(n,e,t,r){return m(n,e,t,r),g(),Ie}var wL=(n,e,t,r,i,o)=>(z_(!0),_D(r,i,mN()));function te(){return Oe()}var fo=void 0;function CL(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var EL=["en",[["a","p"],["AM","PM"],fo],[["AM","PM"],fo,fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fo,"{1} 'at' {0}",fo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",CL],ym={};function On(n){let e=IL(n),t=DI(e);if(t)return t;let r=e.split("-")[0];if(t=DI(r),t)return t;if(r==="en")return EL;throw new K(701,!1)}function DI(n){return n in ym||(ym[n]=er.ng&&er.ng.common&&er.ng.common.locales&&er.ng.common.locales[n]),ym[n]}var st=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(st||{});function IL(n){return n.toLowerCase().replace(/_/g,"-")}var Hd="en-US";var xL=Hd;function DL(n){typeof n=="string"&&(xL=n.toLowerCase().replace(/_/g,"-"))}function TI(n,e,t){return function r(i){if(i===Function)return t;let o=Hs(n)?or(n.index,e):e;hy(o,5);let s=e[on],a=MI(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=MI(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function MI(n,e,t,r){let i=Ce(null);try{return Le(6,e,t),t(r)!==!1}catch(o){return TL(n,o),!1}finally{Le(7,e,t),Ce(i)}}function TL(n,e){let t=n[Ls],r=t?t.get(sr,null):null;r&&r.handleError(e)}function SI(n,e,t,r,i,o){let s=e[t],a=e[_e],u=a.data[t].outputs[r],h=s[u],p=a.firstCreatePass?F_(a):null,y=N_(e),v=h.subscribe(o),T=y.length;y.push(o,v),p&&p.push(i,n.index,T,-(T+1))}function U(n,e,t,r){let i=Oe(),o=St(),s=an();return gT(o,i,i[ut],s,n,e,r),U}function ML(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Sd],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function gT(n,e,t,r,i,o,s){let a=A_(r),u=n.firstCreatePass?F_(n):null,h=N_(e),p=!0;if(r.type&3||s){let y=cr(r,e),v=s?s(y):y,T=h.length,k=s?J=>s(ir(J[r.index])):r.index,R=null;if(!s&&a&&(R=ML(n,e,i,r.index)),R!==null){let J=R.__ngLastListenerFn__||R;J.__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,p=!1}else{o=TI(r,e,o),s2(e,v,i,o);let J=t.listen(v,i,o);h.push(o,J),u&&u.push(i,k,T,T+1)}}else o=TI(r,e,o);if(p){let y=r.outputs?.[i],v=r.hostDirectiveOutputs?.[i];if(v&&v.length)for(let T=0;T<v.length;T+=2){let k=v[T],R=v[T+1];SI(r,e,k,R,i,o)}if(y&&y.length)for(let T of y)SI(r,e,T,i,i,o)}}function L(n=1){return gN(n)}function Js(n,e,t){DV(n,e,t)}function Po(n){let e=Oe(),t=St(),r=vx();V_(r+1);let i=py(t,r);if(n.dirty&&QR(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=SV(e,r);n.reset(o,$N),n.notifyOnChanges()}return!0}return!1}function Oo(){return IV(Oe(),vx())}function mT(n){let e=cN();return k_(e,yn+n)}function b(n,e=""){let t=Oe(),r=St(),i=n+yn,o=r.firstCreatePass?fy(r,i,1,e,null):r.data[i],s=SL(r,t,o,e,n);t[i]=s,U_()&&uy(r,t,s,o),zc(o,!1)}var SL=(n,e,t,r,i)=>(z_(!0),D2(e[ut],r));function Fe(n){return Ve("",n,""),Fe}function Ve(n,e,t){let r=Oe(),i=eL(r,n,e,t);return i!==Qr&&PL(r,To(),i),Ve}function PL(n,e,t){let r=cx(e,n);T2(n[ut],r,t)}function Y(n,e,t){Hx(e)&&(e=e());let r=Oe(),i=Jd();if($r(r,i,e)){let o=St(),s=B_();MD(o,s,r,n,e,r[ut],t,!1)}return Y}function X(n,e){let t=Hx(n);return t&&n.set(e),t}function Z(n,e){let t=Oe(),r=St(),i=an();return gT(r,t,t[ut],i,n,e),Z}function OL(n,e,t){let r=St();if(r.firstCreatePass){let i=rr(n);__(t,r.data,r.blueprint,i,!0),__(e,r.data,r.blueprint,i,!1)}}function __(n,e,t,r,i){if(n=Kt(n),Array.isArray(n))for(let o=0;o<n.length;o++)__(n[o],e,t,r,i);else{let o=St(),s=Oe(),a=an(),l=Vs(n)?n:Kt(n.provide),u=XI(n),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Vs(n)||!n.multi){let v=new Eo(u,i,W),T=bm(l,e,i?h:h+y,p);T===-1?(km(Vd(a,s),o,l),vm(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[T]=v,s[T]=v)}else{let v=bm(l,e,h+y,p),T=bm(l,e,h,h+y),k=v>=0&&t[v],R=T>=0&&t[T];if(i&&!R||!i&&!k){km(Vd(a,s),o,l);let J=RL(i?kL:AL,t.length,i,r,u);!i&&R&&(t[T].providerFactory=J),vm(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(J),s.push(J)}else{let J=_T(t[i?T:v],u,!i&&r);vm(o,n,v>-1?v:T,J)}!i&&r&&R&&t[T].componentProviders++}}}function vm(n,e,t,r){let i=Vs(e),o=FR(e);if(i||o){let l=(o?Kt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function _T(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function bm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function AL(n,e,t,r,i){return y_(this.multi,[])}function kL(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Nc(r,r[_e],this.providerFactory.index,i);s=l.slice(0,a),y_(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],y_(o,s);return s}function y_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function RL(n,e,t,r,i){let o=new Eo(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,_T(o,i,r&&!t),o}function wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>OL(r,i?i(n):n,e)}}function yT(n,e){let t=n[e];return t===Qr?void 0:t}function NL(n,e,t,r,i,o){let s=e+t;return $r(n,s,i)?nT(n,s+1,o?r.call(o,i):r(i)):yT(n,s+1)}function FL(n,e,t,r,i,o,s){let a=e+t;return qV(n,a,i,o)?nT(n,a+2,s?r.call(s,i,o):r(i,o)):yT(n,a+2)}function Xs(n,e){let t=St(),r,i=n+yn;t.firstCreatePass?(r=VL(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=mo(r.type,!0)),s,a=tn(W);try{let l=Fd(!1),u=o();return Fd(l),KR(t,Oe(),i,u),u}finally{tn(a)}}function VL(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function vT(n,e,t){let r=n+yn,i=Oe(),o=k_(i,r);return bT(i,r)?NL(i,_x(),e,o.transform,t,o):o.transform(t)}function uh(n,e,t,r){let i=n+yn,o=Oe(),s=k_(o,i);return bT(o,i)?FL(o,_x(),e,s.transform,t,r,s):s.transform(t,r)}function bT(n,e){return n[_e].data[e].pure}function wT(n,e){return sh(n,e)}var xi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},CT=new xi("19.2.18"),v_=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ET=(()=>{class n{compileModuleSync(t){return new h_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=QI(t),o=wD(i.declarations).reduce((s,a)=>{let l=yo(a);return l&&s.push(new Us(l)),s},[]);return new v_(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LL=(()=>{class n{zone=V(Pe);changeDetectionScheduler=V(Io);applicationRef=V(Ii);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jL=new Q("",{factory:()=>!1});function IT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Pe(le(z({},DT()),{scheduleInRootZone:t})),[{provide:Pe,useFactory:n},{provide:Fs,multi:!0,useFactory:()=>{let r=V(LL,{optional:!0});return()=>r.initialize()}},{provide:Fs,multi:!0,useFactory:()=>{let r=V(BL);return()=>{r.initialize()}}},e===!0?{provide:Bx,useValue:!0}:[],{provide:Ux,useValue:t??jx}]}function xT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=IT({ngZoneFactory:()=>{let i=DT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Zs("NgZone_CoalesceEvent"),new Pe(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return zn([{provide:jL,useValue:!0},{provide:Xd,useValue:!1},r])}function DT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var BL=(()=>{class n{subscription=new Ze;initialized=!1;zone=V(Pe);pendingTasks=V(Mo);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var UL=(()=>{class n{appRef=V(Ii);taskService=V(Mo);ngZone=V(Pe);zonelessEnabled=V(Xd);tracing=V(Ys,{optional:!0});disableScheduling=V(Bx,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(Ux,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Lm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?tI:zx;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,tI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zL(){return typeof $localize<"u"&&$localize.locale||Hd}var dh=new Q("",{providedIn:"root",factory:()=>V(dh,me.Optional|me.SkipSelf)||zL()});var b_=new Q(""),$L=new Q("");function Mc(n){return!n.moduleRef}function qL(n){let e=Mc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Pe);return t.run(()=>{Mc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(sr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Mc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(b_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(b_);s.add(o),n.moduleRef.onDestroy(()=>{wd(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return WL(r,t,()=>{let o=e.get(sT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(dh,Hd);if(DL(s||Hd),!e.get($L,!0))return Mc(n)?e.get(Ii):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Mc(n)){let l=e.get(Ii);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return HL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function HL(n,e){let t=n.injector.get(Ii);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}function WL(n,e,t){try{let r=t();return So(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Cd=null;function GL(n=[],e){return Je.create({name:e,providers:[{provide:Qd,useValue:"platform"},{provide:b_,useValue:new Set([()=>Cd=null])},...n]})}function KL(n=[]){if(Cd)return Cd;let e=GL(n);return Cd=e,YV(),QL(e),e}function QL(n){let e=n.get(K_,null);Lt(n,()=>{e?.forEach(t=>t())})}function yy(){return!1}var Ao=(()=>{class n{static __NG_ELEMENT_ID__=YL}return n})();function YL(n){return ZL(an(),Oe(),(n&16)===16)}function ZL(n,e,t){if(Hs(n)&&!t){let r=or(n.index,e);return new Fc(r,r)}else if(n.type&175){let r=e[nr];return new Fc(r,e)}return null}var w_=class{constructor(){}supports(e){return tT(e)}create(e){return new C_(e)}},JL=(n,e)=>e,C_=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||JL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<PI(r,i,o)?t:r,a=PI(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let y=0;y<u;y++){let v=y<o.length?o[y]:o[y]=0,T=v+y;h<=T&&T<u&&(o[y]=v+1)}let p=s.previousIndex;o[p]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!tT(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,zV(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new E_(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Wd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Wd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},E_=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},I_=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Wd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new I_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function PI(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function OI(){return new vy([new w_])}var vy=(()=>{class n{factories;static \u0275prov=H({token:n,providedIn:"root",factory:OI});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OI()),deps:[[n,new xR,new sn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function TT(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Le(8);try{let o=i?.injector??KL(r),s=[IT({}),{provide:Io,useExisting:UL},...t||[]],a=new $d({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return qL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Le(9)}}function Si(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ur(n){return Bg(n)}function ea(n,e){return Fg(n,e?.equal)}var AI=class{[Tn];constructor(e){this[Tn]=e}destroy(){this[Tn].destroy()}};function MT(n){let e=yo(n);if(!e)return null;let t=new Us(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var yt=new Q("");var OT=null;function An(){return OT}function by(n){OT??=n}var Wc=class{},Gc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>V(AT),providedIn:"platform"})}return n})(),wy=new Q(""),AT=(()=>{class n extends Gc{_location;_history;_doc=V(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(t){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=An().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function hh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function ST(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Hn(n){return n&&n[0]!=="?"?`?${n}`:n}var Wn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>V(ph),providedIn:"root"})}return n})(),fh=new Q(""),ph=(()=>{class n extends Wn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return hh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Hn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(oe(Gc),oe(fh,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pi=(()=>{class n{_subject=new rt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=tj(ST(PT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Hn(r))}normalize(t){return n.stripTrailingSlash(ej(this._basePath,PT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Hn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Hn;static joinWithSlash=hh;static stripTrailingSlash=ST;static \u0275fac=function(r){return new(r||n)(oe(Wn))};static \u0275prov=H({token:n,factory:()=>XL(),providedIn:"root"})}return n})();function XL(){return new Pi(oe(Wn))}function ej(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function PT(n){return n.replace(/\/index.html$/,"")}function tj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var xy=(()=>{class n extends Wn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=hh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Hn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Hn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(oe(Gc),oe(fh,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();var jt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(jt||{}),Be=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Be||{}),ln=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ln||{}),Jr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function FT(n){return On(n)[st.LocaleId]}function VT(n,e,t){let r=On(n),i=[r[st.DayPeriodsFormat],r[st.DayPeriodsStandalone]],o=kn(i,e);return kn(o,t)}function LT(n,e,t){let r=On(n),i=[r[st.DaysFormat],r[st.DaysStandalone]],o=kn(i,e);return kn(o,t)}function jT(n,e,t){let r=On(n),i=[r[st.MonthsFormat],r[st.MonthsStandalone]],o=kn(i,e);return kn(o,t)}function BT(n,e){let r=On(n)[st.Eras];return kn(r,e)}function Kc(n,e){let t=On(n);return kn(t[st.DateFormat],e)}function Qc(n,e){let t=On(n);return kn(t[st.TimeFormat],e)}function Yc(n,e){let r=On(n)[st.DateTimeFormat];return kn(r,e)}function Zc(n,e){let t=On(n),r=t[st.NumberSymbols][e];if(typeof r>"u"){if(e===Jr.CurrencyDecimal)return t[st.NumberSymbols][Jr.Decimal];if(e===Jr.CurrencyGroup)return t[st.NumberSymbols][Jr.Group]}return r}function UT(n){if(!n[st.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[st.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zT(n){let e=On(n);return UT(e),(e[st.ExtraData][2]||[]).map(r=>typeof r=="string"?Cy(r):[Cy(r[0]),Cy(r[1])])}function $T(n,e,t){let r=On(n);UT(r);let i=[r[st.ExtraData][0],r[st.ExtraData][1]],o=kn(i,e)||[];return kn(o,t)||[]}function kn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Cy(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var nj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gh={},rj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function qT(n,e,t,r){let i=hj(n);e=Zr(t,e)||e;let s=[],a;for(;e;)if(a=rj.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=WT(r,l),i=dj(i,r));let u="";return s.forEach(h=>{let p=lj(h);u+=p?p(i,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function bh(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Zr(n,e){let t=FT(n);if(gh[t]??={},gh[t][e])return gh[t][e];let r="";switch(e){case"shortDate":r=Kc(n,ln.Short);break;case"mediumDate":r=Kc(n,ln.Medium);break;case"longDate":r=Kc(n,ln.Long);break;case"fullDate":r=Kc(n,ln.Full);break;case"shortTime":r=Qc(n,ln.Short);break;case"mediumTime":r=Qc(n,ln.Medium);break;case"longTime":r=Qc(n,ln.Long);break;case"fullTime":r=Qc(n,ln.Full);break;case"short":let i=Zr(n,"shortTime"),o=Zr(n,"shortDate");r=mh(Yc(n,ln.Short),[i,o]);break;case"medium":let s=Zr(n,"mediumTime"),a=Zr(n,"mediumDate");r=mh(Yc(n,ln.Medium),[s,a]);break;case"long":let l=Zr(n,"longTime"),u=Zr(n,"longDate");r=mh(Yc(n,ln.Long),[l,u]);break;case"full":let h=Zr(n,"fullTime"),p=Zr(n,"fullDate");r=mh(Yc(n,ln.Full),[h,p]);break}return r&&(gh[t][e]=r),r}function mh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Gn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function ij(n,e){return Gn(n,3).substring(0,e)}function dt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=oj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return ij(a,e);let l=Zc(s,Jr.MinusSign);return Gn(a,e,l,r,i)}}function oj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function qe(n,e,t=jt.Format,r=!1){return function(i,o){return sj(i,o,n,e,t,r)}}function sj(n,e,t,r,i,o){switch(t){case 2:return jT(e,i,r)[n.getMonth()];case 1:return LT(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=zT(e),h=$T(e,i,r),p=u.findIndex(y=>{if(Array.isArray(y)){let[v,T]=y,k=s>=v.hours&&a>=v.minutes,R=s<T.hours||s===T.hours&&a<T.minutes;if(v.hours<T.hours){if(k&&R)return!0}else if(k||R)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return VT(e,i,r)[s<12?0:1];case 3:return BT(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Error(`unexpected translation type ${l}`)}}function _h(n){return function(e,t,r){let i=-1*r,o=Zc(t,Jr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Gn(s,2,o)+Gn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Gn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Gn(s,2,o)+":"+Gn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var aj=0,vh=4;function cj(n){let e=bh(n,aj,1).getDay();return bh(n,0,1+(e<=vh?vh:vh+7)-e)}function HT(n){let e=n.getDay(),t=e===0?-3:vh-e;return bh(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Ey(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=HT(t),s=cj(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Gn(i,n,Zc(r,Jr.MinusSign))}}function yh(n,e=!1){return function(t,r){let o=HT(t).getFullYear();return Gn(o,n,Zc(r,Jr.MinusSign),e)}}var Iy={};function lj(n){if(Iy[n])return Iy[n];let e;switch(n){case"G":case"GG":case"GGG":e=qe(3,Be.Abbreviated);break;case"GGGG":e=qe(3,Be.Wide);break;case"GGGGG":e=qe(3,Be.Narrow);break;case"y":e=dt(0,1,0,!1,!0);break;case"yy":e=dt(0,2,0,!0,!0);break;case"yyy":e=dt(0,3,0,!1,!0);break;case"yyyy":e=dt(0,4,0,!1,!0);break;case"Y":e=yh(1);break;case"YY":e=yh(2,!0);break;case"YYY":e=yh(3);break;case"YYYY":e=yh(4);break;case"M":case"L":e=dt(1,1,1);break;case"MM":case"LL":e=dt(1,2,1);break;case"MMM":e=qe(2,Be.Abbreviated);break;case"MMMM":e=qe(2,Be.Wide);break;case"MMMMM":e=qe(2,Be.Narrow);break;case"LLL":e=qe(2,Be.Abbreviated,jt.Standalone);break;case"LLLL":e=qe(2,Be.Wide,jt.Standalone);break;case"LLLLL":e=qe(2,Be.Narrow,jt.Standalone);break;case"w":e=Ey(1);break;case"ww":e=Ey(2);break;case"W":e=Ey(1,!0);break;case"d":e=dt(2,1);break;case"dd":e=dt(2,2);break;case"c":case"cc":e=dt(7,1);break;case"ccc":e=qe(1,Be.Abbreviated,jt.Standalone);break;case"cccc":e=qe(1,Be.Wide,jt.Standalone);break;case"ccccc":e=qe(1,Be.Narrow,jt.Standalone);break;case"cccccc":e=qe(1,Be.Short,jt.Standalone);break;case"E":case"EE":case"EEE":e=qe(1,Be.Abbreviated);break;case"EEEE":e=qe(1,Be.Wide);break;case"EEEEE":e=qe(1,Be.Narrow);break;case"EEEEEE":e=qe(1,Be.Short);break;case"a":case"aa":case"aaa":e=qe(0,Be.Abbreviated);break;case"aaaa":e=qe(0,Be.Wide);break;case"aaaaa":e=qe(0,Be.Narrow);break;case"b":case"bb":case"bbb":e=qe(0,Be.Abbreviated,jt.Standalone,!0);break;case"bbbb":e=qe(0,Be.Wide,jt.Standalone,!0);break;case"bbbbb":e=qe(0,Be.Narrow,jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=qe(0,Be.Abbreviated,jt.Format,!0);break;case"BBBB":e=qe(0,Be.Wide,jt.Format,!0);break;case"BBBBB":e=qe(0,Be.Narrow,jt.Format,!0);break;case"h":e=dt(3,1,-12);break;case"hh":e=dt(3,2,-12);break;case"H":e=dt(3,1);break;case"HH":e=dt(3,2);break;case"m":e=dt(4,1);break;case"mm":e=dt(4,2);break;case"s":e=dt(5,1);break;case"ss":e=dt(5,2);break;case"S":e=dt(6,1);break;case"SS":e=dt(6,2);break;case"SSS":e=dt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=_h(0);break;case"ZZZZZ":e=_h(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=_h(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=_h(2);break;default:return null}return Iy[n]=e,e}function WT(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function uj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function dj(n,e,t){let i=n.getTimezoneOffset(),o=WT(e,i);return uj(n,-1*(o-i))}function hj(n){if(kT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return bh(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(nj))return fj(r)}let e=new Date(n);if(!kT(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function fj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function kT(n){return n instanceof Date&&!isNaN(n.valueOf())}var wh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Bt=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new wh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),RT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);RT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(Mi),W(xo),W(vy))};static \u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function RT(n,e){n.context.$implicit=e.item}var at=(()=>{class n{_viewContainer;_context=new Ch;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){NT(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){NT(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(W(Mi),W(xo))};static \u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Ch=class{$implicit=null;ngIf=null};function NT(n,e){if(n&&!n.createEmbeddedView)throw new K(2020,!1)}function pj(n,e){return new K(2100,!1)}var gj="mediumDate",GT=new Q(""),KT=new Q(""),Jc=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??gj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return qT(t,s,o||this.locale,a)}catch(s){throw pj(n,s.message)}}static \u0275fac=function(r){return new(r||n)(W(dh,16),W(GT,24),W(KT,24))};static \u0275pipe=ch({name:"date",type:n,pure:!0})}return n})();var et=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=qr({})}return n})();function Dy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ty="browser",QT="server";function Eh(n){return n===QT}var Xc=class{};var YT=(()=>{class n{static \u0275prov=H({token:n,providedIn:"root",factory:()=>new My(V(yt),window)})}return n})(),My=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=mj(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function mj(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Dh=new Q(""),Ay=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(oe(Dh),oe(Pe))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),el=class{_doc;constructor(e){this._doc=e}manager},Ih="ng-app-id";function ZT(n){for(let e of n)e.remove()}function JT(n,e){let t=e.createElement("style");return t.textContent=n,t}function _j(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Ih}="${e}"],link[${Ih}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ih),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Py(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ky=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Eh(o),_j(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,JT);r?.forEach(i=>this.addUsage(i,this.external,Py))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(ZT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])ZT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,JT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Py(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Ih,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(oe(yt),oe(G_),oe(Q_,8),oe(Ti))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),Sy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ry=/%COMP%/g;var eM="%COMP%",yj=`_nghost-${eM}`,vj=`_ngcontent-${eM}`,bj=!0,wj=new Q("",{providedIn:"root",factory:()=>bj});function Cj(n){return vj.replace(Ry,n)}function Ej(n){return yj.replace(Ry,n)}function tM(n,e){return e.map(t=>t.replace(Ry,n))}var Ny=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=Eh(a),this.defaultRenderer=new tl(t,s,l,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r=le(z({},r),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof xh?i.applyToHost(t):i instanceof nl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,y=this.tracingService;switch(r.encapsulation){case ar.Emulated:o=new xh(l,u,r,this.appId,h,s,a,p,y);break;case ar.ShadowDom:return new Oy(l,u,t,r,s,a,this.nonce,p,y);default:o=new nl(l,u,r,h,s,a,p,y);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(oe(Ay),oe(ky),oe(G_),oe(wj),oe(yt),oe(Ti),oe(Pe),oe(Q_),oe(Ys,8))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),tl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Sy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(XT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(XT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Sy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Sy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zr.DashCase|zr.Important)?e.style.setProperty(t,r,i&zr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new K(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function XT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Oy=class extends tl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=tM(i.id,h);for(let y of h){let v=document.createElement("style");a&&v.setAttribute("nonce",a),v.textContent=y,this.shadowRoot.appendChild(v)}let p=i.getExternalStyles?.();if(p)for(let y of p){let v=Py(y,o);a&&v.setAttribute("nonce",a),this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nl=class extends tl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?tM(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xh=class extends nl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,u,h),this.contentAttr=Cj(h),this.hostAttr=Ej(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Th=class n extends Wc{supportsDOMEvents=!0;static makeCurrent(){by(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Ij();return t==null?null:xj(t)}resetBaseElement(){rl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Dy(document.cookie,e)}},rl=null;function Ij(){return rl=rl||document.head.querySelector("base"),rl?rl.getAttribute("href"):null}function xj(n){return new URL(n,document.baseURI).pathname}var Dj=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),rM=(()=>{class n extends el{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(oe(yt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),nM=["alt","control","meta","shift"],Tj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},iM=(()=>{class n extends el{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nM.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Tj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nM.forEach(s=>{if(s!==i){let a=Mj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(oe(yt))};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function Fy(n,e,t){return TT(z({rootComponent:n,platformRef:t?.platformRef},Sj(e)))}function Sj(n){return{appProviders:[...Rj,...n?.providers??[]],platformProviders:kj}}function Pj(){Th.makeCurrent()}function Oj(){return new sr}function Aj(){return Jx(document),document}var kj=[{provide:Ti,useValue:Ty},{provide:K_,useValue:Pj,multi:!0},{provide:yt,useFactory:Aj}];var Rj=[{provide:Qd,useValue:"root"},{provide:sr,useFactory:Oj},{provide:Dh,useClass:rM,multi:!0,deps:[yt]},{provide:Dh,useClass:iM,multi:!0,deps:[yt]},Ny,ky,Ay,{provide:Bs,useExisting:Ny},{provide:Xc,useClass:Dj},[]];var oM=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(oe(yt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=oe(Nj),i},providedIn:"root"})}return n})(),Nj=(()=>{class n extends Vy{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case qn.NONE:return r;case qn.HTML:return Gr(r,"HTML")?Pn(r):J_(this._doc,String(r)).toString();case qn.STYLE:return Gr(r,"Style")?Pn(r):r;case qn.SCRIPT:if(Gr(r,"Script"))return Pn(r);throw new K(5200,!1);case qn.URL:return Gr(r,"URL")?Pn(r):nh(String(r));case qn.RESOURCE_URL:if(Gr(r,"ResourceURL"))return Pn(r);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(t){return aD(t)}bypassSecurityTrustStyle(t){return cD(t)}bypassSecurityTrustScript(t){return lD(t)}bypassSecurityTrustUrl(t){return uD(t)}bypassSecurityTrustResourceUrl(t){return dD(t)}static \u0275fac=function(r){return new(r||n)(oe(yt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ge="primary",ml=Symbol("RouteTitle"),zy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function No(n){return new zy(n)}function pM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Fj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dr(n[t],e[t]))return!1;return!0}function dr(n,e){let t=n?$y(n):void 0,r=e?$y(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!gM(n[i],e[i]))return!1;return!0}function $y(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function mM(n){return n.length>0?n[n.length-1]:null}function Ni(n){return tm(n)?n:So(n)?We(Promise.resolve(n)):ie(n)}var Vj={exact:yM,subset:vM},_M={exact:Lj,subset:jj,ignored:()=>!0};function aM(n,e,t){return Vj[t.paths](n.root,e.root,t.matrixParams)&&_M[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Lj(n,e){return dr(n,e)}function yM(n,e,t){if(!ko(n.segments,e.segments)||!Ph(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!yM(n.children[r],e.children[r],t))return!1;return!0}function jj(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gM(n[t],e[t]))}function vM(n,e,t){return bM(n,e,e.segments,t)}function bM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ko(i,t)||e.hasChildren()||!Ph(i,t,r))}else if(n.segments.length===t.length){if(!ko(n.segments,t)||!Ph(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!vM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ko(n.segments,i)||!Ph(n.segments,i,r)||!n.children[ge]?!1:bM(n.children[ge],e,o,r)}}function Ph(n,e,t){return e.every((r,i)=>_M[t](n[i].parameters,r.parameters))}var fr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ae([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){return zj.serialize(this)}},Ae=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oh(this)}},Oi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=No(this.parameters),this._parameterMap}toString(){return CM(this)}};function Bj(n,e){return ko(n,e)&&n.every((t,r)=>dr(t.parameters,e[r].parameters))}function ko(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Uj(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ge&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ge&&(t=t.concat(e(i,r)))}),t}var Fo=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>new Ai,providedIn:"root"})}return n})(),Ai=class{parse(e){let t=new Hy(e);return new fr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${il(e.root,!0)}`,r=Hj(e.queryParams),i=typeof e.fragment=="string"?`#${$j(e.fragment)}`:"";return`${t}${r}${i}`}},zj=new Ai;function Oh(n){return n.segments.map(e=>CM(e)).join("/")}function il(n,e){if(!n.hasChildren())return Oh(n);if(e){let t=n.children[ge]?il(n.children[ge],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ge&&r.push(`${i}:${il(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Uj(n,(r,i)=>i===ge?[il(n.children[ge],!1)]:[`${i}:${il(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ge]!=null?`${Oh(n)}/${t[0]}`:`${Oh(n)}/(${t.join("//")})`}}function wM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mh(n){return wM(n).replace(/%3B/gi,";")}function $j(n){return encodeURI(n)}function qy(n){return wM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ah(n){return decodeURIComponent(n)}function cM(n){return Ah(n.replace(/\+/g,"%20"))}function CM(n){return`${qy(n.path)}${qj(n.parameters)}`}function qj(n){return Object.entries(n).map(([e,t])=>`;${qy(e)}=${qy(t)}`).join("")}function Hj(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Mh(t)}=${Mh(i)}`).join("&"):`${Mh(t)}=${Mh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Wj=/^[^\/()?;#]+/;function Ly(n){let e=n.match(Wj);return e?e[0]:""}var Gj=/^[^\/()?;=#]+/;function Kj(n){let e=n.match(Gj);return e?e[0]:""}var Qj=/^[^=?&#]+/;function Yj(n){let e=n.match(Qj);return e?e[0]:""}var Zj=/^[^&#]+/;function Jj(n){let e=n.match(Zj);return e?e[0]:""}var Hy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ge]=new Ae(e,t)),r}parseSegment(){let e=Ly(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Oi(Ah(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Kj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ly(this.remaining);i&&(r=i,this.capture(r))}e[Ah(t)]=Ah(r)}parseQueryParam(e){let t=Yj(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Jj(this.remaining);s&&(r=s,this.capture(r))}let i=cM(t),o=cM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ly(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ge);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ge]:new Ae([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function EM(n){return n.segments.length>0?new Ae([],{[ge]:n}):n}function IM(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=IM(i);if(r===ge&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ae(n.segments,e);return Xj(t)}function Xj(n){if(n.numberOfChildren===1&&n.children[ge]){let e=n.children[ge];return new Ae(n.segments.concat(e.segments),e.children)}return n}function ki(n){return n instanceof fr}function xM(n,e,t=null,r=null){let i=DM(n);return TM(i,e,t,r)}function DM(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Ae(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=EM(r);return e??i}function TM(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return jy(i,i,i,t,r);let o=e4(e);if(o.toRoot())return jy(i,i,new Ae([],{}),t,r);let s=t4(o,i,n),a=s.processChildren?sl(s.segmentGroup,s.index,o.commands):SM(s.segmentGroup,s.index,o.commands);return jy(i,s.segmentGroup,a,t,r)}function Rh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cl(n){return typeof n=="object"&&n!=null&&n.outlets}function jy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=MM(n,e,t);let a=EM(IM(s));return new fr(a,o,i)}function MM(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=MM(o,e,t)}),new Ae(n.segments,r)}var Nh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rh(r[0]))throw new K(4003,!1);let i=r.find(cl);if(i&&i!==mM(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function e4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Nh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Nh(t,e,r)}var ra=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function t4(n,e,t){if(n.isAbsolute)return new ra(e,!0,0);if(!t)return new ra(e,!1,NaN);if(t.parent===null)return new ra(t,!0,0);let r=Rh(n.commands[0])?0:1,i=t.segments.length-1+r;return n4(t,i,n.numberOfDoubleDots)}function n4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new ra(r,!1,i-o)}function r4(n){return cl(n[0])?n[0].outlets:{[ge]:n}}function SM(n,e,t){if(n??=new Ae([],{}),n.segments.length===0&&n.hasChildren())return sl(n,e,t);let r=i4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ae(n.segments.slice(0,r.pathIndex),{});return o.children[ge]=new Ae(n.segments.slice(r.pathIndex),n.children),sl(o,0,i)}else return r.match&&i.length===0?new Ae(n.segments,{}):r.match&&!n.hasChildren()?Wy(n,e,t):r.match?sl(n,0,i):Wy(n,e,t)}function sl(n,e,t){if(t.length===0)return new Ae(n.segments,{});{let r=r4(t),i={};if(Object.keys(r).some(o=>o!==ge)&&n.children[ge]&&n.numberOfChildren===1&&n.children[ge].segments.length===0){let o=sl(n.children[ge],e,t);return new Ae(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=SM(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(n.segments,i)}}function i4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(cl(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!uM(l,u,s))return o;r+=2}else{if(!uM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(cl(o)){let l=o4(o.outlets);return new Ae(r,l)}if(i===0&&Rh(t[0])){let l=n.segments[e];r.push(new Oi(l.path,lM(t[0]))),i++;continue}let s=cl(o)?o.outlets[ge]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Rh(a)?(r.push(new Oi(s,lM(a))),i+=2):(r.push(new Oi(s,{})),i++)}return new Ae(r,{})}function o4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Wy(new Ae([],{}),0,r))}),e}function lM(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function uM(n,e,t){return n==t.path&&dr(e,t.parameters)}var kh="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),En=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ri=class extends En{type=vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends En{urlAfterRedirects;type=vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(un||{}),oa=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(oa||{}),hr=class extends En{reason;code;type=vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pr=class extends En{reason;code;type=vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},sa=class extends En{error;target;type=vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ll=class extends En{urlAfterRedirects;state;type=vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class extends En{urlAfterRedirects;state;type=vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends En{urlAfterRedirects;state;shouldActivate;type=vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Lh=class extends En{urlAfterRedirects;state;type=vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class extends En{urlAfterRedirects;state;type=vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bh=class{route;type=vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Uh=class{route;type=vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zh=class{snapshot;type=vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$h=class{snapshot;type=vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qh=class{snapshot;type=vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hh=class{snapshot;type=vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},aa=class{routerEvent;position;anchor;type=vt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ul=class{},ca=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function s4(n,e){return n.providers&&!n._injector&&(n._injector=Hc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qn(n){return n.outlet||ge}function a4(n,e){let t=n.filter(r=>Qn(r)===e);return t.push(...n.filter(r=>Qn(r)!==e)),t}function _l(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Wh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _l(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Vo(this.rootInjector)}},Vo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Wh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(oe(Ft))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Gy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ky(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ky(e,this._root).map(t=>t.value)}};function Gy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Gy(n,t);if(r)return r}return null}function Ky(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ky(n,t);if(r.length)return r.unshift(e),r}return[]}var Cn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function na(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dl=class extends Gh{snapshot;constructor(e,t){super(e),this.snapshot=t,nv(this,e)}toString(){return this.snapshot.toString()}};function PM(n){let e=c4(n),t=new Tt([new Oi("",{})]),r=new Tt({}),i=new Tt({}),o=new Tt({}),s=new Tt(""),a=new gr(t,r,o,s,i,ge,n,e.root);return a.snapshot=e.root,new dl(new Cn(a,[]),e)}function c4(n){let e={},t={},r={},i="",o=new Ro([],e,r,i,t,ge,n,null,{});return new hl("",new Cn(o,[]))}var gr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(u=>u[ml]))??ie(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(e=>No(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(e=>No(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Kh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:z(z({},e.params),n.params),data:z(z({},e.data),n.data),resolve:z(z(z(z({},n.data),e.data),i?.data),n._resolvedData)}:r={params:z({},n.params),data:z({},n.data),resolve:z(z({},n.data),n._resolvedData??{})},i&&AM(i)&&(r.resolve[ml]=i.title),r}var Ro=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ml]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=No(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hl=class extends Gh{url;constructor(e,t){super(t),this.url=e,nv(this,t)}toString(){return OM(this._root)}};function nv(n,e){e.value._routerState=n,e.children.forEach(t=>nv(n,t))}function OM(n){let e=n.children.length>0?` { ${n.children.map(OM).join(", ")} } `:"";return`${n.value}${e}`}function By(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dr(e.params,t.params)||n.paramsSubject.next(t.params),Fj(e.url,t.url)||n.urlSubject.next(t.url),dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Qy(n,e){let t=dr(n.params,e.params)&&Bj(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Qy(n.parent,e.parent))}function AM(n){return typeof n.title=="string"||n.title===null}var kM=new Q(""),yl=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ge;activateEvents=new ot;deactivateEvents=new ot;attachEvents=new ot;detachEvents=new ot;routerOutletData=qx(void 0);parentContexts=V(Vo);location=V(Mi);changeDetector=V(Ao);inputBinder=V(vl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Yy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Di]})}return n})(),Yy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===gr?this.route:e===Vo?this.childContexts:e===kM?this.outletData:this.parent.get(e,t)}},vl=new Q(""),rv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Dc([r.queryParams,r.params,r.data]).pipe(Mn(([o,s,a],l)=>(a=z(z(z({},o),s),a),l===0?ie(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=MT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})(),iv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ge({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ie(0,"router-outlet")},dependencies:[yl],encapsulation:2})}return n})();function ov(n){let e=n.children&&n.children.map(ov),t=e?le(z({},n),{children:e}):z({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ge&&(t.component=iv),t}function l4(n,e,t){let r=fl(n,e._root,t?t._root:void 0);return new dl(r,e)}function fl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=u4(n,e,t);return new Cn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fl(n,a)),s}}let r=d4(e.value),i=e.children.map(o=>fl(n,o));return new Cn(r,i)}}function u4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fl(n,r,i);return fl(n,r)})}function d4(n){return new gr(new Tt(n.url),new Tt(n.params),new Tt(n.queryParams),new Tt(n.fragment),new Tt(n.data),n.outlet,n.component,n)}var la=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},RM="ngNavigationCancelingError";function Qh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ki(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=NM(!1,un.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function NM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[RM]=!0,t.cancellationCode=e,t}function h4(n){return FM(n)&&ki(n.url)}function FM(n){return!!n&&n[RM]}var f4=(n,e,t,r)=>De(i=>(new Zy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Zy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),By(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=na(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=na(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=na(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=na(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $h(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(By(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),By(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Yh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ia=class{component;route;constructor(e,t){this.component=e,this.route=t}};function p4(n,e,t){let r=n._root,i=e?e._root:null;return ol(r,i,t,[r.value])}function g4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function da(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!LI(n)?n:e.get(n):r}function ol(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=na(e);return n.children.forEach(s=>{m4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>al(a,t.getContext(s),i)),i}function m4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=_4(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Yh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ol(n,e,a?a.children:null,r,i):ol(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ia(a.outlet.component,s))}else s&&al(e,a,i),i.canActivateChecks.push(new Yh(r)),o.component?ol(n,null,a?a.children:null,r,i):ol(n,null,t,r,i);return i}function _4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,e.url)||!dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qy(n,e)||!dr(n.queryParams,e.queryParams);case"paramsChange":default:return!Qy(n,e)}}function al(n,e,t){let r=na(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?al(s,e.children.getContext(o),t):al(s,null,t):al(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ia(e.outlet.component,i)):t.canDeactivateChecks.push(new ia(null,i)):t.canDeactivateChecks.push(new ia(null,i))}function bl(n){return typeof n=="function"}function y4(n){return typeof n=="boolean"}function v4(n){return n&&bl(n.canLoad)}function b4(n){return n&&bl(n.canActivate)}function w4(n){return n&&bl(n.canActivateChild)}function C4(n){return n&&bl(n.canDeactivate)}function E4(n){return n&&bl(n.canMatch)}function VM(n){return n instanceof Nr||n?.name==="EmptyError"}var Sh=Symbol("INITIAL_VALUE");function ua(){return Mn(n=>Dc(n.map(e=>e.pipe(Vr(1),om(Sh)))).pipe(De(e=>{for(let t of e)if(t!==!0){if(t===Sh)return Sh;if(t===!1||I4(t))return t}return!0}),mn(e=>e!==Sh),Vr(1)))}function I4(n){return ki(n)||n instanceof la}function x4(n,e){return it(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ie(le(z({},t),{guardsResult:!0})):D4(s,r,i,n).pipe(it(a=>a&&y4(a)?T4(r,o,n,e):ie(a)),De(a=>le(z({},t),{guardsResult:a})))})}function D4(n,e,t,r){return We(n).pipe(it(i=>A4(i.component,i.route,t,e,r)),Lr(i=>i!==!0,!0))}function T4(n,e,t,r){return We(e).pipe(bi(i=>Ms(S4(i.route.parent,r),M4(i.route,r),O4(n,i.path,t),P4(n,i.route,t))),Lr(i=>i!==!0,!0))}function M4(n,e){return n!==null&&e&&e(new qh(n)),ie(!0)}function S4(n,e){return n!==null&&e&&e(new zh(n)),ie(!0)}function P4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ie(!0);let i=r.map(o=>ud(()=>{let s=_l(e)??t,a=da(o,s),l=b4(a)?a.canActivate(e,n):Lt(s,()=>a(e,n));return Ni(l).pipe(Lr())}));return ie(i).pipe(ua())}function O4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>g4(s)).filter(s=>s!==null).map(s=>ud(()=>{let a=s.guards.map(l=>{let u=_l(s.node)??t,h=da(l,u),p=w4(h)?h.canActivateChild(r,n):Lt(u,()=>h(r,n));return Ni(p).pipe(Lr())});return ie(a).pipe(ua())}));return ie(o).pipe(ua())}function A4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ie(!0);let s=o.map(a=>{let l=_l(e)??i,u=da(a,l),h=C4(u)?u.canDeactivate(n,e,t,r):Lt(l,()=>u(n,e,t,r));return Ni(h).pipe(Lr())});return ie(s).pipe(ua())}function k4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ie(!0);let o=i.map(s=>{let a=da(s,n),l=v4(a)?a.canLoad(e,t):Lt(n,()=>a(e,t));return Ni(l)});return ie(o).pipe(ua(),LM(r))}function LM(n){return Gg(Mt(e=>{if(typeof e!="boolean")throw Qh(n,e)}),De(e=>e===!0))}function R4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ie(!0);let o=i.map(s=>{let a=da(s,n),l=E4(a)?a.canMatch(e,t):Lt(n,()=>a(e,t));return Ni(l)});return ie(o).pipe(ua(),LM(r))}var pl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},gl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ta(n){return Ds(new pl(n))}function N4(n){return Ds(new K(4e3,!1))}function F4(n){return Ds(NM(!1,un.GuardRejected))}var Jy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ie(r);if(i.numberOfChildren>1||!i.children[ge])return N4(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,params:v,data:T,title:k}=i,R=Lt(o,()=>a({params:v,data:T,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:y,title:k}));if(R instanceof fr)throw new gl(R);t=R}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new gl(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new fr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ae(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Xy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function V4(n,e,t,r,i){let o=jM(n,e,t);return o.matched?(r=s4(e,r),R4(r,e,t,i).pipe(De(s=>s===!0?o:z({},Xy)))):ie(o)}function jM(n,e,t){if(e.path==="**")return L4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?z({},Xy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||pM)(t,n,e);if(!i)return z({},Xy);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?z(z({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function L4(n){return{matched:!0,parameters:n.length>0?mM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function dM(n,e,t,r){return t.length>0&&U4(n,t,r)?{segmentGroup:new Ae(e,B4(r,new Ae(t,n.children))),slicedSegments:[]}:t.length===0&&z4(n,t,r)?{segmentGroup:new Ae(n.segments,j4(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ae(n.segments,n.children),slicedSegments:t}}function j4(n,e,t,r){let i={};for(let o of t)if(Jh(n,e,o)&&!r[Qn(o)]){let s=new Ae([],{});i[Qn(o)]=s}return z(z({},r),i)}function B4(n,e){let t={};t[ge]=e;for(let r of n)if(r.path===""&&Qn(r)!==ge){let i=new Ae([],{});t[Qn(r)]=i}return t}function U4(n,e,t){return t.some(r=>Jh(n,e,r)&&Qn(r)!==ge)}function z4(n,e,t){return t.some(r=>Jh(n,e,r))}function Jh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function $4(n,e,t){return e.length===0&&!n.children[t]}var ev=class{};function q4(n,e,t,r,i,o,s="emptyOnly"){return new tv(n,e,t,r,i,s,o).recognize()}var H4=31,tv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Jy(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=dM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(De(({children:t,rootSnapshot:r})=>{let i=new Cn(r,t),o=new hl("",i),s=xM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Ro([],Object.freeze({}),Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,t).pipe(De(r=>({children:r,rootSnapshot:t})),Fr(r=>{if(r instanceof gl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(De(s=>s instanceof Cn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return We(o).pipe(bi(s=>{let a=r.children[s],l=a4(t,s);return this.processSegmentGroup(e,l,a,s,i)}),im((s,a)=>(s.push(...a),s)),wi(null),rm(),it(s=>{if(s===null)return ta(r);let a=BM(s);return W4(a),ie(a)}))}processSegment(e,t,r,i,o,s,a){return We(t).pipe(bi(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Fr(u=>{if(u instanceof pl)return ie(null);throw u}))),Lr(l=>!!l),Fr(l=>{if(VM(l))return $4(r,i,o)?ie(new ev):ta(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return Qn(r)!==s&&(s===ge||!Jh(i,o,r))?ta(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):ta(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=jM(t,i,o);if(!l)return ta(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>H4&&(this.allowRedirects=!1));let v=new Ro(o,u,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,hM(i),Qn(i),i.component??i._loadedComponent??null,i,fM(i)),T=Kh(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data);let k=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,k).pipe(it(R=>this.processSegment(e,r,t,R.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=V4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Mn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Mn(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:v}=l,T=new Ro(y,p,Object.freeze(z({},this.urlTree.queryParams)),this.urlTree.fragment,hM(r),Qn(r),r.component??r._loadedComponent??null,r,fM(r)),k=Kh(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(k.params),T.data=Object.freeze(k.data);let{segmentGroup:R,slicedSegments:J}=dM(t,y,v,u);if(J.length===0&&R.hasChildren())return this.processChildren(h,u,R,T).pipe(De(ce=>new Cn(T,ce)));if(u.length===0&&J.length===0)return ie(new Cn(T,[]));let ae=Qn(r)===o;return this.processSegment(h,u,R,J,ae?ge:o,!0,T).pipe(De(ce=>new Cn(T,ce instanceof Cn?[ce]:[])))}))):ta(t)))}getChildConfig(e,t,r){return t.children?ie({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ie({routes:t._loadedRoutes,injector:t._loadedInjector}):k4(e,t,r,this.urlSerializer).pipe(it(i=>i?this.configLoader.loadChildren(e,t).pipe(Mt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):F4(t))):ie({routes:[],injector:e})}};function W4(n){n.sort((e,t)=>e.value.outlet===ge?-1:t.value.outlet===ge?1:e.value.outlet.localeCompare(t.value.outlet))}function G4(n){let e=n.value.routeConfig;return e&&e.path===""}function BM(n){let e=[],t=new Set;for(let r of n){if(!G4(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=BM(r.children);e.push(new Cn(r.value,i))}return e.filter(r=>!t.has(r))}function hM(n){return n.data||{}}function fM(n){return n.resolve||{}}function K4(n,e,t,r,i,o){return it(s=>q4(n,e,t,r,s.extractedUrl,i,o).pipe(De(({state:a,tree:l})=>le(z({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Q4(n,e){return it(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ie(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of UM(l))s.add(u);let a=0;return We(s).pipe(bi(l=>o.has(l)?Y4(l,r,n,e):(l.data=Kh(l,l.parent,n).resolve,ie(void 0))),Mt(()=>a++),Ss(1),it(l=>a===s.size?ie(t):Xt))})}function UM(n){let e=n.children.map(t=>UM(t)).flat();return[n,...e]}function Y4(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!AM(i)&&(o[ml]=i.title),Z4(o,n,e,r).pipe(De(s=>(n._resolvedData=s,n.data=Kh(n,n.parent,t).resolve,null)))}function Z4(n,e,t,r){let i=$y(n);if(i.length===0)return ie({});let o={};return We(i).pipe(it(s=>J4(n[s],e,t,r).pipe(Lr(),Mt(a=>{if(a instanceof la)throw Qh(new Ai,a);o[s]=a}))),Ss(1),De(()=>o),Fr(s=>VM(s)?Xt:Ds(s)))}function J4(n,e,t,r){let i=_l(e)??r,o=da(n,i),s=o.resolve?o.resolve(e,t):Lt(i,()=>o(e,t));return Ni(s)}function Uy(n){return Mn(e=>{let t=n(e);return t?We(t).pipe(De(()=>e)):ie(e)})}var sv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ge);return r}getResolvedTitleForRoute(t){return t.data[ml]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>V(zM),providedIn:"root"})}return n})(),zM=(()=>{class n extends sv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(oe(oM))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lo=new Q("",{providedIn:"root",factory:()=>({})}),jo=new Q(""),Xh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(ET);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ie(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Ni(t.loadComponent()).pipe(De(qM),Mt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Tc(()=>{this.componentLoaders.delete(t)})),i=new Cs(r,()=>new rt).pipe(ws());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ie({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=$M(r,this.compiler,t,this.onLoadEndListener).pipe(Tc(()=>{this.childrenLoaders.delete(r)})),s=new Cs(o,()=>new rt).pipe(ws());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $M(n,e,t,r){return Ni(n.loadChildren()).pipe(De(qM),it(i=>i instanceof gy||Array.isArray(i)?ie(i):We(e.compileModuleAsync(i))),De(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(jo,[],{optional:!0,self:!0}).flat()),{routes:s.map(ov),injector:o}}))}function X4(n){return n&&typeof n=="object"&&"default"in n}function qM(n){return X4(n)?n.default:n}var ef=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>V(e3),providedIn:"root"})}return n})(),e3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),av=new Q(""),cv=new Q("");function HM(n,e,t){let r=n.get(cv),i=n.get(yt);return n.get(Pe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),t3(n))),{onViewTransitionCreated:l}=r;return l&&Lt(n,()=>l({transition:a,from:e,to:t})),s})}function t3(n){return new Promise(e=>{Z_({read:()=>setTimeout(e)},{injector:n})})}var lv=new Q(""),tf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new rt;transitionAbortSubject=new rt;configLoader=V(Xh);environmentInjector=V(Ft);destroyRef=V(Gs);urlSerializer=V(Fo);rootContexts=V(Vo);location=V(Pi);inputBindingEnabled=V(vl,{optional:!0})!==null;titleStrategy=V(sv);options=V(Lo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(ef);createViewTransition=V(av,{optional:!0});navigationErrorHandler=V(lv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ie(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Bh(i)),r=i=>this.events.next(new Uh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(z({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Tt(null),this.transitions.pipe(mn(r=>r!==null),Mn(r=>{let i=!1,o=!1;return ie(r).pipe(Mn(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",un.SupersededByNewNavigation),Xt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?le(z({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload"){let u="";return this.events.next(new pr(s.id,this.urlSerializer.serialize(s.rawUrl),u,oa.IgnoredSameUrlNavigation)),s.resolve(!1),Xt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ie(s).pipe(Mn(u=>(this.events.next(new Ri(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Xt:Promise.resolve(u))),K4(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Mt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=le(z({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let h=new ll(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:h,source:p,restoredState:y,extras:v}=s,T=new Ri(u,this.urlSerializer.serialize(h),p,y);this.events.next(T);let k=PM(this.rootComponentType).snapshot;return this.currentTransition=r=le(z({},s),{targetSnapshot:k,urlAfterRedirects:h,extras:le(z({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ie(r)}else{let u="";return this.events.next(new pr(s.id,this.urlSerializer.serialize(s.extractedUrl),u,oa.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Xt}}),Mt(s=>{let a=new Fh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),De(s=>(this.currentTransition=r=le(z({},s),{guards:p4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),x4(this.environmentInjector,s=>this.events.next(s)),Mt(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Qh(this.urlSerializer,s.guardsResult);let a=new Vh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),mn(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",un.GuardRejected),!1)),Uy(s=>{if(s.guards.canActivateChecks.length!==0)return ie(s).pipe(Mt(a=>{let l=new Lh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Mn(a=>{let l=!1;return ie(a).pipe(Q4(this.paramsInheritanceStrategy,this.environmentInjector),Mt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",un.NoDataFromResolver)}}))}),Mt(a=>{let l=new jh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Uy(s=>{let a=l=>{let u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Mt(h=>{l.component=h}),De(()=>{})));for(let h of l.children)u.push(...a(h));return u};return Dc(a(s.targetSnapshot.root)).pipe(wi(null),Vr(1))}),Uy(()=>this.afterPreactivation()),Mn(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return l?We(l).pipe(De(()=>r)):ie(r)}),De(s=>{let a=l4(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=le(z({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),Mt(()=>{this.events.next(new ul)}),f4(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Vr(1),Mt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),sm(this.transitionAbortSubject.pipe(Mt(s=>{throw s}))),Tc(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",un.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Fr(s=>{if(this.destroyed)return r.resolve(!1),Xt;if(o=!0,FM(s))this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),h4(s)?this.events.next(new ca(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new sa(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=Lt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof la){let{message:u,cancellationCode:h}=Qh(this.urlSerializer,l);this.events.next(new hr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new ca(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return Xt}))}))}cancelNavigationTransition(t,r,i){let o=new hr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n3(n){return n!==kh}var WM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>V(r3),providedIn:"root"})}return n})(),Zh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},r3=(()=>{class n extends Zh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GM=(()=>{class n{urlSerializer=V(Fo);options=V(Lo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(Pi);urlHandlingStrategy=V(ef);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof fr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=PM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:()=>V(i3),providedIn:"root"})}return n})(),i3=(()=>{class n extends GM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ri?this.updateStateMemento():t instanceof pr?this.commitTransition(r):t instanceof ll?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ul?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof hr&&(t.code===un.GuardRejected||t.code===un.NoDataFromResolver)?this.restoreHistory(r):t instanceof sa?this.restoreHistory(r,!0):t instanceof Rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=z(z({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=z(z({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nf(n,e){n.events.pipe(mn(t=>t instanceof Rn||t instanceof hr||t instanceof sa||t instanceof pr),De(t=>t instanceof Rn||t instanceof pr?0:(t instanceof hr?t.code===un.Redirect||t.code===un.SupersededByNewNavigation:!1)?2:1),mn(t=>t!==2),Vr(1)).subscribe(()=>{e()})}var o3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ht=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(my);stateManager=V(GM);options=V(Lo,{optional:!0})||{};pendingTasks=V(Mo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(tf);urlSerializer=V(Fo);location=V(Pi);urlHandlingStrategy=V(ef);_events=new rt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(WM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(jo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(vl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ze;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hr&&r.code!==un.Redirect&&r.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof ca){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=z({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||n3(i.source)},s);this.scheduleNavigation(a,kh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}c3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),kh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=z({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ov),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=z(z({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=DM(y)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return TM(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ki(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kh,null,r)}navigate(t,r={skipLocationChange:!1}){return a3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=z({},o3):r===!1?i=z({},s3):i=r,ki(t))return aM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return aM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((p,y)=>{a=p,l=y});let h=this.pendingTasks.add();return nf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function a3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function c3(n){return!(n instanceof ul)&&!(n instanceof ca)}var wt=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new rt;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Rn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ki(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:bD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ki(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(W(ht),W(gr),q_("tabindex"),W(lr),W(cn),W(Wn))};static \u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&bn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Si],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Si],replaceUrl:[2,"replaceUrl","replaceUrl",Si],routerLink:"routerLink"},features:[Di]})}return n})();var wl=class{};var KM=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mn(t=>t instanceof Rn),bi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Hc(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return We(i).pipe(Ts())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ie(null);let o=i.pipe(it(s=>s===null?ie(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return We([o,s]).pipe(Ts())}else return o})}static \u0275fac=function(r){return new(r||n)(oe(ht),oe(Ft),oe(wl),oe(Xh))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QM=new Q(""),l3=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pr&&t.code===oa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof aa&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){HD()};static \u0275prov=H({token:n,factory:n.\u0275fac})}return n})();function dv(n,...e){return zn([{provide:jo,multi:!0,useValue:n},[],{provide:gr,useFactory:YM,deps:[ht]},{provide:lh,multi:!0,useFactory:ZM},e.map(t=>t.\u0275providers)])}function YM(n){return n.routerState.root}function Cl(n,e){return{\u0275kind:n,\u0275providers:e}}function ZM(){let n=V(Je);return e=>{let t=n.get(Ii);if(e!==t.components[0])return;let r=n.get(ht),i=n.get(JM);n.get(hv)===1&&r.initialNavigation(),n.get(t1,null,me.Optional)?.setUpPreloading(),n.get(QM,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var JM=new Q("",{factory:()=>new rt}),hv=new Q("",{providedIn:"root",factory:()=>1});function XM(){let n=[{provide:hv,useValue:0},_y(()=>{let e=V(Je);return e.get(wy,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(ht),o=e.get(JM);nf(i,()=>{r(!0)}),e.get(tf).afterPreactivation=()=>(r(!0),o.closed?ie(void 0):o),i.initialNavigation()}))})];return Cl(2,n)}function e1(){let n=[_y(()=>{V(ht).setUpLocationChangeListener()}),{provide:hv,useValue:2}];return Cl(3,n)}var t1=new Q("");function n1(n){return Cl(0,[{provide:t1,useExisting:KM},{provide:wl,useExisting:n}])}function r1(){return Cl(8,[rv,{provide:vl,useExisting:rv}])}function i1(n){Zs("NgRouterViewTransitions");let e=[{provide:av,useValue:HM},{provide:cv,useValue:z({skipNextTransition:!!n?.skipInitialTransition},n)}];return Cl(9,e)}var o1=[Pi,{provide:Fo,useClass:Ai},ht,Vo,{provide:gr,useFactory:YM,deps:[ht]},Xh,[]],Ot=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[o1,[],{provide:jo,multi:!0,useValue:t},[],r?.errorHandler?{provide:lv,useValue:r.errorHandler}:[],{provide:Lo,useValue:r||{}},r?.useHash?d3():h3(),u3(),r?.preloadingStrategy?n1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?f3(r):[],r?.bindToComponentInputs?r1().\u0275providers:[],r?.enableViewTransitions?i1().\u0275providers:[],p3()]}}static forChild(t){return{ngModule:n,providers:[{provide:jo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=qr({})}return n})();function u3(){return{provide:QM,useFactory:()=>{let n=V(YT),e=V(Pe),t=V(Lo),r=V(tf),i=V(Fo);return t.scrollOffset&&n.setOffset(t.scrollOffset),new l3(i,r,n,e,t)}}}function d3(){return{provide:Wn,useClass:xy}}function h3(){return{provide:Wn,useClass:ph}}function f3(n){return[n.initialNavigation==="disabled"?e1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?XM().\u0275providers:[]]}var uv=new Q("");function p3(){return[{provide:uv,useFactory:ZM},{provide:lh,multi:!0,useExisting:uv}]}var g1=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(W(lr),W(cn))};static \u0275dir=je({type:n})}return n})(),Bo=(()=>{class n extends g1{static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,features:[Pt]})}return n})(),Vi=new Q(""),g3={provide:Vi,useExisting:Qt(()=>mv),multi:!0},mv=(()=>{class n extends Bo{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[wn([g3]),Pt]})}return n})(),m3={provide:Vi,useExisting:Qt(()=>Ut),multi:!0};function _3(){let n=An()?An().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var y3=new Q(""),Ut=(()=>{class n extends g1{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!_3())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(W(lr),W(cn),W(y3,8))};static \u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[wn([m3]),Pt]})}return n})();function v3(n){return n==null||b3(n)===0}function b3(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ml=new Q(""),m1=new Q("");function w3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function C3(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function E3(n){return v3(n.value)?{required:!0}:null}function s1(n){return null}function _1(n){return n!=null}function y1(n){return So(n)?We(n):n}function v1(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function b1(n,e){return e.map(t=>t(n))}function I3(n){return!n.validate}function w1(n){return n.map(e=>I3(e)?e:t=>e.validate(t))}function x3(n){if(!n)return null;let e=n.filter(_1);return e.length==0?null:function(t){return v1(b1(t,e))}}function _v(n){return n!=null?x3(w1(n)):null}function D3(n){if(!n)return null;let e=n.filter(_1);return e.length==0?null:function(t){let r=b1(t,e).map(y1);return nm(r).pipe(De(v1))}}function yv(n){return n!=null?D3(w1(n)):null}function a1(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function T3(n){return n._rawValidators}function M3(n){return n._rawAsyncValidators}function fv(n){return n?Array.isArray(n)?n:[n]:[]}function of(n,e){return Array.isArray(n)?n.includes(e):n===e}function c1(n,e){let t=fv(e);return fv(n).forEach(i=>{of(t,i)||t.push(i)}),t}function l1(n,e){return fv(e).filter(t=>!of(n,t))}var sf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_v(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},pa=class extends sf{name;get formDirective(){return null}get path(){return null}},ga=class extends sf{_parent=null;name=null;valueAccessor=null},af=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},S3={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nX=le(z({},S3),{"[class.ng-submitted]":"isSubmitted"}),dn=(()=>{class n extends af{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(ga,2))};static \u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ne("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Pt]})}return n})(),ma=(()=>{class n extends af{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(W(pa,10))};static \u0275dir=je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ne("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Pt]})}return n})();var El="VALID",rf="INVALID",ha="PENDING",Il="DISABLED",Fi=class{},cf=class extends Fi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Dl=class extends Fi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Tl=class extends Fi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},fa=class extends Fi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},pv=class extends Fi{source;constructor(e){super(),this.source=e}},gv=class extends Fi{source;constructor(e){super(),this.source=e}};function C1(n){return(df(n)?n.validators:n)||null}function P3(n){return Array.isArray(n)?_v(n):n||null}function E1(n,e){return(df(e)?e.asyncValidators:n)||null}function O3(n){return Array.isArray(n)?yv(n):n||null}function df(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function A3(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function k3(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var lf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ur(this.statusReactive)}set status(e){ur(()=>this.statusReactive.set(e))}_status=ea(()=>this.statusReactive());statusReactive=Qs(void 0);get valid(){return this.status===El}get invalid(){return this.status===rf}get pending(){return this.status==ha}get disabled(){return this.status===Il}get enabled(){return this.status!==Il}errors;get pristine(){return ur(this.pristineReactive)}set pristine(e){ur(()=>this.pristineReactive.set(e))}_pristine=ea(()=>this.pristineReactive());pristineReactive=Qs(!0);get dirty(){return!this.pristine}get touched(){return ur(this.touchedReactive)}set touched(e){ur(()=>this.touchedReactive.set(e))}_touched=ea(()=>this.touchedReactive());touchedReactive=Qs(!1);get untouched(){return!this.touched}_events=new rt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(c1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(c1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l1(e,this._rawAsyncValidators))}hasValidator(e){return of(this._rawValidators,e)}hasAsyncValidator(e){return of(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Tl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Tl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Dl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Dl(!0,r))}markAsPending(e={}){this.status=ha;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Il,this.errors=null,this._forEachChild(i=>{i.disable(le(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cf(this.value,r)),this._events.next(new fa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=El,this._forEachChild(r=>{r.enable(le(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===El||this.status===ha)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cf(this.value,t)),this._events.next(new fa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Il:El}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ha,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=y1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ot,this.statusChanges=new ot}_calculateStatus(){return this._allControlsDisabled()?Il:this.errors?rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ha)?ha:this._anyControlsHaveStatus(rf)?rf:El}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Dl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Tl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){df(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=P3(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=O3(this._rawAsyncValidators)}},uf=class extends lf{constructor(e,t,r){super(C1(t),E1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){k3(this,!0,e),Object.keys(e).forEach(r=>{A3(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hf=new Q("",{providedIn:"root",factory:()=>ff}),ff="always";function R3(n,e){return[...e.path,n]}function I1(n,e,t=ff){x1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),F3(n,e),L3(n,e),V3(n,e),N3(n,e)}function u1(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N3(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function x1(n,e){let t=T3(n);e.validator!==null?n.setValidators(a1(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=M3(n);e.asyncValidator!==null?n.setAsyncValidators(a1(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();u1(e._rawValidators,i),u1(e._rawAsyncValidators,i)}function F3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&D1(n,e)})}function V3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&D1(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function D1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function L3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function j3(n,e){n==null,x1(n,e)}function B3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function U3(n){return Object.getPrototypeOf(n.constructor)===Bo}function z3(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $3(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ut?t=o:U3(o)?r=o:i=o}),i||r||t||null}var q3={provide:pa,useExisting:Qt(()=>Uo)},xl=Promise.resolve(),Uo=(()=>{class n extends pa{callSetDisabledState;get submitted(){return ur(this.submittedReactive)}_submitted=ea(()=>this.submittedReactive());submittedReactive=Qs(!1);_directives=new Set;form;ngSubmit=new ot;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new uf({},_v(t),yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),I1(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xl.then(()=>{let r=this._findContainer(t.path),i=new uf({});j3(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),z3(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new pv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new gv(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(W(Ml,10),W(m1,10),W(hf,8))};static \u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[wn([q3]),Pt]})}return n})();function d1(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function h1(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var H3=class extends lf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(C1(t),E1(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),df(t)&&(t.nonNullable||t.initialValueIsDefault)&&(h1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){d1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){d1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){h1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var W3={provide:ga,useExisting:Qt(()=>Yt)},f1=Promise.resolve(),Yt=(()=>{class n extends ga{_changeDetectorRef;callSetDisabledState;control=new H3;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ot;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$3(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),B3(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){I1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){f1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Si(r);f1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?R3(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(W(pa,9),W(Ml,10),W(m1,10),W(Vi,10),W(Ao,8),W(hf,8))};static \u0275dir=je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[wn([W3]),Pt,Di]})}return n})();var _a=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),G3={provide:Vi,useExisting:Qt(()=>vv),multi:!0},vv=(()=>{class n extends Bo{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[wn([G3]),Pt]})}return n})(),K3={provide:Vi,useExisting:Qt(()=>bv),multi:!0};var Q3=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bv=(()=>{class n extends Bo{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=V(hf,{optional:!0})??ff;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(ga),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(W(lr),W(cn),W(Q3),W(Je))};static \u0275dir=je({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[wn([K3]),Pt]})}return n})(),Y3={provide:Vi,useExisting:Qt(()=>wv),multi:!0},wv=(()=>{class n extends Bo{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[wn([Y3]),Pt]})}return n})();var Z3={provide:Vi,useExisting:Qt(()=>ya),multi:!0};function T1(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function J3(n){return n.split(":")[0]}var ya=(()=>{class n extends Bo{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),i=T1(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=J3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[wn([Z3]),Pt]})}return n})(),pf=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(T1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(W(cn),W(lr),W(ya,9))};static \u0275dir=je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),X3={provide:Vi,useExisting:Qt(()=>M1),multi:!0};function p1(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function eB(n){return n.split(":")[0]}var M1=(()=>{class n extends Bo{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=eB(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[wn([X3]),Pt]})}return n})(),gf=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(p1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(p1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(W(cn),W(lr),W(M1,9))};static \u0275dir=je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function S1(n){return typeof n=="number"?n:parseFloat(n)}var Cv=(()=>{class n{_validator=s1;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):s1,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=je({type:n,features:[Di]})}return n})(),tB={provide:Ml,useExisting:Qt(()=>Ev),multi:!0},Ev=(()=>{class n extends Cv{max;inputName="max";normalizeInput=t=>S1(t);createValidator=t=>C3(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bn("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[wn([tB]),Pt]})}return n})(),nB={provide:Ml,useExisting:Qt(()=>Iv),multi:!0},Iv=(()=>{class n extends Cv{min;inputName="min";normalizeInput=t=>S1(t);createValidator=t=>w3(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&bn("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[wn([nB]),Pt]})}return n})(),rB={provide:Ml,useExisting:Qt(()=>Sl),multi:!0};var Sl=(()=>{class n extends Cv{required;inputName="required";normalizeInput=Si;createValidator=t=>E3;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=vn(n)))(i||n)}})();static \u0275dir=je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&bn("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[wn([rB]),Pt]})}return n})();var iB=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=qr({})}return n})();var hn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hf,useValue:t.callSetDisabledState??ff}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Yr({type:n});static \u0275inj=qr({imports:[iB]})}return n})();var P1=()=>{};var k1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},oB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|u>>6,v=u&63;l||(v=64,s||(y=64)),r.push(t[h],t[p],t[y],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(k1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new Dv;let y=o<<2|a>>4;if(r.push(y),u!==64){let v=a<<4&240|u>>2;if(r.push(v),p!==64){let T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Dv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sB=function(n){let e=k1(n);return mf.encodeByteArray(e,!0)},Ol=function(n){return sB(n).replace(/\./g,"")},_f=function(n){try{return mf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var aB=()=>Mv().__FIREBASE_DEFAULTS__,cB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&_f(n[1]);return e&&JSON.parse(e)},yf=()=>{try{return P1()||aB()||cB()||lB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sv=n=>{var e,t;return(t=(e=yf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},R1=n=>{let e=Sv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Pv=()=>{var n;return(n=yf())===null||n===void 0?void 0:n.config},Ov=n=>{var e;return(e=yf())===null||e===void 0?void 0:e[`_${n}`]};var $o=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Li(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function vf(n){return w(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function N1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ol(JSON.stringify(t)),Ol(JSON.stringify(s)),""].join(".")}var Pl={};function uB(){let n={prod:[],emulator:[]};for(let e of Object.keys(Pl))Pl[e]?n.emulator.push(e):n.prod.push(e);return n}function dB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var O1=!1;function bf(n,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||Pl[n]===e||Pl[n]||O1)return;Pl[n]=e;function t(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=uB().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function a(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function l(y,v){y.setAttribute("width","24"),y.setAttribute("id",v),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function u(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{O1=!0,s()},y}function h(y,v){y.setAttribute("id",v),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){let y=dB(r),v=t("text"),T=document.getElementById(v)||document.createElement("span"),k=t("learnmore"),R=document.getElementById(k)||document.createElement("a"),J=t("preprendIcon"),ae=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let ce=y.element;a(ce),h(R,k);let Ue=u();l(ae,J),ce.append(ae,T,R,Ue),document.body.appendChild(ce)}o?(T.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function hB(){var n;let e=(n=yf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function j1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B1(){let n=Ct();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function U1(){return!hB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Al(){try{return typeof indexedDB=="object"}catch{return!1}}function z1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var fB="FirebaseError",In=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fB,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yn.prototype.create)}},Yn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?pB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new In(i,a,r)}};function pB(n,e){return n.replace(gB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var gB=/\{\$([^}]+)}/g;function $1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mr(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(A1(o)&&A1(s)){if(!mr(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function A1(n){return n!==null&&typeof n=="object"}function kl(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function va(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ba(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function q1(n,e){let t=new Tv(n,e);return t.subscribe.bind(t)}var Tv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mB(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=xv),i.error===void 0&&(i.error=xv),i.complete===void 0&&(i.complete=xv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mB(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xv(){}var aX=4*60*60*1e3;function Et(n){return n&&n._delegate?n._delegate:n}var Zt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qo="[DEFAULT]";var Av=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new $o;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yB(e))try{this.getOrInitializeService({instanceIdentifier:qo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qo){return this.instances.has(e)}getOptions(e=qo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_B(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qo){return this.component?this.component.multipleInstances?e:qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function _B(n){return n===qo?void 0:n}function yB(n){return n.instantiationMode==="EAGER"}var wf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Av(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var vB=[],we=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(we||{}),bB={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},wB=we.INFO,CB={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},EB=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=CB[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},_r=class{constructor(e){this.name=e,this._logLevel=wB,this._logHandler=EB,this._userLogHandler=null,vB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var IB=(n,e)=>e.some(t=>n instanceof t),H1,W1;function xB(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DB(){return W1||(W1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var G1=new WeakMap,Rv=new WeakMap,K1=new WeakMap,kv=new WeakMap,Fv=new WeakMap;function TB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(yr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&G1.set(t,n)}).catch(()=>{}),Fv.set(e,n),e}function MB(n){if(Rv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Rv.set(n,e)}var Nv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||K1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Q1(n){Nv=n(Nv)}function SB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Cf(this),e,...t);return K1.set(r,e.sort?e.sort():[e]),yr(r)}:DB().includes(n)?function(...e){return n.apply(Cf(this),e),yr(G1.get(this))}:function(...e){return yr(n.apply(Cf(this),e))}}function PB(n){return typeof n=="function"?SB(n):(n instanceof IDBTransaction&&MB(n),IB(n,xB())?new Proxy(n,Nv):n)}function yr(n){if(n instanceof IDBRequest)return TB(n);if(kv.has(n))return kv.get(n);let e=PB(n);return e!==n&&(kv.set(n,e),Fv.set(e,n)),e}var Cf=n=>Fv.get(n);function Z1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=yr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(yr(s.result),l.oldVersion,l.newVersion,yr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var OB=["get","getKey","getAll","getAllKeys","count"],AB=["put","add","delete","clear"],Vv=new Map;function Y1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vv.get(e))return Vv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=AB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OB.includes(t)))return;let o=function(s,...a){return w(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return Vv.set(e,o),o}Q1(n=>le(z({},n),{get:(e,t,r)=>Y1(e,t)||n.get(e,t,r),has:(e,t)=>!!Y1(e,t)||n.has(e,t)}));var jv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(kB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function kB(n){let e=n.getComponent();return e?.type==="VERSION"}var Bv="@firebase/app",J1="0.13.2";var ei=new _r("@firebase/app"),RB="@firebase/app-compat",NB="@firebase/analytics-compat",FB="@firebase/analytics",VB="@firebase/app-check-compat",LB="@firebase/app-check",jB="@firebase/auth",BB="@firebase/auth-compat",UB="@firebase/database",zB="@firebase/data-connect",$B="@firebase/database-compat",qB="@firebase/functions",HB="@firebase/functions-compat",WB="@firebase/installations",GB="@firebase/installations-compat",KB="@firebase/messaging",QB="@firebase/messaging-compat",YB="@firebase/performance",ZB="@firebase/performance-compat",JB="@firebase/remote-config",XB="@firebase/remote-config-compat",eU="@firebase/storage",tU="@firebase/storage-compat",nU="@firebase/firestore",rU="@firebase/ai",iU="@firebase/firestore-compat",oU="firebase",sU="11.10.0";var Uv="[DEFAULT]",aU={[Bv]:"fire-core",[RB]:"fire-core-compat",[FB]:"fire-analytics",[NB]:"fire-analytics-compat",[LB]:"fire-app-check",[VB]:"fire-app-check-compat",[jB]:"fire-auth",[BB]:"fire-auth-compat",[UB]:"fire-rtdb",[zB]:"fire-data-connect",[$B]:"fire-rtdb-compat",[qB]:"fire-fn",[HB]:"fire-fn-compat",[WB]:"fire-iid",[GB]:"fire-iid-compat",[KB]:"fire-fcm",[QB]:"fire-fcm-compat",[YB]:"fire-perf",[ZB]:"fire-perf-compat",[JB]:"fire-rc",[XB]:"fire-rc-compat",[eU]:"fire-gcs",[tU]:"fire-gcs-compat",[nU]:"fire-fst",[iU]:"fire-fst-compat",[rU]:"fire-vertex","fire-js":"fire-js",[oU]:"fire-js-all"};var Rl=new Map,cU=new Map,zv=new Map;function X1(n,e){try{n.container.addComponent(e)}catch(t){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zn(n){let e=n.name;if(zv.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;zv.set(e,n);for(let t of Rl.values())X1(t,n);for(let t of cU.values())X1(t,n);return!0}function wa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fn(n){return n==null?!1:n.settings!==void 0}var lU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new Yn("app","Firebase",lU);var $v=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}};var Bi=sU;function Wv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Uv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(t||(t=Pv()),!t)throw ji.create("no-options");let o=Rl.get(i);if(o){if(mr(t,o.options)&&mr(r,o.config))return o;throw ji.create("duplicate-app",{appName:i})}let s=new wf(i);for(let l of zv.values())s.addComponent(l);let a=new $v(t,r,s);return Rl.set(i,a),a}function Ho(n=Uv){let e=Rl.get(n);if(!e&&n===Uv&&Pv())return Wv();if(!e)throw ji.create("no-app",{appName:n});return e}function Ef(){return Array.from(Rl.values())}function tt(n,e,t){var r;let i=(r=aU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Zn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uU="firebase-heartbeat-database",dU=1,Nl="firebase-heartbeat-store",Lv=null;function rS(){return Lv||(Lv=Z1(uU,dU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ji.create("idb-open",{originalErrorMessage:n.message})})),Lv}function hU(n){return w(this,null,function*(){try{let t=(yield rS()).transaction(Nl),r=yield t.objectStore(Nl).get(iS(n));return yield t.done,r}catch(e){if(e instanceof In)ei.warn(e.message);else{let t=ji.create("idb-get",{originalErrorMessage:e?.message});ei.warn(t.message)}}})}function eS(n,e){return w(this,null,function*(){try{let r=(yield rS()).transaction(Nl,"readwrite");yield r.objectStore(Nl).put(e,iS(n)),yield r.done}catch(t){if(t instanceof In)ei.warn(t.message);else{let r=ji.create("idb-set",{originalErrorMessage:t?.message});ei.warn(r.message)}}})}function iS(n){return`${n.name}!${n.options.appId}`}var fU=1024,pU=30,qv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Hv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>pU){let s=mU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ei.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=tS(),{heartbeatsToSend:r,unsentEntries:i}=gU(this._heartbeatsCache.heartbeats),o=Ol(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ei.warn(t),""}})}};function tS(){return new Date().toISOString().substring(0,10)}function gU(n,e=fU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),nS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),nS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Hv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return Al()?z1().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield hU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function nS(n){return Ol(JSON.stringify({version:2,heartbeats:n})).length}function mU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function _U(n){Zn(new Zt("platform-logger",e=>new jv(e),"PRIVATE")),Zn(new Zt("heartbeat",e=>new qv(e),"PRIVATE")),tt(Bv,J1,n),tt(Bv,J1,"esm2017"),tt("fire-js","")}_U("");var yU="firebase",vU="11.10.0";tt(yU,vU,"app");function Gv(n){n===void 0&&(O_(Gv),n=V(Je));let e=n.get(eh);return t=>new be(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ui=new xi("ANGULARFIRE2_VERSION");function Fl(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ea=(n,e)=>{let t=e?[e]:Ef(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ca=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ca||{}),oS=yy()&&typeof Zone<"u"?Ca.WARN:Ca.SILENT;var If=class{zone;delegate;constructor(e,t=Xg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},zi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=V(Pe);this.outsideAngular=t.runOutsideAngular(()=>new If(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new If(typeof Zone>"u"?void 0:Zone.current,Jg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sS=!1;function bU(n,e){!sS&&(oS>Ca.SILENT||yy())&&(sS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),oS>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function wU(n){let e=V(Pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Wo(n){let e=V(Pe,{optional:!0});return e?e.run(()=>n()):n()}var CU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Lt(t,()=>Wo(()=>n.apply(void 0,r)))),Jt=(n,e,t)=>(t||=e?Ca.WARN:Ca.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=V(zi),s=V(eh),a=V(Ft)}catch{return bU(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Wo(()=>s.add())),i[u]=CU(i[u],r,a));let l=wU(()=>n.apply(this,i));return e?l instanceof be?l.pipe(vi(o.outsideAngular),yi(o.insideAngular),Gv(a)):l instanceof Promise?Wo(()=>new Promise((u,h)=>{s.run(()=>l).then(p=>Lt(a,()=>Wo(()=>u(p))),p=>Lt(a,()=>Wo(()=>h(p))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Wo(()=>l):l instanceof be?l.pipe(vi(o.outsideAngular),yi(o.insideAngular)):Wo(()=>l)});var ti=class{constructor(e){return e}},Go=class{constructor(){return Ef()}};function EU(n){return n&&n.length===1?n[0]:new ti(Ho())}var Kv=new Q("angularfire2._apps"),IU={provide:ti,useFactory:EU,deps:[[new sn,Kv]]},xU={provide:Go,deps:[[new sn,Kv]]};function DU(n){return(e,t)=>{let r=t.get(Ti);tt("angularfire",Ui.full,"core"),tt("angularfire",Ui.full,"app"),tt("angular",CT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ti(i)}}function aS(n,...e){return zn([IU,xU,{provide:Kv,useFactory:DU(n),multi:!0,deps:[Pe,Je,zi,...e]}])}var cS=Jt(Wv,!0);var TU=new Map,MU={activated:!1,tokenObservers:[]},SU={initialized:!1,enabled:!1};function Jn(n){return TU.get(n)||Object.assign({},MU)}function hS(){return SU}var PU="https://content-firebaseappcheck.googleapis.com/v1";var OU="exchangeDebugToken",lS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},fee=24*60*60*1e3;var Zv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return w(this,null,function*(){this.stop();try{this.pending=new $o,this.pending.promise.catch(t=>{}),yield AU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new $o,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function AU(n){return new Promise(e=>{setTimeout(e,n)})}var kU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},$i=new Yn("appCheck","AppCheck",kU);function fS(n){if(!Jn(n).activated)throw $i.create("use-before-activation",{appName:n.name})}function pS(r,i){return w(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(o["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(v){throw $i.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw $i.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(v){throw $i.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw $i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:u.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function gS(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${PU}/projects/${t}/apps/${r}:${OU}?key=${i}`,body:{debug_token:e}}}var RU="firebase-app-check-database",NU=1,Jv="firebase-app-check-store";var xf=null;function FU(){return xf||(xf=new Promise((n,e)=>{try{let t=indexedDB.open(RU,NU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e($i.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Jv,{keyPath:"compositeKey"})}}}catch(t){e($i.create("storage-open",{originalErrorMessage:t?.message}))}}),xf)}function VU(n,e){return LU(jU(n),e)}function LU(n,e){return w(this,null,function*(){let r=(yield FU()).transaction(Jv,"readwrite"),o=r.objectStore(Jv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a($i.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function jU(n){return`${n.options.appId}-${n.name}`}var Vl=new _r("@firebase/app-check");function Qv(n,e){return Al()?VU(n,e).catch(t=>{Vl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mS(){return hS().enabled}function _S(){return w(this,null,function*(){let n=hS();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var BU={error:"UNKNOWN_ERROR"};function UU(n){return mf.encodeString(JSON.stringify(n),!1)}function Xv(n,e=!1,t=!1){return w(this,null,function*(){let r=n.app;fS(r);let i=Jn(r),o=i.token,s;if(o&&!Ll(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(Ll(u)?o=u:yield Qv(r,void 0))}if(!e&&o&&Ll(o))return{token:o.token};let a=!1;if(mS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pS(gS(r,yield _S()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Qv(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Vl.warn(u.message):t&&Vl.error(u),Yv(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Jn(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Vl.warn(u.message):t&&Vl.error(u),s=u}let l;return o?s?Ll(o)?l={token:o.token,internalError:s}:l=Yv(s):(l={token:o.token},i.token=o,yield Qv(r,o)):l=Yv(s),a&&HU(r,l),l})}function zU(n){return w(this,null,function*(){let e=n.app;fS(e);let{provider:t}=Jn(e);if(mS()){let r=yield _S(),{token:i}=yield pS(gS(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function $U(n,e,t,r){let{app:i}=n,o=Jn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ll(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),uS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>uS(n))}function yS(n,e){let t=Jn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function uS(n){let{app:e}=n,t=Jn(e),r=t.tokenRefresher;r||(r=qU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function qU(n){let{app:e}=n;return new Zv(()=>w(null,null,function*(){let t=Jn(e),r;if(t.token?r=yield Xv(n,!0):r=yield Xv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Jn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lS.RETRIAL_MIN_WAIT,lS.RETRIAL_MAX_WAIT)}function HU(n,e){let t=Jn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ll(n){return n.expireTimeMillis-Date.now()>0}function Yv(n){return{token:UU(BU),error:n}}var e0=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Jn(this.app);for(let t of e)yS(this.app,t.next);return Promise.resolve()}};function WU(n,e){return new e0(n,e)}function GU(n){return{getToken:e=>Xv(n,e),getLimitedUseToken:()=>zU(n),addTokenListener:e=>$U(n,"INTERNAL",e),removeTokenListener:e=>yS(n.app,e)}}var KU="@firebase/app-check",QU="0.10.1";var YU="app-check",dS="app-check-internal";function ZU(){Zn(new Zt(YU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return WU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dS).initialize()})),Zn(new Zt(dS,n=>{let e=n.getProvider("app-check").getImmediate();return GU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),tt(KU,QU)}ZU();var JU="app-check";var Ia=class{constructor(){return Ea(JU)}};var XU=["localhost","0.0.0.0","127.0.0.1"],Dee=typeof window<"u"&&XU.includes(window.location.hostname);function RS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var NS=RS,FS=new Yn("auth","Firebase",RS());var Of=new _r("@firebase/auth");function e6(n,...e){Of.logLevel<=we.WARN&&Of.warn(`Auth (${Bi}): ${n}`,...e)}function Tf(n,...e){Of.logLevel<=we.ERROR&&Of.error(`Auth (${Bi}): ${n}`,...e)}function br(n,...e){throw x0(n,...e)}function Ko(n,...e){return x0(n,...e)}function VS(n,e,t){let r=Object.assign(Object.assign({},NS()),{[e]:t});return new Yn("auth","Firebase",r).create(e,{appName:n.name})}function ii(n){return VS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return FS.create(n,...e)}function se(n,e,...t){if(!n)throw x0(e,...t)}function ni(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Tf(e),new Error(e)}function Wi(n,e){n||ni(e)}function i0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function t6(){return vS()==="http:"||vS()==="https:"}function vS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function n6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t6()||L1()||"connection"in navigator)?navigator.onLine:!0}function r6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Qo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=F1()||j1()}get(){return n6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function D0(n,e){Wi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Af=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var i6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var o6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s6=new Qo(3e4,6e4);function Gi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ki(o,s,a,l){return w(this,arguments,function*(n,e,t,r,i={}){return LS(n,i,()=>w(null,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let p=kl(Object.assign({key:n.config.apiKey},h)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:e,headers:y},u);return V1()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Li(n.emulatorConfig.host)&&(v.credentials="include"),Af.fetch()(yield jS(n,n.config.apiHost,t,p),v)}))})}function LS(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},i6),e);try{let i=new o0(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Df(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Df(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VS(n,h,u);br(n,h)}}catch(i){if(i instanceof In)throw i;br(n,"network-request-failed",{message:String(i)})}})}function Gl(o,s,a,l){return w(this,arguments,function*(n,e,t,r,i={}){let u=yield Ki(n,e,t,r,i);return"mfaPendingCredential"in u&&br(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function jS(n,e,t,r){return w(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?D0(n.config,i):`${n.config.apiScheme}://${i}`;return o6.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function a6(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var o0=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ko(this.auth,"network-request-failed")),s6.get())})}};function Df(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ko(n,e,r);return i.customData._tokenResponse=t,i}function bS(n){return n!==void 0&&n.enterprise!==void 0}var s0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a6(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function c6(n,e){return w(this,null,function*(){return Ki(n,"GET","/v2/recaptchaConfig",Gi(n,e))})}function l6(n,e){return w(this,null,function*(){return Ki(n,"POST","/v1/accounts:delete",e)})}function kf(n,e){return w(this,null,function*(){return Ki(n,"POST","/v1/accounts:lookup",e)})}function Bl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function T0(n,e=!1){return w(this,null,function*(){let t=Et(n),r=yield t.getIdToken(e),i=M0(r);se(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bl(t0(i.auth_time)),issuedAtTime:Bl(t0(i.iat)),expirationTime:Bl(t0(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function t0(n){return Number(n)*1e3}function M0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{let i=_f(t);return i?JSON.parse(i):(Tf("Failed to decode base64 JWT payload"),null)}catch(i){return Tf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wS(n){let e=M0(n);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zl(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof In&&u6(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function u6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var a0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $l=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rf(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield zl(n,kf(t,{idToken:r}));se(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BS(o.providerUserInfo):[],a=d6(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $l(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function S0(n){return w(this,null,function*(){let e=Et(n);yield Rf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function d6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BS(n){return n.map(e=>{var{providerId:t}=e,r=em(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function h6(n,e){return w(this,null,function*(){let t=yield LS(n,{},()=>w(null,null,function*(){let r=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield jS(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&Li(n.emulatorConfig.host)&&(l.credentials="include"),Af.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function f6(n,e){return w(this,null,function*(){return Ki(n,"POST","/v2/accounts:revokeToken",Gi(n,e))})}var Ul=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){se(e.length!==0,"internal-error");let t=wS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield h6(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(se(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(se(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ni("not implemented")}};function qi(n,e){se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Hi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $l(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield zl(this,this.stsTokenManager.getToken(this.auth,e));return se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return T0(this,e)}reload(){return S0(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Rf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(fn(this.auth.app))return Promise.reject(ii(this.auth));let e=yield this.getIdToken();return yield zl(this,l6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,v=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,k=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,J=(u=t.createdAt)!==null&&u!==void 0?u:void 0,ae=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:ce,emailVerified:Ue,isAnonymous:Ht,providerData:Re,stsTokenManager:M}=t;se(ce&&M,e,"internal-error");let C=Ul.fromJSON(this.name,M);se(typeof ce=="string",e,"internal-error"),qi(p,e.name),qi(y,e.name),se(typeof Ue=="boolean",e,"internal-error"),se(typeof Ht=="boolean",e,"internal-error"),qi(v,e.name),qi(T,e.name),qi(k,e.name),qi(R,e.name),qi(J,e.name),qi(ae,e.name);let I=new n({uid:ce,auth:e,email:y,emailVerified:Ue,displayName:p,isAnonymous:Ht,photoURL:T,phoneNumber:v,tenantId:k,stsTokenManager:C,createdAt:J,lastLoginAt:ae});return Re&&Array.isArray(Re)&&(I.providerData=Re.map(D=>Object.assign({},D))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new Ul;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];se(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?BS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ul;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $l(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var CS=new Map;function ri(n){Wi(n instanceof Function,"Expected a class definition");let e=CS.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CS.set(n,e),e)}var p6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),c0=p6;function Mf(n,e,t){return`firebase:${n}:${e}:${t}`}var Nf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Mf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield kf(this.auth,{idToken:e}).catch(()=>{});return t?Hi._fromGetAccountInfoResponse(this.auth,t,e):null}return Hi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(ri(c0),e,r);let i=(yield Promise.all(t.map(u=>w(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||ri(c0),s=Mf(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let p;if(typeof h=="string"){let y=yield kf(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield Hi._fromGetAccountInfoResponse(e,y,h)}else p=Hi._fromJSON(e,h);u!==o&&(a=p),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>w(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function ES(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(US(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WS(e))return"Blackberry";if(GS(e))return"Webos";if(zS(e))return"Safari";if((e.includes("chrome/")||$S(e))&&!e.includes("edge/"))return"Chrome";if(HS(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function US(n=Ct()){return/firefox\//i.test(n)}function zS(n=Ct()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $S(n=Ct()){return/crios\//i.test(n)}function qS(n=Ct()){return/iemobile/i.test(n)}function HS(n=Ct()){return/android/i.test(n)}function WS(n=Ct()){return/blackberry/i.test(n)}function GS(n=Ct()){return/webos/i.test(n)}function P0(n=Ct()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function g6(n=Ct()){var e;return P0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function m6(){return B1()&&document.documentMode===10}function KS(n=Ct()){return P0(n)||HS(n)||GS(n)||WS(n)||/windows phone/i.test(n)||qS(n)}function QS(n,e=[]){let t;switch(n){case"Browser":t=ES(Ct());break;case"Worker":t=`${ES(Ct())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bi}/${r}`}var l0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _6(t){return w(this,arguments,function*(n,e={}){return Ki(n,"GET","/v2/passwordPolicy",Gi(n,e))})}var y6=6,u0=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:y6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var d0=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ff(this),this.idTokenSubscription=new Ff(this),this.beforeStateQueue=new l0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield kf(this,{idToken:e}),r=yield Hi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Rf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=r6()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(fn(this.app))return Promise.reject(ii(this));let t=e?Et(e):null;return t&&se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return fn(this.app)?Promise.reject(ii(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return fn(this.app)?Promise.reject(ii(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(ri(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield _6(this),t=new u0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield f6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ri(e)||this._popupRedirectResolver;se(t,this,"argument-error"),this.redirectPersistenceManager=yield Nf.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;if(fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&e6(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Zo(n){return Et(n)}var Ff=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=q1(t=>this.observer=t)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $f={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(n){$f=n}function YS(n){return $f.loadJS(n)}function b6(){return $f.recaptchaEnterpriseScript}function w6(){return $f.gapiScript}function ZS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var h0=class{constructor(){this.enterprise=new f0}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},f0=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var C6="recaptcha-enterprise",JS="NO_RECAPTCHA",p0=class{constructor(e){this.type=C6,this.auth=Zo(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(o){return w(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>w(null,null,function*(){c6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new s0(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;bS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(JS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h0().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&bS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=b6();l.length!==0&&(l+=a),YS(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function jl(n,e,t,r=!1,i=!1){return w(this,null,function*(){let o=new p0(n),s;if(i)s=JS;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function g0(n,e,t,r,i){return w(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield jl(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>w(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield jl(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield jl(n,e,t);return r(n,a).catch(l=>w(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield jl(n,e,t,!1,!0);return r(n,h)}return Promise.reject(l)}))}else{let a=yield jl(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function O0(n,e){let t=wa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(mr(o,e??{}))return i;br(i,"already-initialized")}return t.initialize({options:e})}function E6(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function A0(n,e,t){let r=Zo(n);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=XS(e),{host:s,port:a}=I6(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(mr(u,r.config.emulator)&&mr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Li(s)?(vf(`${o}//${s}${l}`),bf("Auth",!0)):i||x6()}function XS(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function I6(n){let e=XS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:IS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:IS(s)}}}function IS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function x6(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ql=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,t){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}};function D6(n,e){return w(this,null,function*(){return Ki(n,"POST","/v1/accounts:signUp",e)})}function T6(n,e){return w(this,null,function*(){return Gl(n,"POST","/v1/accounts:signInWithPassword",Gi(n,e))})}function M6(n,e){return w(this,null,function*(){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",Gi(n,e))})}function S6(n,e){return w(this,null,function*(){return Gl(n,"POST","/v1/accounts:signInWithEmailLink",Gi(n,e))})}var Hl=class n extends ql{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g0(e,t,"signInWithPassword",T6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return M6(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g0(e,r,"signUpPassword",D6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return S6(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function n0(n,e){return w(this,null,function*(){return Gl(n,"POST","/v1/accounts:signInWithIdp",Gi(n,e))})}function P6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O6(n){let e=va(ba(n)).link,t=e?va(ba(e)).deep_link_id:null,r=va(ba(n)).deep_link_id;return(r?va(ba(r)).link:null)||r||t||e||n}var Vf=class n{constructor(e){var t,r,i,o,s,a;let l=va(ba(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=P6((i=l.mode)!==null&&i!==void 0?i:null);se(u&&h&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=O6(e);try{return new n(t)}catch{return null}}};var eP=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Hl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Vf.parseLink(r);return se(i,"argument-error"),Hl._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Lf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var m0=class extends Lf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function A6(n,e){return w(this,null,function*(){return Gl(n,"POST","/v1/accounts:signUp",Gi(n,e))})}var xa=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let o=yield Hi._fromIdTokenResponse(e,r,i),s=xS(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xS(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function xS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var _0=class n extends In{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function tP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_0._fromErrorAndOperation(n,o,e,r):o})}function k6(n,e,t=!1){return w(this,null,function*(){let r=yield zl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return xa._forOperation(n,"link",r)})}function R6(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(fn(r.app))return Promise.reject(ii(r));let i="reauthenticate";try{let o=yield zl(n,tP(r,i,e,n),t);se(o.idToken,r,"internal-error");let s=M0(o.idToken);se(s,r,"internal-error");let{sub:a}=s;return se(n.uid===a,r,"user-mismatch"),xa._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&br(r,"user-mismatch"),o}})}function nP(n,e,t=!1){return w(this,null,function*(){if(fn(n.app))return Promise.reject(ii(n));let r="signIn",i=yield tP(n,r,e),o=yield xa._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function k0(n,e){return w(this,null,function*(){return nP(Zo(n),e)})}function rP(n){return w(this,null,function*(){let e=Zo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function R0(n,e,t){return w(this,null,function*(){if(fn(n.app))return Promise.reject(ii(n));let r=Zo(n),s=yield g0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A6,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&rP(n),l}),a=yield xa._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function N0(n,e,t){return fn(n.app)?Promise.reject(ii(n)):k0(Et(n),eP.credential(e,t)).catch(r=>w(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&rP(n),r}))}function Kl(n,e,t,r){return Et(n).onIdTokenChanged(e,t,r)}function F0(n,e,t){return Et(n).beforeAuthStateChanged(e,t)}function V0(n){return Et(n).signOut()}var jf="__sak";var Bf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var N6=1e3,F6=10,V6=(()=>{class n extends Bf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);m6()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,F6):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},N6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield mi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield mi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield mi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),iP=V6;var L6=(()=>{class n extends Bf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),L0=L6;function j6(n){return Promise.all(n.map(e=>w(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var B6=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,s)})),u=yield j6(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function oP(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var y0=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=oP("",20);i.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===u)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function vr(){return window}function U6(n){vr().location.href=n}function sP(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}function z6(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function $6(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function q6(){return sP()?self:null}var aP="firebaseLocalStorageDb",H6=1,Uf="firebaseLocalStorage",cP="fbase_key",Yo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function qf(n,e){return n.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function W6(){let n=indexedDB.deleteDatabase(aP);return new Yo(n).toPromise()}function v0(){let n=indexedDB.open(aP,H6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Uf,{keyPath:cP})}catch(i){t(i)}}),n.addEventListener("success",()=>w(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Uf)?e(r):(r.close(),yield W6(),e(yield v0()))}))})}function DS(n,e,t){return w(this,null,function*(){let r=qf(n,!0).put({[cP]:e,value:t});return new Yo(r).toPromise()})}function G6(n,e){return w(this,null,function*(){let t=qf(n,!1).get(e),r=yield new Yo(t).toPromise();return r===void 0?null:r.value})}function TS(n,e){let t=qf(n,!0).delete(e);return new Yo(t).toPromise()}var K6=800,Q6=3,Y6=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield v0(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Q6)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return sP()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=B6._getInstance(q6()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield z6(),!this.activeServiceWorker)return;this.sender=new y0(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||$6()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield v0();return yield DS(t,jf,"1"),yield TS(t,jf),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>DS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>G6(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>TS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(o=>{let s=qf(o,!1).getAll();return new Yo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),K6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),lP=Y6;var Ree=ZS("rcb"),Nee=new Qo(3e4,6e4);function Z6(n,e){return e?ri(e):(se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Wl=class extends ql{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return n0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return n0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return n0(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function J6(n){return nP(n.auth,new Wl(n),n.bypassAuthState)}function X6(n){let{auth:e,user:t}=n;return se(t,e,"internal-error"),R6(t,new Wl(n),n.bypassAuthState)}function ez(n){return w(this,null,function*(){let{auth:e,user:t}=n;return se(t,e,"internal-error"),k6(t,new Wl(n),n.bypassAuthState)})}var b0=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return ez;case"reauthViaPopup":case"reauthViaRedirect":return X6;default:br(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Fee=new Qo(2e3,1e4);var tz="pendingRedirect",Sf=new Map,w0=class n extends b0{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Sf.get(this.auth._key());if(!e){try{let r=(yield nz(this.resolver,this.auth))?yield mi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Sf.set(this.auth._key(),e)}return this.bypassAuthState||Sf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return mi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,mi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function nz(n,e){return w(this,null,function*(){let t=oz(e),r=iz(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function rz(n,e){Sf.set(n._key(),e)}function iz(n){return ri(n._redirectPersistence)}function oz(n){return Mf(tz,n.config.apiKey,n.name)}function sz(n,e,t=!1){return w(this,null,function*(){if(fn(n.app))return Promise.reject(ii(n));let r=Zo(n),i=Z6(r,e),s=yield new w0(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var az=10*60*1e3,C0=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uP(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ko(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=az&&this.cachedEventUids.clear(),this.cachedEventUids.has(MS(e))}saveEventToCache(e){this.cachedEventUids.add(MS(e)),this.lastProcessedEventTime=Date.now()}};function MS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uP({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function cz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uP(n);default:return!1}}function lz(t){return w(this,arguments,function*(n,e={}){return Ki(n,"GET","/v1/projects",e)})}var uz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dz=/^https?/;function hz(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield lz(n);for(let t of e)try{if(fz(t))return}catch{}br(n,"unauthorized-domain")})}function fz(n){let e=i0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!dz.test(t))return!1;if(uz.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var pz=new Qo(3e4,6e4);function SS(){let n=vr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gz(n){return new Promise((e,t)=>{var r,i,o;function s(){SS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{SS(),t(Ko(n,"network-request-failed"))},timeout:pz.get()})}if(!((i=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vr().gapi)===null||o===void 0)&&o.load)s();else{let a=ZS("iframefcb");return vr()[a]=()=>{gapi.load?s():t(Ko(n,"network-request-failed"))},YS(`${w6()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Pf=null,e})}var Pf=null;function mz(n){return Pf=Pf||gz(n),Pf}var _z=new Qo(5e3,15e3),yz="__/auth/iframe",vz="emulator/auth/iframe",bz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cz(n){let e=n.config;se(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?D0(e,vz):`https://${n.config.authDomain}/${yz}`,r={apiKey:e.apiKey,appName:n.name,v:Bi},i=wz.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${kl(r).slice(1)}`}function Ez(n){return w(this,null,function*(){let e=yield mz(n),t=vr().gapi;return se(t,n,"internal-error"),e.open({where:document.body,url:Cz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bz,dontclear:!0},r=>new Promise((i,o)=>w(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ko(n,"network-request-failed"),a=vr().setTimeout(()=>{o(s)},_z.get());function l(){vr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var Iz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xz=500,Dz=600,Tz="_blank",Mz="http://localhost",zf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Sz(n,e,t,r=xz,i=Dz){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},Iz),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Ct().toLowerCase();t&&(a=$S(u)?Tz:t),US(u)&&(e=e||Mz,l.scrollbars="yes");let h=Object.entries(l).reduce((y,[v,T])=>`${y}${v}=${T},`,"");if(g6(u)&&a!=="_self")return Pz(e||"",a),new zf(null);let p=window.open(e||"",a,h);se(p,n,"popup-blocked");try{p.focus()}catch{}return new zf(p)}function Pz(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Oz="__/auth/handler",Az="emulator/auth/handler",kz=encodeURIComponent("fac");function PS(n,e,t,r,i,o){return w(this,null,function*(){se(n.config.authDomain,n,"auth-domain-config-required"),se(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Bi,eventId:i};if(e instanceof Lf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",$1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof m0){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),u=l?`#${kz}=${encodeURIComponent(l)}`:"";return`${Rz(n)}?${kl(a).slice(1)}${u}`})}function Rz({config:n}){return n.emulator?D0(n,Az):`https://${n.authDomain}/${Oz}`}var r0="webStorageSupport",E0=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L0,this._completeRedirectFn=sz,this._overrideRedirectResult=rz}_openPopup(e,t,r,i){return w(this,null,function*(){var o;Wi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield PS(e,t,r,i0(),i);return Sz(e,s,oP())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let o=yield PS(e,t,r,i0(),i);return U6(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Wi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield Ez(e),r=new C0(e);return t.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(r0,{type:r0},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[r0];s!==void 0&&t(!!s),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KS()||zS()||P0()}},dP=E0;var OS="@firebase/auth",AS="1.10.8";var I0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Nz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fz(n){Zn(new Zt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;se(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(n)},u=new d0(r,i,o,l);return E6(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zn(new Zt("auth-internal",e=>{let t=Zo(e.getProvider("auth").getImmediate());return(r=>new I0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tt(OS,AS,Nz(n)),tt(OS,AS,"esm2017")}var Vz=5*60,Lz=Ov("authIdTokenMaxAge")||Vz,kS=null,jz=n=>e=>w(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Lz)return;let i=t?.token;kS!==i&&(kS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function j0(n=Ho()){let e=wa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=O0(n,{popupRedirectResolver:dP,persistence:[lP,iP,L0]}),r=Ov("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=jz(o.toString());F0(t,s,()=>s(t.currentUser)),Kl(t,a=>s(a))}}let i=Sv("auth");return i&&A0(t,`http://${i}`),t}function Bz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}v6({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ko("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Bz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fz("Browser");function pP(n){return new be(function(e){var t=Kl(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var gP="auth",Jo=class{constructor(e){return e}},Ql=class{constructor(){return Ea(gP)}};var B0=new Q("angularfire2.auth-instances");function T8(n,e){let t=Fl(gP,n,e);return t&&new Jo(t)}function M8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Jo(r)}}var S8={provide:Ql,deps:[[new sn,B0]]},P8={provide:Jo,useFactory:T8,deps:[[new sn,B0],ti]};function mP(n,...e){return tt("angularfire",Ui.full,"auth"),zn([P8,S8,{provide:B0,useFactory:M8(n),multi:!0,deps:[Pe,Je,zi,Go,[new sn,Ia],...e]}])}var _P=Jt(pP,!0);var yP=Jt(R0,!0,2);var vP=Jt(j0,!0);var bP=Jt(N0,!0,2);var wP=Jt(V0,!0,2);var CP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},EP={};var oi,U0;(function(){var n;function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(D,S,O){for(var E=Array(arguments.length-2),Or=2;Or<arguments.length;Or++)E[Or-2]=arguments[Or];return C.prototype[S].apply(D,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,C,I){I||(I=0);var D=Array(16);if(typeof C=="string")for(var S=0;16>S;++S)D[S]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(S=0;16>S;++S)D[S]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],S=M.g[2];var O=M.g[3],E=C+(O^I&(S^O))+D[0]+3614090360&4294967295;C=I+(E<<7&4294967295|E>>>25),E=O+(S^C&(I^S))+D[1]+3905402710&4294967295,O=C+(E<<12&4294967295|E>>>20),E=S+(I^O&(C^I))+D[2]+606105819&4294967295,S=O+(E<<17&4294967295|E>>>15),E=I+(C^S&(O^C))+D[3]+3250441966&4294967295,I=S+(E<<22&4294967295|E>>>10),E=C+(O^I&(S^O))+D[4]+4118548399&4294967295,C=I+(E<<7&4294967295|E>>>25),E=O+(S^C&(I^S))+D[5]+1200080426&4294967295,O=C+(E<<12&4294967295|E>>>20),E=S+(I^O&(C^I))+D[6]+2821735955&4294967295,S=O+(E<<17&4294967295|E>>>15),E=I+(C^S&(O^C))+D[7]+4249261313&4294967295,I=S+(E<<22&4294967295|E>>>10),E=C+(O^I&(S^O))+D[8]+1770035416&4294967295,C=I+(E<<7&4294967295|E>>>25),E=O+(S^C&(I^S))+D[9]+2336552879&4294967295,O=C+(E<<12&4294967295|E>>>20),E=S+(I^O&(C^I))+D[10]+4294925233&4294967295,S=O+(E<<17&4294967295|E>>>15),E=I+(C^S&(O^C))+D[11]+2304563134&4294967295,I=S+(E<<22&4294967295|E>>>10),E=C+(O^I&(S^O))+D[12]+1804603682&4294967295,C=I+(E<<7&4294967295|E>>>25),E=O+(S^C&(I^S))+D[13]+4254626195&4294967295,O=C+(E<<12&4294967295|E>>>20),E=S+(I^O&(C^I))+D[14]+2792965006&4294967295,S=O+(E<<17&4294967295|E>>>15),E=I+(C^S&(O^C))+D[15]+1236535329&4294967295,I=S+(E<<22&4294967295|E>>>10),E=C+(S^O&(I^S))+D[1]+4129170786&4294967295,C=I+(E<<5&4294967295|E>>>27),E=O+(I^S&(C^I))+D[6]+3225465664&4294967295,O=C+(E<<9&4294967295|E>>>23),E=S+(C^I&(O^C))+D[11]+643717713&4294967295,S=O+(E<<14&4294967295|E>>>18),E=I+(O^C&(S^O))+D[0]+3921069994&4294967295,I=S+(E<<20&4294967295|E>>>12),E=C+(S^O&(I^S))+D[5]+3593408605&4294967295,C=I+(E<<5&4294967295|E>>>27),E=O+(I^S&(C^I))+D[10]+38016083&4294967295,O=C+(E<<9&4294967295|E>>>23),E=S+(C^I&(O^C))+D[15]+3634488961&4294967295,S=O+(E<<14&4294967295|E>>>18),E=I+(O^C&(S^O))+D[4]+3889429448&4294967295,I=S+(E<<20&4294967295|E>>>12),E=C+(S^O&(I^S))+D[9]+568446438&4294967295,C=I+(E<<5&4294967295|E>>>27),E=O+(I^S&(C^I))+D[14]+3275163606&4294967295,O=C+(E<<9&4294967295|E>>>23),E=S+(C^I&(O^C))+D[3]+4107603335&4294967295,S=O+(E<<14&4294967295|E>>>18),E=I+(O^C&(S^O))+D[8]+1163531501&4294967295,I=S+(E<<20&4294967295|E>>>12),E=C+(S^O&(I^S))+D[13]+2850285829&4294967295,C=I+(E<<5&4294967295|E>>>27),E=O+(I^S&(C^I))+D[2]+4243563512&4294967295,O=C+(E<<9&4294967295|E>>>23),E=S+(C^I&(O^C))+D[7]+1735328473&4294967295,S=O+(E<<14&4294967295|E>>>18),E=I+(O^C&(S^O))+D[12]+2368359562&4294967295,I=S+(E<<20&4294967295|E>>>12),E=C+(I^S^O)+D[5]+4294588738&4294967295,C=I+(E<<4&4294967295|E>>>28),E=O+(C^I^S)+D[8]+2272392833&4294967295,O=C+(E<<11&4294967295|E>>>21),E=S+(O^C^I)+D[11]+1839030562&4294967295,S=O+(E<<16&4294967295|E>>>16),E=I+(S^O^C)+D[14]+4259657740&4294967295,I=S+(E<<23&4294967295|E>>>9),E=C+(I^S^O)+D[1]+2763975236&4294967295,C=I+(E<<4&4294967295|E>>>28),E=O+(C^I^S)+D[4]+1272893353&4294967295,O=C+(E<<11&4294967295|E>>>21),E=S+(O^C^I)+D[7]+4139469664&4294967295,S=O+(E<<16&4294967295|E>>>16),E=I+(S^O^C)+D[10]+3200236656&4294967295,I=S+(E<<23&4294967295|E>>>9),E=C+(I^S^O)+D[13]+681279174&4294967295,C=I+(E<<4&4294967295|E>>>28),E=O+(C^I^S)+D[0]+3936430074&4294967295,O=C+(E<<11&4294967295|E>>>21),E=S+(O^C^I)+D[3]+3572445317&4294967295,S=O+(E<<16&4294967295|E>>>16),E=I+(S^O^C)+D[6]+76029189&4294967295,I=S+(E<<23&4294967295|E>>>9),E=C+(I^S^O)+D[9]+3654602809&4294967295,C=I+(E<<4&4294967295|E>>>28),E=O+(C^I^S)+D[12]+3873151461&4294967295,O=C+(E<<11&4294967295|E>>>21),E=S+(O^C^I)+D[15]+530742520&4294967295,S=O+(E<<16&4294967295|E>>>16),E=I+(S^O^C)+D[2]+3299628645&4294967295,I=S+(E<<23&4294967295|E>>>9),E=C+(S^(I|~O))+D[0]+4096336452&4294967295,C=I+(E<<6&4294967295|E>>>26),E=O+(I^(C|~S))+D[7]+1126891415&4294967295,O=C+(E<<10&4294967295|E>>>22),E=S+(C^(O|~I))+D[14]+2878612391&4294967295,S=O+(E<<15&4294967295|E>>>17),E=I+(O^(S|~C))+D[5]+4237533241&4294967295,I=S+(E<<21&4294967295|E>>>11),E=C+(S^(I|~O))+D[12]+1700485571&4294967295,C=I+(E<<6&4294967295|E>>>26),E=O+(I^(C|~S))+D[3]+2399980690&4294967295,O=C+(E<<10&4294967295|E>>>22),E=S+(C^(O|~I))+D[10]+4293915773&4294967295,S=O+(E<<15&4294967295|E>>>17),E=I+(O^(S|~C))+D[1]+2240044497&4294967295,I=S+(E<<21&4294967295|E>>>11),E=C+(S^(I|~O))+D[8]+1873313359&4294967295,C=I+(E<<6&4294967295|E>>>26),E=O+(I^(C|~S))+D[15]+4264355552&4294967295,O=C+(E<<10&4294967295|E>>>22),E=S+(C^(O|~I))+D[6]+2734768916&4294967295,S=O+(E<<15&4294967295|E>>>17),E=I+(O^(S|~C))+D[13]+1309151649&4294967295,I=S+(E<<21&4294967295|E>>>11),E=C+(S^(I|~O))+D[4]+4149444226&4294967295,C=I+(E<<6&4294967295|E>>>26),E=O+(I^(C|~S))+D[11]+3174756917&4294967295,O=C+(E<<10&4294967295|E>>>22),E=S+(C^(O|~I))+D[2]+718787259&4294967295,S=O+(E<<15&4294967295|E>>>17),E=I+(O^(S|~C))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(S+(E<<21&4294967295|E>>>11))&4294967295,M.g[2]=M.g[2]+S&4294967295,M.g[3]=M.g[3]+O&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,D=this.B,S=this.h,O=0;O<C;){if(S==0)for(;O<=I;)i(this,M,O),O+=this.blockSize;if(typeof M=="string"){for(;O<C;)if(D[S++]=M.charCodeAt(O++),S==this.blockSize){i(this,D),S=0;break}}else for(;O<C;)if(D[S++]=M[O++],S==this.blockSize){i(this,D),S=0;break}}this.h=S,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var D=0;32>D;D+=8)M[I++]=this.g[C]>>>D&255;return M};function o(M,C){var I=a;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function s(M,C){this.h=C;for(var I=[],D=!0,S=M.length-1;0<=S;S--){var O=M[S]|0;D&&O==C||(I[S]=O,D=!1)}this.g=I}var a={};function l(M){return-128<=M&&128>M?o(M,function(C){return new s([C|0],0>C?-1:0)}):new s([M|0],0>M?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return p;if(0>M)return R(u(-M));for(var C=[],I=1,D=0;M>=I;D++)C[D]=M/I|0,I*=4294967296;return new s(C,0)}function h(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return R(h(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),D=p,S=0;S<M.length;S+=8){var O=Math.min(8,M.length-S),E=parseInt(M.substring(S,S+O),C);8>O?(O=u(Math.pow(C,O)),D=D.j(O).add(u(E))):(D=D.j(I),D=D.add(u(E)))}return D}var p=l(0),y=l(1),v=l(16777216);n=s.prototype,n.m=function(){if(k(this))return-R(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var D=this.i(I);M+=(0<=D?D:4294967296+D)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(k(this))return"-"+R(this).toString(M);for(var C=u(Math.pow(M,6)),I=this,D="";;){var S=Ue(I,C).g;I=J(I,S.j(C));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=S,T(I))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function k(M){return M.h==-1}n.l=function(M){return M=J(this,M),k(M)?-1:T(M)?0:1};function R(M){for(var C=M.g.length,I=[],D=0;D<C;D++)I[D]=~M.g[D];return new s(I,~M.h).add(y)}n.abs=function(){return k(this)?R(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],D=0,S=0;S<=C;S++){var O=D+(this.i(S)&65535)+(M.i(S)&65535),E=(O>>>16)+(this.i(S)>>>16)+(M.i(S)>>>16);D=E>>>16,O&=65535,E&=65535,I[S]=E<<16|O}return new s(I,I[I.length-1]&-2147483648?-1:0)};function J(M,C){return M.add(R(C))}n.j=function(M){if(T(this)||T(M))return p;if(k(this))return k(M)?R(this).j(R(M)):R(R(this).j(M));if(k(M))return R(this.j(R(M)));if(0>this.l(v)&&0>M.l(v))return u(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],D=0;D<2*C;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var S=0;S<M.g.length;S++){var O=this.i(D)>>>16,E=this.i(D)&65535,Or=M.i(S)>>>16,ec=M.i(S)&65535;I[2*D+2*S]+=E*ec,ae(I,2*D+2*S),I[2*D+2*S+1]+=O*ec,ae(I,2*D+2*S+1),I[2*D+2*S+1]+=E*Or,ae(I,2*D+2*S+1),I[2*D+2*S+2]+=O*Or,ae(I,2*D+2*S+2)}for(D=0;D<C;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=C;D<2*C;D++)I[D]=0;return new s(I,0)};function ae(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function ce(M,C){this.g=M,this.h=C}function Ue(M,C){if(T(C))throw Error("division by zero");if(T(M))return new ce(p,p);if(k(M))return C=Ue(R(M),C),new ce(R(C.g),R(C.h));if(k(C))return C=Ue(M,R(C)),new ce(R(C.g),C.h);if(30<M.g.length){if(k(M)||k(C))throw Error("slowDivide_ only works with positive integers.");for(var I=y,D=C;0>=D.l(M);)I=Ht(I),D=Ht(D);var S=Re(I,1),O=Re(D,1);for(D=Re(D,2),I=Re(I,2);!T(D);){var E=O.add(D);0>=E.l(M)&&(S=S.add(I),O=E),D=Re(D,1),I=Re(I,1)}return C=J(M,S.j(C)),new ce(S,C)}for(S=p;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=u(I),E=O.j(C);k(E)||0<E.l(M);)I-=D,O=u(I),E=O.j(C);T(O)&&(O=y),S=S.add(O),M=J(M,E)}return new ce(S,M)}n.A=function(M){return Ue(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],D=0;D<C;D++)I[D]=this.i(D)&M.i(D);return new s(I,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],D=0;D<C;D++)I[D]=this.i(D)|M.i(D);return new s(I,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],D=0;D<C;D++)I[D]=this.i(D)^M.i(D);return new s(I,this.h^M.h)};function Ht(M){for(var C=M.g.length+1,I=[],D=0;D<C;D++)I[D]=M.i(D)<<1|M.i(D-1)>>>31;return new s(I,M.h)}function Re(M,C){var I=C>>5;C%=32;for(var D=M.g.length-I,S=[],O=0;O<D;O++)S[O]=0<C?M.i(O+I)>>>C|M.i(O+I+1)<<32-C:M.i(O+I);return new s(S,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,U0=EP.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,oi=EP.Integer=s}).apply(typeof CP<"u"?CP:typeof self<"u"?self:typeof window<"u"?window:{});var Hf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},si={};var z0,O8,Da,$0,Yl,Wf,q0,H0,W0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hf=="object"&&Hf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var _=0;_<c.length-1;_++){var P=c[_];if(!(P in f))break e;f=f[P]}c=c[c.length-1],_=f[c],d=d(_),d!=_&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,_=!1,P={next:function(){if(!_&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return _=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,_),c.apply(d,P)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(_,P,A){for(var q=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)q[ze-2]=arguments[ze];return d.prototype[P].apply(_,q)}}function k(c){let d=c.length;if(0<d){let f=Array(d);for(let _=0;_<d;_++)f[_]=c[_];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let _=arguments[f];if(l(_)){let P=c.length||0,A=_.length||0;c.length=P+A;for(let q=0;q<A;q++)c[P+q]=_[q]}else c.push(_)}}class J{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ae(c){return/^[\s\xa0]*$/.test(c)}function ce(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ue(c){return Ue[" "](c),c}Ue[" "]=function(){};var Ht=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function Re(c,d,f){for(let _ in c)d.call(f,c[_],_,c)}function M(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function C(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,_;for(let P=1;P<arguments.length;P++){_=arguments[P];for(f in _)c[f]=_[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(_,f)&&(c[f]=_[f])}}function S(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function O(c){a.setTimeout(()=>{throw c},0)}function E(){var c=Xp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Or{constructor(){this.h=this.g=null}add(d,f){let _=ec.get();_.set(d,f),this.h?this.h.next=_:this.g=_,this.h=_}}var ec=new J(()=>new YA,c=>c.reset());class YA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let tc,nc=!1,Xp=new Or,uC=()=>{let c=a.Promise.resolve(void 0);tc=()=>{c.then(ZA)}};var ZA=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){O(f)}var d=ec;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}nc=!1};function hi(){this.s=this.s,this.C=this.C}hi.prototype.s=!1,hi.prototype.ma=function(){this.s||(this.s=!0,this.N())},hi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function At(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var JA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function rc(c,d){if(At.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ht){e:{try{Ue(d.nodeName);var P=!0;break e}catch{}P=!1}P||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:XA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&rc.aa.h.call(this)}}T(rc,At);var XA={2:"touch",3:"pen",4:"mouse"};rc.prototype.h=function(){rc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),ek=0;function tk(c,d,f,_,P){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!_,this.ha=P,this.key=++ek,this.da=this.fa=!1}function yu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vu(c){this.src=c,this.g={},this.h=0}vu.prototype.add=function(c,d,f,_,P){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var q=tg(c,d,_,P);return-1<q?(d=c[q],f||(d.fa=!1)):(d=new tk(d,this.src,A,!!_,P),d.fa=f,c.push(d)),d};function eg(c,d){var f=d.type;if(f in c.g){var _=c.g[f],P=Array.prototype.indexOf.call(_,d,void 0),A;(A=0<=P)&&Array.prototype.splice.call(_,P,1),A&&(yu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function tg(c,d,f,_){for(var P=0;P<c.length;++P){var A=c[P];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==_)return P}return-1}var ng="closure_lm_"+(1e6*Math.random()|0),rg={};function dC(c,d,f,_,P){if(_&&_.once)return fC(c,d,f,_,P);if(Array.isArray(d)){for(var A=0;A<d.length;A++)dC(c,d[A],f,_,P);return null}return f=ag(f),c&&c[ic]?c.K(d,f,u(_)?!!_.capture:!!_,P):hC(c,d,f,!1,_,P)}function hC(c,d,f,_,P,A){if(!d)throw Error("Invalid event type");var q=u(P)?!!P.capture:!!P,ze=og(c);if(ze||(c[ng]=ze=new vu(c)),f=ze.add(d,f,_,q,A),f.proxy)return f;if(_=nk(),f.proxy=_,_.src=c,_.listener=f,c.addEventListener)JA||(P=q),P===void 0&&(P=!1),c.addEventListener(d.toString(),_,P);else if(c.attachEvent)c.attachEvent(gC(d.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function nk(){function c(f){return d.call(c.src,c.listener,f)}let d=rk;return c}function fC(c,d,f,_,P){if(Array.isArray(d)){for(var A=0;A<d.length;A++)fC(c,d[A],f,_,P);return null}return f=ag(f),c&&c[ic]?c.L(d,f,u(_)?!!_.capture:!!_,P):hC(c,d,f,!0,_,P)}function pC(c,d,f,_,P){if(Array.isArray(d))for(var A=0;A<d.length;A++)pC(c,d[A],f,_,P);else _=u(_)?!!_.capture:!!_,f=ag(f),c&&c[ic]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=tg(A,f,_,P),-1<f&&(yu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=og(c))&&(d=c.g[d.toString()],c=-1,d&&(c=tg(d,f,_,P)),(f=-1<c?d[c]:null)&&ig(f))}function ig(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ic])eg(d.i,c);else{var f=c.type,_=c.proxy;d.removeEventListener?d.removeEventListener(f,_,c.capture):d.detachEvent?d.detachEvent(gC(f),_):d.addListener&&d.removeListener&&d.removeListener(_),(f=og(d))?(eg(f,c),f.h==0&&(f.src=null,d[ng]=null)):yu(c)}}}function gC(c){return c in rg?rg[c]:rg[c]="on"+c}function rk(c,d){if(c.da)c=!0;else{d=new rc(d,this);var f=c.listener,_=c.ha||c.src;c.fa&&ig(c),c=f.call(_,d)}return c}function og(c){return c=c[ng],c instanceof vu?c:null}var sg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ag(c){return typeof c=="function"?c:(c[sg]||(c[sg]=function(d){return c.handleEvent(d)}),c[sg])}function kt(){hi.call(this),this.i=new vu(this),this.M=this,this.F=null}T(kt,hi),kt.prototype[ic]=!0,kt.prototype.removeEventListener=function(c,d,f,_){pC(this,c,d,f,_)};function Wt(c,d){var f,_=c.F;if(_)for(f=[];_;_=_.F)f.push(_);if(c=c.M,_=d.type||d,typeof d=="string")d=new At(d,c);else if(d instanceof At)d.target=d.target||c;else{var P=d;d=new At(_,c),D(d,P)}if(P=!0,f)for(var A=f.length-1;0<=A;A--){var q=d.g=f[A];P=bu(q,_,!0,d)&&P}if(q=d.g=c,P=bu(q,_,!0,d)&&P,P=bu(q,_,!1,d)&&P,f)for(A=0;A<f.length;A++)q=d.g=f[A],P=bu(q,_,!1,d)&&P}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],_=0;_<f.length;_++)yu(f[_]);delete c.g[d],c.h--}}this.F=null},kt.prototype.K=function(c,d,f,_){return this.i.add(String(c),d,!1,f,_)},kt.prototype.L=function(c,d,f,_){return this.i.add(String(c),d,!0,f,_)};function bu(c,d,f,_){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var P=!0,A=0;A<d.length;++A){var q=d[A];if(q&&!q.da&&q.capture==f){var ze=q.listener,Dt=q.ha||q.src;q.fa&&eg(c.i,q),P=ze.call(Dt,_)!==!1&&P}}return P&&!_.defaultPrevented}function mC(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function _C(c){c.g=mC(()=>{c.g=null,c.i&&(c.i=!1,_C(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class ik extends hi{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_C(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oc(c){hi.call(this),this.h=c,this.g={}}T(oc,hi);var yC=[];function vC(c){Re(c.g,function(d,f){this.g.hasOwnProperty(f)&&ig(d)},c),c.g={}}oc.prototype.N=function(){oc.aa.N.call(this),vC(this)},oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cg=a.JSON.stringify,ok=a.JSON.parse,sk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function lg(){}lg.prototype.h=null;function bC(c){return c.h||(c.h=c.i())}function wC(){}var sc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ug(){At.call(this,"d")}T(ug,At);function dg(){At.call(this,"c")}T(dg,At);var io={},CC=null;function wu(){return CC=CC||new kt}io.La="serverreachability";function EC(c){At.call(this,io.La,c)}T(EC,At);function ac(c){let d=wu();Wt(d,new EC(d))}io.STAT_EVENT="statevent";function IC(c,d){At.call(this,io.STAT_EVENT,c),this.stat=d}T(IC,At);function Gt(c){let d=wu();Wt(d,new IC(d,c))}io.Ma="timingevent";function xC(c,d){At.call(this,io.Ma,c),this.size=d}T(xC,At);function cc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function lc(){this.g=!0}lc.prototype.xa=function(){this.g=!1};function ak(c,d,f,_,P,A){c.info(function(){if(c.g)if(A)for(var q="",ze=A.split("&"),Dt=0;Dt<ze.length;Dt++){var Se=ze[Dt].split("=");if(1<Se.length){var Rt=Se[0];Se=Se[1];var Nt=Rt.split("_");q=2<=Nt.length&&Nt[1]=="type"?q+(Rt+"="+Se+"&"):q+(Rt+"=redacted&")}}else q=null;else q=A;return"XMLHTTP REQ ("+_+") [attempt "+P+"]: "+d+`
`+f+`
`+q})}function ck(c,d,f,_,P,A,q){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+P+"]: "+d+`
`+f+`
`+A+" "+q})}function hs(c,d,f,_){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+uk(c,f)+(_?" "+_:"")})}function lk(c,d){c.info(function(){return"TIMEOUT: "+d})}lc.prototype.info=function(){};function uk(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var _=f[c];if(!(2>_.length)){var P=_[1];if(Array.isArray(P)&&!(1>P.length)){var A=P[0];if(A!="noop"&&A!="stop"&&A!="close")for(var q=1;q<P.length;q++)P[q]=""}}}}return cg(f)}catch{return d}}var Cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},DC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hg;function Eu(){}T(Eu,lg),Eu.prototype.g=function(){return new XMLHttpRequest},Eu.prototype.i=function(){return{}},hg=new Eu;function fi(c,d,f,_){this.j=c,this.i=d,this.l=f,this.R=_||1,this.U=new oc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new TC}function TC(){this.i=null,this.g="",this.h=!1}var MC={},fg={};function pg(c,d,f){c.L=1,c.v=Tu(Ar(d)),c.m=f,c.P=!0,SC(c,null)}function SC(c,d){c.F=Date.now(),Iu(c),c.A=Ar(c.v);var f=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),$C(f.i,"t",_),c.C=0,f=c.j.J,c.h=new TC,c.g=aE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new ik(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,_=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(yC[0]=P.toString()),P=yC);for(var A=0;A<P.length;A++){var q=dC(f,P[A],_||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ac(),ak(c.i,c.u,c.A,c.l,c.R,c.m)}fi.prototype.ca=function(c){c=c.target;let d=this.M;d&&kr(c)==3?d.j():this.Y(c)},fi.prototype.Y=function(c){try{if(c==this.g)e:{let Nt=kr(this.g);var d=this.g.Ba();let gs=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||YC(this.g)))){this.J||Nt!=4||d==7||(d==8||0>=gs?ac(3):ac(2)),gg(this);var f=this.g.Z();this.X=f;t:if(PC(this)){var _=YC(this.g);c="";var P=_.length,A=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oo(this),uc(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<P;d++)this.h.h=!0,c+=this.h.i.decode(_[d],{stream:!(A&&d==P-1)});_.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=f==200,ck(this.i,this.u,this.A,this.l,this.R,Nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Dt=this.g;if((ze=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ze)){var Se=ze;break t}}Se=null}if(f=Se)hs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mg(this,f);else{this.o=!1,this.s=3,Gt(12),oo(this),uc(this);break e}}if(this.P){f=!0;let Vn;for(;!this.J&&this.C<q.length;)if(Vn=dk(this,q),Vn==fg){Nt==4&&(this.s=4,Gt(14),f=!1),hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==MC){this.s=4,Gt(15),hs(this.i,this.l,q,"[Invalid Chunk]"),f=!1;break}else hs(this.i,this.l,Vn,null),mg(this,Vn);if(PC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||q.length!=0||this.h.h||(this.s=1,Gt(16),f=!1),this.o=this.o&&f,!f)hs(this.i,this.l,q,"[Invalid Chunked Response]"),oo(this),uc(this);else if(0<q.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Cg(Rt),Rt.M=!0,Gt(11))}}else hs(this.i,this.l,q,null),mg(this,q);Nt==4&&oo(this),this.o&&!this.J&&(Nt==4?rE(this.j,this):(this.o=!1,Iu(this)))}else Mk(this.g),f==400&&0<q.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),oo(this),uc(this)}}}catch{}finally{}};function PC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dk(c,d){var f=c.C,_=d.indexOf(`
`,f);return _==-1?fg:(f=Number(d.substring(f,_)),isNaN(f)?MC:(_+=1,_+f>d.length?fg:(d=d.slice(_,_+f),c.C=_+f,d)))}fi.prototype.cancel=function(){this.J=!0,oo(this)};function Iu(c){c.S=Date.now()+c.I,OC(c,c.I)}function OC(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=cc(y(c.ba,c),d)}function gg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}fi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(lk(this.i,this.A),this.L!=2&&(ac(),Gt(17)),oo(this),this.s=2,uc(this)):OC(this,this.S-c)};function uc(c){c.j.G==0||c.J||rE(c.j,c)}function oo(c){gg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,vC(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function mg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||_g(f.h,c))){if(!c.K&&_g(f.h,c)&&f.G==3){try{var _=f.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var P=_;if(P[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Au(f),Pu(f);else break e;wg(f),Gt(18)}}else f.za=P[1],0<f.za-f.T&&37500>P[2]&&f.F&&f.v==0&&!f.C&&(f.C=cc(y(f.Za,f),6e3));if(1>=RC(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ao(f,11)}else if((c.K||f.g==c)&&Au(f),!ae(d))for(P=f.Da.g.parse(d),d=0;d<P.length;d++){let Se=P[d];if(f.T=Se[0],Se=Se[1],f.G==2)if(Se[0]=="c"){f.K=Se[1],f.ia=Se[2];let Rt=Se[3];Rt!=null&&(f.la=Rt,f.j.info("VER="+f.la));let Nt=Se[4];Nt!=null&&(f.Aa=Nt,f.j.info("SVER="+f.Aa));let gs=Se[5];gs!=null&&typeof gs=="number"&&0<gs&&(_=1.5*gs,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;let Vn=c.g;if(Vn){let Ru=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ru){var A=_.h;A.g||Ru.indexOf("spdy")==-1&&Ru.indexOf("quic")==-1&&Ru.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(yg(A,A.h),A.h=null))}if(_.D){let Eg=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eg&&(_.ya=Eg,He(_.I,_.D,Eg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var q=c;if(_.qa=sE(_,_.J?_.ia:null,_.W),q.K){NC(_.h,q);var ze=q,Dt=_.L;Dt&&(ze.I=Dt),ze.B&&(gg(ze),Iu(ze)),_.g=q}else tE(_);0<f.i.length&&Ou(f)}else Se[0]!="stop"&&Se[0]!="close"||ao(f,7);else f.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?ao(f,7):bg(f):Se[0]!="noop"&&f.l&&f.l.ta(Se),f.v=0)}}ac(4)}catch{}}var hk=class{constructor(c,d){this.g=c,this.map=d}};function AC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kC(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function RC(c){return c.h?1:c.g?c.g.size:0}function _g(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function yg(c,d){c.g?c.g.add(d):c.h=d}function NC(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}AC.prototype.cancel=function(){if(this.i=FC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function FC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return k(c.i)}function fk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,_=0;_<f;_++)d.push(c[_]);return d}d=[],f=0;for(_ in c)d[f++]=c[_];return d}function pk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let _ in c)d[f++]=_;return d}}}function VC(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=pk(c),_=fk(c),P=_.length,A=0;A<P;A++)d.call(void 0,_[A],f&&f[A],c)}var LC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gk(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var _=c[f].indexOf("="),P=null;if(0<=_){var A=c[f].substring(0,_);P=c[f].substring(_+1)}else A=c[f];d(A,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function so(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof so){this.h=c.h,xu(this,c.j),this.o=c.o,this.g=c.g,Du(this,c.s),this.l=c.l;var d=c.i,f=new fc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),jC(this,f),this.m=c.m}else c&&(d=String(c).match(LC))?(this.h=!1,xu(this,d[1]||"",!0),this.o=dc(d[2]||""),this.g=dc(d[3]||"",!0),Du(this,d[4]),this.l=dc(d[5]||"",!0),jC(this,d[6]||"",!0),this.m=dc(d[7]||"")):(this.h=!1,this.i=new fc(null,this.h))}so.prototype.toString=function(){var c=[],d=this.j;d&&c.push(hc(d,BC,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(hc(d,BC,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(hc(f,f.charAt(0)=="/"?yk:_k,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",hc(f,bk)),c.join("")};function Ar(c){return new so(c)}function xu(c,d,f){c.j=f?dc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Du(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function jC(c,d,f){d instanceof fc?(c.i=d,wk(c.i,c.h)):(f||(d=hc(d,vk)),c.i=new fc(d,c.h))}function He(c,d,f){c.i.set(d,f)}function Tu(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function dc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function hc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,mk),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var BC=/[#\/\?@]/g,_k=/[#\?:]/g,yk=/[#\?]/g,vk=/[#\?@]/g,bk=/#/g;function fc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function pi(c){c.g||(c.g=new Map,c.h=0,c.i&&gk(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=fc.prototype,n.add=function(c,d){pi(this),this.i=null,c=fs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function UC(c,d){pi(c),d=fs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function zC(c,d){return pi(c),d=fs(c,d),c.g.has(d)}n.forEach=function(c,d){pi(this),this.g.forEach(function(f,_){f.forEach(function(P){c.call(d,P,_,this)},this)},this)},n.na=function(){pi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let _=0;_<d.length;_++){let P=c[_];for(let A=0;A<P.length;A++)f.push(d[_])}return f},n.V=function(c){pi(this);let d=[];if(typeof c=="string")zC(this,c)&&(d=d.concat(this.g.get(fs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return pi(this),this.i=null,c=fs(this,c),zC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function $C(c,d,f){UC(c,d),0<f.length&&(c.i=null,c.g.set(fs(c,d),k(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var _=d[f];let A=encodeURIComponent(String(_)),q=this.V(_);for(_=0;_<q.length;_++){var P=A;q[_]!==""&&(P+="="+encodeURIComponent(String(q[_]))),c.push(P)}}return this.i=c.join("&")};function fs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function wk(c,d){d&&!c.j&&(pi(c),c.i=null,c.g.forEach(function(f,_){var P=_.toLowerCase();_!=P&&(UC(this,_),$C(this,P,f))},c)),c.j=d}function Ck(c,d){let f=new lc;if(a.Image){let _=new Image;_.onload=v(gi,f,"TestLoadImage: loaded",!0,d,_),_.onerror=v(gi,f,"TestLoadImage: error",!1,d,_),_.onabort=v(gi,f,"TestLoadImage: abort",!1,d,_),_.ontimeout=v(gi,f,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else d(!1)}function Ek(c,d){let f=new lc,_=new AbortController,P=setTimeout(()=>{_.abort(),gi(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:_.signal}).then(A=>{clearTimeout(P),A.ok?gi(f,"TestPingServer: ok",!0,d):gi(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),gi(f,"TestPingServer: error",!1,d)})}function gi(c,d,f,_,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),_(f)}catch{}}function Ik(){this.g=new sk}function xk(c,d,f){let _=f||"";try{VC(c,function(P,A){let q=P;u(P)&&(q=cg(P)),d.push(_+A+"="+encodeURIComponent(q))})}catch(P){throw d.push(_+"type="+encodeURIComponent("_badmap")),P}}function pc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(pc,lg),pc.prototype.g=function(){return new Mu(this.l,this.j)},pc.prototype.i=function(c){return function(){return c}}({});function Mu(c,d){kt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Mu,kt),n=Mu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,mc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mc(this)),this.g&&(this.readyState=3,mc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?gc(this):mc(this),this.readyState==3&&qC(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,gc(this))},n.Qa=function(c){this.g&&(this.response=c,gc(this))},n.ga=function(){this.g&&gc(this)};function gc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function mc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function HC(c){let d="";return Re(c,function(f,_){d+=_,d+=":",d+=f,d+=`\r
`}),d}function vg(c,d,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=HC(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):He(c,d,f))}function Ye(c){kt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ye,kt);var Dk=/^https?$/i,Tk=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hg.g(),this.v=this.o?bC(this.o):bC(hg),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){WC(this,A);return}if(c=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var P in _)f.set(P,_[P]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let A of _.keys())f.set(A,_.get(A));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Tk,d,void 0))||_||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,q]of f)this.g.setRequestHeader(A,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{QC(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){WC(this,A)}};function WC(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,GC(c),Su(c)}function GC(c){c.A||(c.A=!0,Wt(c,"complete"),Wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Wt(this,"complete"),Wt(this,"abort"),Su(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Su(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?KC(this):this.bb())},n.bb=function(){KC(this)};function KC(c){if(c.h&&typeof s<"u"&&(!c.v[1]||kr(c)!=4||c.Z()!=2)){if(c.u&&kr(c)==4)mC(c.Ea,0,c);else if(Wt(c,"readystatechange"),kr(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var _;if(_=q===0){var P=String(c.D).match(LC)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),_=!Dk.test(P?P.toLowerCase():"")}f=_}if(f)Wt(c,"complete"),Wt(c,"success");else{c.m=6;try{var A=2<kr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",GC(c)}}finally{Su(c)}}}}function Su(c,d){if(c.g){QC(c);let f=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Wt(c,"ready");try{f.onreadystatechange=_}catch{}}}function QC(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function kr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),ok(d)}};function YC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Mk(c){let d={};c=(c.g&&2<=kr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(ae(c[_]))continue;var f=S(c[_]);let P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[P]||[];d[P]=A,A.push(f)}M(d,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _c(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ZC(c){this.Aa=0,this.i=[],this.j=new lc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_c("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_c("baseRetryDelayMs",5e3,c),this.cb=_c("retryDelaySeedMs",1e4,c),this.Wa=_c("forwardChannelMaxRetries",2,c),this.wa=_c("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new AC(c&&c.concurrentRequestLimit),this.Da=new Ik,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ZC.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,_){Gt(0),this.W=c,this.H=d||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=sE(this,null,this.W),Ou(this)};function bg(c){if(JC(c),c.G==3){var d=c.U++,f=Ar(c.I);if(He(f,"SID",c.K),He(f,"RID",d),He(f,"TYPE","terminate"),yc(c,f),d=new fi(c,c.j,d),d.L=2,d.v=Tu(Ar(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=aE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Iu(d)}oE(c)}function Pu(c){c.g&&(Cg(c),c.g.cancel(),c.g=null)}function JC(c){Pu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Au(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ou(c){if(!kC(c.h)&&!c.s){c.s=!0;var d=c.Ga;tc||uC(),nc||(tc(),nc=!0),Xp.add(d,c),c.B=0}}function Sk(c,d){return RC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=cc(y(c.Ga,c,d),iE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let P=new fi(this,this.j,c),A=this.o;if(this.S&&(A?(A=C(A),D(A,this.S)):A=this.S),this.m!==null||this.O||(P.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=eE(this,P,d),f=Ar(this.I),He(f,"RID",c),He(f,"CVER",22),this.D&&He(f,"X-HTTP-Session-Id",this.D),yc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(HC(A)))+"&"+d:this.m&&vg(f,this.m,A)),yg(this.h,P),this.Ua&&He(f,"TYPE","init"),this.P?(He(f,"$req",d),He(f,"SID","null"),P.T=!0,pg(P,f,null)):pg(P,f,d),this.G=2}}else this.G==3&&(c?XC(this,c):this.i.length==0||kC(this.h)||XC(this))};function XC(c,d){var f;d?f=d.l:f=c.U++;let _=Ar(c.I);He(_,"SID",c.K),He(_,"RID",f),He(_,"AID",c.T),yc(c,_),c.m&&c.o&&vg(_,c.m,c.o),f=new fi(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=eE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),yg(c.h,f),pg(f,_,d)}function yc(c,d){c.H&&Re(c.H,function(f,_){He(d,_,f)}),c.l&&VC({},function(f,_){He(d,_,f)})}function eE(c,d,f){f=Math.min(c.i.length,f);var _=c.l?y(c.l.Na,c.l,c):null;e:{var P=c.i;let A=-1;for(;;){let q=["count="+f];A==-1?0<f?(A=P[0].g,q.push("ofs="+A)):A=0:q.push("ofs="+A);let ze=!0;for(let Dt=0;Dt<f;Dt++){let Se=P[Dt].g,Rt=P[Dt].map;if(Se-=A,0>Se)A=Math.max(0,P[Dt].g-100),ze=!1;else try{xk(Rt,q,"req"+Se+"_")}catch{_&&_(Rt)}}if(ze){_=q.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,_}function tE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;tc||uC(),nc||(tc(),nc=!0),Xp.add(d,c),c.v=0}}function wg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=cc(y(c.Fa,c),iE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,nE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=cc(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Pu(this),nE(this))};function Cg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function nE(c){c.g=new fi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Ar(c.qa);He(d,"RID","rpc"),He(d,"SID",c.K),He(d,"AID",c.T),He(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(d,"TO",c.ja),He(d,"TYPE","xmlhttp"),yc(c,d),c.m&&c.o&&vg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Tu(Ar(d)),f.m=null,f.P=!0,SC(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Pu(this),wg(this),Gt(19))};function Au(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function rE(c,d){var f=null;if(c.g==d){Au(c),Cg(c),c.g=null;var _=2}else if(_g(c.h,d))f=d.D,NC(c.h,d),_=1;else return;if(c.G!=0){if(d.o)if(_==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var P=c.B;_=wu(),Wt(_,new xC(_,f)),Ou(c)}else tE(c);else if(P=d.s,P==3||P==0&&0<d.X||!(_==1&&Sk(c,d)||_==2&&wg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),P){case 1:ao(c,5);break;case 4:ao(c,10);break;case 3:ao(c,6);break;default:ao(c,2)}}}function iE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ao(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),_=c.Xa;let P=!_;_=new so(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xu(_,"https"),Tu(_),P?Ck(_.toString(),f):Ek(_.toString(),f)}else Gt(2);c.G=0,c.l&&c.l.sa(d),oE(c),JC(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function oE(c){if(c.G=0,c.ka=[],c.l){let d=FC(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function sE(c,d,f){var _=f instanceof so?Ar(f):new so(f);if(_.g!="")d&&(_.g=d+"."+_.g),Du(_,_.s);else{var P=a.location;_=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;var A=new so(null);_&&xu(A,_),d&&(A.g=d),P&&Du(A,P),f&&(A.l=f),_=A}return f=c.D,d=c.ya,f&&d&&He(_,f,d),He(_,"VER",c.la),yc(c,_),_}function aE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ye(new pc({eb:f})):new Ye(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cE(){}n=cE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ku(){}ku.prototype.g=function(c,d){return new pn(c,d)};function pn(c,d){kt.call(this),this.g=new ZC(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!ae(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ae(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ps(this)}T(pn,kt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){bg(this.g)},pn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=cg(c),c=f);d.i.push(new hk(d.Ya++,c)),d.G==3&&Ou(d)},pn.prototype.N=function(){this.g.l=null,delete this.j,bg(this.g),delete this.g,pn.aa.N.call(this)};function lE(c){ug.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(lE,ug);function uE(){dg.call(this),this.status=1}T(uE,dg);function ps(c){this.g=c}T(ps,cE),ps.prototype.ua=function(){Wt(this.g,"a")},ps.prototype.ta=function(c){Wt(this.g,new lE(c))},ps.prototype.sa=function(c){Wt(this.g,new uE)},ps.prototype.ra=function(){Wt(this.g,"b")},ku.prototype.createWebChannel=ku.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,W0=si.createWebChannelTransport=function(){return new ku},H0=si.getStatEventTarget=function(){return wu()},q0=si.Event=io,Wf=si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,Yl=si.ErrorCode=Cu,DC.COMPLETE="complete",$0=si.EventType=DC,wC.EventType=sc,sc.OPEN="a",sc.CLOSE="b",sc.ERROR="c",sc.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Da=si.WebChannel=wC,O8=si.FetchXmlHttpFactory=pc,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,z0=si.XhrIo=Ye}).apply(typeof Hf<"u"?Hf:typeof self<"u"?self:typeof window<"u"?window:{});var IP="@firebase/firestore",xP="4.8.0";var It=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");var Ka="11.10.0";var rs=new _r("@firebase/firestore");function Ta(){return rs.logLevel}function G(n,...e){if(rs.logLevel<=we.DEBUG){let t=e.map(Nw);rs.debug(`Firestore (${Ka}): ${n}`,...t)}}function ai(n,...e){if(rs.logLevel<=we.ERROR){let t=e.map(Nw);rs.error(`Firestore (${Ka}): ${n}`,...t)}}function Xi(n,...e){if(rs.logLevel<=we.WARN){let t=e.map(Nw);rs.warn(`Firestore (${Ka}): ${n}`,...t)}}function Nw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,hO(n,r,t)}function hO(n,e,t){let r=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ai(r),new Error(r)}function ke(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||hO(e,i,r)}function de(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ee=class extends In{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Xf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Z0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}},J0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},X0=class{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ke(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>w(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string",31837,{l:r}),new Xf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string",2055,{h:e}),new It(e)}},eb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},tb=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eb(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ep=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nb=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ke(this.o===void 0,3512);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ep(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ep(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function A8(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function fO(){return new TextEncoder}var ru=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=A8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ve(n,e){return n<e?-1:n>e?1:0}function rb(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ve(r,i);{let o=fO(),s=k8(o.encode(DP(n,t)),o.encode(DP(e,t)));return s!==0?s:ve(r,i)}}t+=r>65535?2:1}return ve(n.length,e.length)}function DP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function k8(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ve(n[t],e[t]);return ve(n.length,e.length)}function Ra(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var TP="__name__",tp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ve(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):rb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}},ct=class n extends tp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ee(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},R8=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dn=class n extends tp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return R8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TP}static keyField(){return new n([TP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new ee(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ee(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(ct.fromString(e))}static fromName(e){return new n(ct.fromString(e).popFirst(5))}static empty(){return new n(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ct(e.slice()))}};function N8(n,e,t){if(!t)throw new ee(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function F8(n,e,t,r){if(e===!0&&r===!0)throw new ee(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MP(n){if(!re.isDocumentKey(n))throw new ee(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pO(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne(12329,{type:typeof n})}function is(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ee(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Fw(n);throw new ee(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gt(n,e){let t={typeString:n};return e&&(t.value=e),t}function gu(n,e){if(!pO(n))throw new ee(j.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ee(j.INVALID_ARGUMENT,t);return!0}var SP=-62135596800,PP=1e6,mt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*PP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ee(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ee(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SP)throw new ee(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PP}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-SP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:gt("string",mt._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};var pe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new mt(0,0))}static max(){return new n(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var iu=-1,ib=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ib.UNKNOWN_ID=-1;function V8(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new mt(t+1,0):new mt(t,r));return new os(i,re.empty(),e)}function L8(n){return new os(n.readTime,n.key,iu)}var os=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(pe.min(),re.empty(),iu)}static max(){return new n(pe.max(),re.empty(),iu)}};function j8(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:ve(n.largestBatchId,e.largestBatchId))}var B8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ob=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Qa(n){return w(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==B8)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function U8(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ya(n){return n.name==="IndexedDbTransactionError"}var Vw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),Lw=-1;function Op(n){return n==null}function ou(n){return n===0&&1/n==-1/0}function z8(n){return typeof n=="number"&&Number.isInteger(n)&&!ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var gO="";function $8(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OP(e)),e=q8(n.get(t),e);return OP(e)}function q8(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case gO:t+="";break;default:t+=o}}return t}function OP(n){return n+gO+""}var H8="remoteDocuments",mO="owner";var _O="mutationQueues";var yO="mutations";var vO="documentMutations",W8="remoteDocumentsV14";var bO="remoteDocumentGlobal";var wO="targets";var CO="targetDocuments";var EO="targetGlobal",IO="collectionParents";var xO="clientMetadata";var DO="bundles";var TO="namedQueries";var G8="indexConfiguration";var K8="indexState";var Q8="indexEntries";var MO="documentOverlays";var Y8="globals";var Z8=[_O,yO,vO,H8,wO,mO,EO,CO,xO,bO,IO,DO,TO],zte=[...Z8,MO],J8=[_O,yO,vO,W8,wO,mO,EO,CO,xO,bO,IO,DO,TO,MO],X8=J8,e$=[...X8,G8,K8,Q8];var $te=[...e$,Y8];function AP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ro(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function SO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var nt=class n{constructor(e,t){this.comparator=e,this.root=t||Cr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oa(this.root,e,this.comparator,!0)}},Oa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Cr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}};Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xt=class n{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new np(this.data.getIterator())}getIteratorFrom(e){return new np(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},np=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Fn=class n{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new n([])}unionWith(e){let t=new xt(Dn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var rp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qt.EMPTY_BYTE_STRING=new qt("");var t$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(n){if(ke(!!n,39018),typeof n=="string"){let e=0,t=t$.exec(n);if(ke(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(n.seconds),nanos:Qe(n.nanos)}}function Qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function li(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}var PO="server_timestamp",OO="__type__",AO="__previous_value__",kO="__local_write_time__";function jw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[OO])===null||t===void 0?void 0:t.stringValue)===PO}function Ap(n){let e=n.mapValue.fields[AO];return jw(e)?Ap(e):e}function su(n){let e=ci(n.mapValue.fields[kO].timestampValue);return new mt(e.seconds,e.nanos)}var sb=class{constructor(e,t,r,i,o,s,a,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}},ip="(default)",op=class n{constructor(e,t){this.projectId=e,this.database=t||ip}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===ip}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Bw="__type__",RO="__max__",Gf={mapValue:{fields:{__type__:{stringValue:RO}}}},Uw="__vector__",Na="value";function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jw(n)?4:FO(n)?9007199254740991:NO(n)?10:11:ne(28295,{value:n})}function xr(n,e){if(n===e)return!0;let t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return su(n).isEqual(su(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ci(i.timestampValue),a=ci(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return li(i.bytesValue).isEqual(li(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Qe(i.geoPointValue.latitude)===Qe(o.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qe(i.integerValue)===Qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Qe(i.doubleValue),a=Qe(o.doubleValue);return s===a?ou(s)===ou(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ra(n.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(AP(s)!==AP(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!xr(s[l],a[l])))return!1;return!0}(n,e);default:return ne(52216,{left:n})}}function au(n,e){return(n.values||[]).find(t=>xr(t,e))!==void 0}function Fa(n,e){if(n===e)return 0;let t=eo(n),r=eo(e);if(t!==r)return ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Qe(o.integerValue||o.doubleValue),l=Qe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return kP(n.timestampValue,e.timestampValue);case 4:return kP(su(n),su(e));case 5:return rb(n.stringValue,e.stringValue);case 6:return function(o,s){let a=li(o),l=li(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=ve(a[u],l[u]);if(h!==0)return h}return ve(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ve(Qe(o.latitude),Qe(s.latitude));return a!==0?a:ve(Qe(o.longitude),Qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return RP(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let p=o.fields||{},y=s.fields||{},v=(a=p[Na])===null||a===void 0?void 0:a.arrayValue,T=(l=y[Na])===null||l===void 0?void 0:l.arrayValue,k=ve(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:RP(v,T)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gf.mapValue&&s===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(s===Gf.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let y=rb(l[p],h[p]);if(y!==0)return y;let v=Fa(a[l[p]],u[h[p]]);if(v!==0)return v}return ve(l.length,h.length)}(n.mapValue,e.mapValue);default:throw ne(23264,{le:t})}}function kP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ve(n,e);let t=ci(n),r=ci(e),i=ve(t.seconds,r.seconds);return i!==0?i:ve(t.nanos,r.nanos)}function RP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Fa(t[i],r[i]);if(o)return o}return ve(t.length,r.length)}function Va(n){return ab(n)}function ab(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ci(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return li(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=ab(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${ab(t.fields[s])}`;return i+"}"}(n.mapValue):ne(61005,{value:n})}function Yf(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ap(n);return e?16+Yf(e):16;case 5:return 2*n.stringValue.length;case 6:return li(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Yf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ro(r.fields,(o,s)=>{i+=o.length+Yf(s)}),i}(n.mapValue);default:throw ne(13486,{value:n})}}function cb(n){return!!n&&"integerValue"in n}function zw(n){return!!n&&"arrayValue"in n}function NP(n){return!!n&&"nullValue"in n}function FP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zf(n){return!!n&&"mapValue"in n}function NO(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bw])===null||t===void 0?void 0:t.stringValue)===Uw}function Jl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Jl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RO}var Hte={mapValue:{fields:{[Bw]:{stringValue:Uw},[Na]:{arrayValue:{}}}}};var xn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(t)}setAll(e){let t=Dn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Jl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ro(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Jl(this.value))}};function VO(n){let e=[];return ro(n.fields,(t,r)=>{let i=new Dn([t]);if(Zf(r)){let o=VO(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}var Xn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pe.min(),pe.min(),pe.min(),xn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,pe.min(),pe.min(),xn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pe.min(),pe.min(),xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var La=class{constructor(e,t){this.position=e,this.inclusive=t}};function VP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),t.key):r=Fa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function LP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xr(n.position[t],e.position[t]))return!1;return!0}var ja=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function n$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var sp=class{},bt=class n extends sp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ub(e,t,r):t==="array-contains"?new fb(e,r):t==="in"?new pb(e,r):t==="not-in"?new gb(e,r):t==="array-contains-any"?new mb(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new db(e,r):new hb(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fa(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(Fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dr=class n extends sp{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return LO(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function LO(n){return n.op==="and"}function jO(n){return r$(n)&&LO(n)}function r$(n){for(let e of n.filters)if(e instanceof Dr)return!1;return!0}function lb(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+Va(n.value);if(jO(n))return n.filters.map(e=>lb(e)).join(",");{let e=n.filters.map(t=>lb(t)).join(",");return`${n.op}(${e})`}}function BO(n,e){return n instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&xr(r.value,i.value)}(n,e):n instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&BO(s,i.filters[a]),!0):!1}(n,e):void ne(19439)}function UO(n){return n instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Va(t.value)}`}(n):n instanceof Dr?function(t){return t.op.toString()+" {"+t.getFilters().map(UO).join(" ,")+"}"}(n):"Filter"}var ub=class extends bt{constructor(e,t,r){super(e,t,r),this.key=re.fromName(r.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},db=class extends bt{constructor(e,t){super(e,"in",t),this.keys=zO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},hb=class extends bt{constructor(e,t){super(e,"not-in",t),this.keys=zO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>re.fromName(r.referenceValue))}var fb=class extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return zw(t)&&au(t.arrayValue,this.value)}},pb=class extends bt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&au(this.value.arrayValue,t)}},gb=class extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!au(this.value.arrayValue,t)}},mb=class extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!zw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>au(this.value.arrayValue,r))}};var _b=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function jP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new _b(n,e,t,r,i,o,s)}function $w(n){let e=de(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lb(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Op(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Va(r)).join(",")),e.Pe=t}return e.Pe}function qw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!LP(n.startAt,e.startAt)&&LP(n.endAt,e.endAt)}function yb(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ba=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function i$(n,e,t,r,i,o,s,a){return new Ba(n,e,t,r,i,o,s,a)}function Hw(n){return new Ba(n)}function BP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function o$(n){return n.collectionGroup!==null}function Xl(n){let e=de(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new xt(Dn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ja(o,r))}),t.has(Dn.keyField().canonicalString())||e.Te.push(new ja(Dn.keyField(),r))}return e.Te}function Er(n){let e=de(n);return e.Ie||(e.Ie=s$(e,Xl(n))),e.Ie}function s$(n,e){if(n.limitType==="F")return jP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ja(i.field,o)});let t=n.endAt?new La(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new La(n.startAt.position,n.startAt.inclusive):null;return jP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function vb(n,e,t){return new Ba(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kp(n,e){return qw(Er(n),Er(e))&&n.limitType===e.limitType}function $O(n){return`${$w(Er(n))}|lt:${n.limitType}`}function Ma(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>UO(i)).join(", ")}]`),Op(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Va(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Va(i)).join(",")),`Target(${r})`}(Er(n))}; limitType=${n.limitType})`}function Rp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Xl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=VP(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Xl(r),i)||r.endAt&&!function(s,a,l){let u=VP(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Xl(r),i))}(n,e)}function a$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qO(n){return(e,t)=>{let r=!1;for(let i of Xl(n)){let o=c$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function c$(n,e,t){let r=n.field.isKeyField()?re.comparator(e.key,t.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Fa(l,u):ne(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:n.dir})}}var ui=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return SO(this.inner)}size(){return this.innerSize}};var l$=new nt(re.comparator);function di(){return l$}var HO=new nt(re.comparator);function Zl(...n){let e=HO;for(let t of n)e=e.insert(t.key,t);return e}function WO(n){let e=HO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xo(){return eu()}function GO(){return eu()}function eu(){return new ui(n=>n.toString(),(n,e)=>n.isEqual(e))}var u$=new nt(re.comparator),d$=new xt(re.comparator);function xe(...n){let e=d$;for(let t of n)e=e.add(t);return e}var h$=new xt(ve);function f$(){return h$}function Ww(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(e)?"-0":e}}function KO(n){return{integerValue:""+n}}function p$(n,e){return z8(e)?KO(e):Ww(n,e)}var Ua=class{constructor(){this._=void 0}};function g$(n,e,t){return n instanceof za?function(i,o){let s={fields:{[OO]:{stringValue:PO},[kO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&jw(o)&&(o=Ap(o)),o&&(s.fields[AO]=o),{mapValue:s}}(t,e):n instanceof ss?YO(n,e):n instanceof as?ZO(n,e):function(i,o){let s=QO(i,o),a=UP(s)+UP(i.Ee);return cb(s)&&cb(i.Ee)?KO(a):Ww(i.serializer,a)}(n,e)}function m$(n,e,t){return n instanceof ss?YO(n,e):n instanceof as?ZO(n,e):t}function QO(n,e){return n instanceof $a?function(r){return cb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var za=class extends Ua{},ss=class extends Ua{constructor(e){super(),this.elements=e}};function YO(n,e){let t=JO(e);for(let r of n.elements)t.some(i=>xr(i,r))||t.push(r);return{arrayValue:{values:t}}}var as=class extends Ua{constructor(e){super(),this.elements=e}};function ZO(n,e){let t=JO(e);for(let r of n.elements)t=t.filter(i=>!xr(i,r));return{arrayValue:{values:t}}}var $a=class extends Ua{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function UP(n){return Qe(n.integerValue||n.doubleValue)}function JO(n){return zw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function _$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ss&&i instanceof ss||r instanceof as&&i instanceof as?Ra(r.elements,i.elements,xr):r instanceof $a&&i instanceof $a?xr(r.Ee,i.Ee):r instanceof za&&i instanceof za}(n.transform,e.transform)}var bb=class{constructor(e,t){this.version=e,this.transformResults=t}},Qi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var qa=class{};function XO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ap(n.key,Qi.none()):new cs(n.key,n.data,Qi.none());{let t=n.data,r=xn.empty(),i=new xt(Dn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Tr(n.key,r,new Fn(i.toArray()),Qi.none())}}function y$(n,e,t){n instanceof cs?function(i,o,s){let a=i.value.clone(),l=$P(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Tr?function(i,o,s){if(!Jf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$P(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(eA(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tu(n,e,t,r){return n instanceof cs?function(o,s,a,l){if(!Jf(o.precondition,s))return a;let u=o.value.clone(),h=qP(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tr?function(o,s,a,l){if(!Jf(o.precondition,s))return a;let u=qP(o.fieldTransforms,l,s),h=s.data;return h.setAll(eA(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Jf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function v$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=QO(r.transform,i||null);o!=null&&(t===null&&(t=xn.empty()),t.set(r.field,o))}return t||null}function zP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ra(r,i,(o,s)=>_$(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var cs=class extends qa{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Tr=class extends qa{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function eA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function $P(n,e,t){let r=new Map;ke(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,m$(s,a,t[i]))}return r}function qP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,g$(o,s,e))}return r}var ap=class extends qa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wb=class extends qa{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Cb=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&y$(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=tu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=GO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=XO(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(t,r)=>zP(t,r))&&Ra(this.baseMutations,e.baseMutations,(t,r)=>zP(t,r))}},Eb=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ke(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return u$}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var Ib=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xb=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ft,Me;function b$(n){switch(n){case j.OK:return ne(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return ne(15467,{code:n})}}function tA(n){if(n===void 0)return ai("GRPC error has no .code"),j.UNKNOWN;switch(n){case ft.OK:return j.OK;case ft.CANCELLED:return j.CANCELLED;case ft.UNKNOWN:return j.UNKNOWN;case ft.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ft.INTERNAL:return j.INTERNAL;case ft.UNAVAILABLE:return j.UNAVAILABLE;case ft.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ft.NOT_FOUND:return j.NOT_FOUND;case ft.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ft.ABORTED:return j.ABORTED;case ft.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ft.DATA_LOSS:return j.DATA_LOSS;default:return ne(39323,{code:n})}}(Me=ft||(ft={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var HP=null;var w$=new oi([4294967295,4294967295],0);function WP(n){let e=fO().encode(n),t=new U0;return t.update(e),new Uint8Array(t.digest())}function GP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oi([t,r],0),new oi([i,o],0)]}var Db=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new es(`Invalid padding: ${t}`);if(r<0)throw new es(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new es(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new es(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=oi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(oi.fromNumber(r)));return i.compare(w$)===1&&(i=new oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=WP(e),[r,i]=GP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=WP(e),[r,i]=GP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},es=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var cp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(pe.min(),i,new nt(ve),di(),xe())}},cu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,xe(),xe(),xe())}};var Aa=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},lp=class{constructor(e,t){this.targetId=e,this.De=t}},up=class{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},dp=class{constructor(){this.ve=0,this.Ce=KP(),this.Fe=qt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xe(),t=xe(),r=xe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:o})}}),new cu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=KP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},Tb=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=di(),this.je=Kf(),this.Je=Kf(),this.He=new nt(ve)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(yb(o))if(r===0){let s=new re(o.path);this.Xe(t,s,Xn.newNoDocument(s,pe.min()))}else ke(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),l=a?this.ut(a,e,s):1;if(l!==0){this.rt(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}HP?.ct(function(h,p,y,v,T){var k,R,J,ae,ce,Ue;let Ht={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},Re=p.unchangedNames;return Re&&(Ht.bloomFilter={applied:T===0,hashCount:(k=Re?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(ae=(J=(R=Re?.bits)===null||R===void 0?void 0:R.bitmap)===null||J===void 0?void 0:J.length)!==null&&ae!==void 0?ae:0,padding:(Ue=(ce=Re?.bits)===null||ce===void 0?void 0:ce.padding)!==null&&Ue!==void 0?Ue:0,mightContain:M=>{var C;return(C=v?.mightContain(M))!==null&&C!==void 0&&C}}),Ht}(s,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=li(r).toUint8Array()}catch(l){if(l instanceof rp)return Xi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Db(s,i,o)}catch(l){return Xi(l instanceof es?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&yb(a.target)){let l=new re(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,Xn.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=xe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new cp(e,t,this.He,this.ze,r);return this.ze=di(),this.je=Kf(),this.Je=Kf(),this.He=new nt(ve),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new dp,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new xt(ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new xt(ve),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||G("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new dp),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Kf(){return new nt(re.comparator)}function KP(){return new nt(re.comparator)}var C$={asc:"ASCENDING",desc:"DESCENDING"},E$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I$={and:"AND",or:"OR"},Mb=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Sb(n,e){return n.useProto3Json||Op(e)?e:{value:e}}function hp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function x$(n,e){return hp(n,e.toTimestamp())}function Ir(n){return ke(!!n,49232),pe.fromTimestamp(function(t){let r=ci(t);return new mt(r.seconds,r.nanos)}(n))}function Gw(n,e){return Pb(n,e).canonicalString()}function Pb(n,e){let t=function(i){return new ct(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function rA(n){let e=ct.fromString(n);return ke(cA(e),10190,{key:e.toString()}),e}function Ob(n,e){return Gw(n.databaseId,e.path)}function G0(n,e){let t=rA(e);if(t.get(1)!==n.databaseId.projectId)throw new ee(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ee(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(oA(t))}function iA(n,e){return Gw(n.databaseId,e)}function D$(n){let e=rA(n);return e.length===4?ct.emptyPath():oA(e)}function Ab(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oA(n){return ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function QP(n,e,t){return{name:Ob(n,e),fields:t.value.mapValue.fields}}function T$(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string",58123),qt.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),qt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?j.UNKNOWN:tA(u.code);return new ee(h,u.message||"")}(s);t=new up(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=G0(n,r.document.name),o=Ir(r.document.updateTime),s=r.document.createTime?Ir(r.document.createTime):pe.min(),a=new xn({mapValue:{fields:r.document.fields}}),l=Xn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Aa(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=G0(n,r.document),o=r.readTime?Ir(r.readTime):pe.min(),s=Xn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Aa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=G0(n,r.document),o=r.removedTargetIds||[];t=new Aa([],o,i,null)}else{if(!("filter"in e))return ne(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new xb(i,o),a=r.targetId;t=new lp(a,s)}}return t}function M$(n,e){let t;if(e instanceof cs)t={update:QP(n,e.key,e.value)};else if(e instanceof ap)t={delete:Ob(n,e.key)};else if(e instanceof Tr)t={update:QP(n,e.key,e.data),updateMask:V$(e.fieldMask)};else{if(!(e instanceof wb))return ne(16599,{Rt:e.type});t={verify:Ob(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof za)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ss)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof as)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $a)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ne(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:x$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne(27497)}(n,e.precondition)),t}function S$(n,e){return n&&n.length>0?(ke(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Ir(i.updateTime):Ir(o);return s.isEqual(pe.min())&&(s=Ir(o)),new bb(s,i.transformResults||[])}(t,e))):[]}function P$(n,e){return{documents:[iA(n,e.path)]}}function O$(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=iA(n,i);let o=function(u){if(u.length!==0)return aA(Dr.create(u,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(y){return{field:Sa(y.field),direction:R$(y.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Sb(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{Vt:t,parent:i}}function A$(n){let e=D$(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ke(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let y=sA(p);return y instanceof Dr&&jO(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(T){return new ja(Pa(T.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Op(y)?null:y}(t.limit));let l=null;t.startAt&&(l=function(p){let y=!!p.before,v=p.values||[];return new La(v,y)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let y=!p.before,v=p.values||[];return new La(v,y)}(t.endAt)),i$(e,i,s,o,a,"F",l,u)}function k$(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Pa(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Pa(t.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Pa(t.unaryFilter.field);return bt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Pa(t.unaryFilter.field);return bt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(n):n.fieldFilter!==void 0?function(t){return bt.create(Pa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Dr.create(t.compositeFilter.filters.map(r=>sA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(t.compositeFilter.op))}(n):ne(30097,{filter:n})}function R$(n){return C$[n]}function N$(n){return E$[n]}function F$(n){return I$[n]}function Sa(n){return{fieldPath:n.canonicalString()}}function Pa(n){return Dn.fromServerFormat(n.fieldPath)}function aA(n){return n instanceof bt?function(t){if(t.op==="=="){if(FP(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NAN"}};if(NP(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FP(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NAN"}};if(NP(t.value))return{unaryFilter:{field:Sa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(t.field),op:N$(t.op),value:t.value}}}(n):n instanceof Dr?function(t){let r=t.getFilters().map(i=>aA(i));return r.length===1?r[0]:{compositeFilter:{op:F$(t.op),filters:r}}}(n):ne(54877,{filter:n})}function V$(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var lu=class n{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var kb=class{constructor(e){this.gt=e}};function L$(n){let e=A$({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vb(e,e.limit,"L"):e}var fp=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),ou(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=ci(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(li(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?FO(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):NO(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ne(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Na,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Qe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),re.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};fp.Ut=new fp;var Rb=class{constructor(){this.Dn=new Nb}addToCollectionParentIndex(e,t){return this.Dn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(os.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(os.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},Nb=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new xt(ct.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xt(ct.comparator)).toArray()}};var Wte=new Uint8Array(0);var YP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040,Nn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(lA,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);var uu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var ZP="LruGarbageCollector",j$=1048576;function JP([n,e],[t,r]){let i=ve(n,t);return i===0?ve(e,r):i}var Fb=class{constructor(e){this.Tr=e,this.buffer=new xt(JP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();JP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Vb=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){G(ZP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>w(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ya(t)?G(ZP,"Ignoring IndexedDB error during garbage collection: ",t):yield Qa(t)}yield this.Rr(3e5)}))}},Lb=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(Vw.ue);let r=new Fb(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(YP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YP):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ta()<=we.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function B$(n,e){return new Lb(n,e)}var jb=class{constructor(){this.changes=new ui(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Bb=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Ub=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tu(r.mutation,i,Fn.empty(),mt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=xe()){let i=Xo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Zl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Xo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,xe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=di(),s=eu(),a=function(){return eu()}();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Tr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),tu(h.mutation,u,h.mutation.getFieldMask(),mt.now())):s.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new Bb(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=eu(),i=new nt((s,a)=>s-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||Fn.empty();h=a.applyToLocalView(u,h),r.set(l,h);let p=(i.get(a.batchId)||xe()).add(l);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=GO();h.forEach(y=>{if(!o.has(y)){let v=XO(t.get(y),r.get(y));v!==null&&p.set(y,v),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):o$(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(Xo()),a=iu,l=o;return s.next(u=>B.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{l=l.insert(h,y)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(h=>({batchId:a,changes:WO(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(r=>{let i=Zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Zl();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,l=>{let u=function(p,y){return new Ba(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Xn.newInvalidDocument(h)))});let a=Zl();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&tu(h.mutation,u,Fn.empty(),mt.now()),Rp(t,u)&&(a=a.insert(l,u))}),a})}};var zb=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return B.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(i){return{name:i.name,query:L$(i.bundledQuery),readTime:Ir(i.readTime)}}(t)),B.resolve()}};var $b=class{constructor(){this.overlays=new nt(re.comparator),this.kr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Xo();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=Xo(),o=t.length+1,s=new re(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new nt((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Xo(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Xo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return B.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ib(t,r));let o=this.kr.get(t);o===void 0&&(o=xe(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var qb=class{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var du=class{constructor(){this.qr=new xt(pt.Qr),this.$r=new xt(pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new pt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new pt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new re(new ct([])),r=new pt(t,e),i=new pt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new re(new ct([])),r=new pt(t,e),i=new pt(t,e+1),o=xe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new pt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},pt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return re.comparator(e.key,t.key)||ve(e.Hr,t.Hr)}static Ur(e,t){return ve(e.Hr,t.Hr)||re.comparator(e.key,t.key)}};var Hb=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new xt(pt.Qr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Cb(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new pt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Lw:this.er-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new pt(t,0),i=new pt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new xt(ve);return t.forEach(i=>{let o=new pt(i,0),s=new pt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),B.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new pt(new re(o),0),a=new xt(ve);return this.Yr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},s),B.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return B.forEach(t.mutations,i=>{let o=new pt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new pt(t,0),i=this.Yr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Wb=class{constructor(e){this.ni=e,this.docs=function(){return new nt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():Xn.newInvalidDocument(t))}getEntries(e,t){let r=di();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Xn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=di(),s=t.path,a=new re(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||j8(L8(h),r)<=0||(i.has(h.key)||Rp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne(9500)}ri(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Gb(this)}getSize(e){return B.resolve(this.size)}},Gb=class extends jb{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Kb=class{constructor(e){this.persistence=e,this.ii=new ui(t=>$w(t),qw),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.si=0,this.oi=new du,this.targetCount=0,this._i=uu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),B.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new uu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.hr(t),B.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.oi.containsKey(t))}};var pp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new Vw(0),this.ci=!1,this.ci=!0,this.li=new qb,this.referenceDelegate=e(this),this.hi=new Kb(this),this.indexManager=new Rb,this.remoteDocumentCache=function(i){return new Wb(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new kb(t),this.Ti=new zb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $b,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Hb(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){G("MemoryPersistence","Starting transaction:",e);let i=new Qb(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return B.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Qb=class extends ob{constructor(e){super(),this.currentSequenceNumber=e}},Yb=class n{constructor(e){this.persistence=e,this.Ai=new du,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ne(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.mi,r=>{let i=re.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return B.or([()=>B.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},gp=class n{constructor(e,t){this.persistence=e,this.gi=new ui(r=>$8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=B$(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return B.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),B.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yf(e.data.value)),t}Sr(e,t,r){return B.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Zb=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=xe(),i=xe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Jb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Xb=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return U1()?8:U8(Ct())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jb;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ta()<=we.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ma(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(Ta()<=we.DEBUG&&G("QueryEngine","Query:",Ma(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ta()<=we.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ma(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(t))):B.resolve())}ps(e,t){if(BP(t))return B.resolve(null);let r=Er(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=vb(t,null,"F"),r=Er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=xe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.bs(t,a);return this.Ds(t,u,s,l.readTime)?this.ps(e,vb(t,null,"F")):this.vs(e,u,t,l)}))})))}ys(e,t,r,i){return BP(t)||i.isEqual(pe.min())?B.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?B.resolve(null):(Ta()<=we.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ma(t)),this.vs(e,s,t,V8(i,iu)).next(a=>a))})}bs(e,t){let r=new xt(qO(e));return t.forEach((i,o)=>{Rp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ta()<=we.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ma(t)),this.gs.getDocumentsMatchingQuery(e,t,os.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Kw="LocalStore",U$=3e8,ew=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new nt(ve),this.Ms=new ui(o=>$w(o),qw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ub(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function z$(n,e,t,r){return new ew(n,e,t,r)}function uA(n,e){return w(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=xe();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function $$(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let p=u.batch,y=p.keys(),v=B.resolve();return y.forEach(T=>{v=v.next(()=>h.getEntry(l,T)).next(k=>{let R=u.docVersions.get(T);ke(R!==null,48541),k.version.compareTo(R)<0&&(p.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dA(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function q$(n,e){let t=de(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let v=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(qt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(k,R,J){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=U$?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(y,v,h)&&a.push(t.hi.updateTargetData(o,v))});let l=di(),u=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(H$(o,s,e.documentUpdates).next(h=>{l=h.Ls,u=h.ks})),!r.isEqual(pe.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.Fs=i,o))}function H$(n,e,t){let r=xe(),i=xe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=di();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):G(Kw,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function W$(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function G$(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new lu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function tw(n,e,t){return w(this,null,function*(){let r=de(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ya(s))throw s;G(Kw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function XP(n,e,t){let r=de(n),i=pe.min(),o=xe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let p=de(l),y=p.Ms.get(h);return y!==void 0?B.resolve(p.Fs.get(y)):p.hi.getTargetData(u,h)}(r,s,Er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:xe())).next(a=>(K$(r,a$(e),a),{documents:a,qs:o})))}function K$(n,e,t){let r=n.xs.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var mp=class{constructor(){this.activeTargetIds=f$()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var nw=class{constructor(){this.Fo=new mp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new mp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rw=class{xo(e){}shutdown(){}};var eO="ConnectivityMonitor",_p=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){G(eO,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){G(eO,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qf=null;function iw(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}var K0="RestConnection",Q$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},ow=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===ip?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=iw(),a=this.Go(e,t.toUriEncodedString());G(K0,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);let{host:u}=new URL(a),h=Li(u);return this.jo(e,a,l,r,h).then(p=>(G(K0,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Xi(K0,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=Q$[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var sw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var zt="WebChannelConnection",aw=class extends ow{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=iw();return new Promise((a,l)=>{let u=new z0;u.setWithCredentials(!0),u.listenOnce($0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yl.NO_ERROR:let p=u.getResponseJson();G(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Yl.TIMEOUT:G(zt,`RPC '${e}' ${s} timed out`),l(new ee(j.DEADLINE_EXCEEDED,"Request time out"));break;case Yl.HTTP_ERROR:let y=u.getStatus();if(G(zt,`RPC '${e}' ${s} failed with status:`,y,"response text:",u.getResponseText()),y>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);let T=v?.error;if(T&&T.status&&T.message){let k=function(J){let ae=J.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(ae)>=0?ae:j.UNKNOWN}(T.status);l(new ee(k,T.message))}else l(new ee(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(j.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{G(zt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);G(zt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}P_(e,t,r){let i=iw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=W0(),a=H0(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");G(zt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let p=s.createWebChannel(h,l);this.T_(p);let y=!1,v=!1,T=new sw({Ho:R=>{v?G(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(G(zt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),G(zt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),k=(R,J,ae)=>{R.listen(J,ce=>{try{ae(ce)}catch(Ue){setTimeout(()=>{throw Ue},0)}})};return k(p,Da.EventType.OPEN,()=>{v||(G(zt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),k(p,Da.EventType.CLOSE,()=>{v||(v=!0,G(zt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),k(p,Da.EventType.ERROR,R=>{v||(v=!0,Xi(zt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.__(new ee(j.UNAVAILABLE,"The operation could not be completed")))}),k(p,Da.EventType.MESSAGE,R=>{var J;if(!v){let ae=R.data[0];ke(!!ae,16349);let ce=ae,Ue=ce?.error||((J=ce[0])===null||J===void 0?void 0:J.error);if(Ue){G(zt,`RPC '${e}' stream ${i} received error:`,Ue);let Ht=Ue.status,Re=function(I){let D=ft[I];if(D!==void 0)return tA(D)}(Ht),M=Ue.message;Re===void 0&&(Re=j.INTERNAL,M="Unknown error status: "+Ht+" with message "+Ue.message),v=!0,T.__(new ee(Re,M)),p.close()}else G(zt,`RPC '${e}' stream ${i} received:`,ae),T.a_(ae)}}),k(a,q0.STAT_EVENT,R=>{R.stat===Wf.PROXY?G(zt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Wf.NOPROXY&&G(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Q0(){return typeof document<"u"?document:null}function Np(n){return new Mb(n,!0)}var yp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var tO="PersistentStream",vp=class{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new yp(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return w(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return w(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return w(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new ee(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>w(this,null,function*(){this.state=0,this.start()}))}G_(e){return G(tO,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(G(tO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cw=class extends vp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=T$(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Ir(s.readTime):pe.min()}(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Ab(this.serializer),t.addTarget=function(o,s){let a,l=s.target;if(a=yb(l)?{documents:P$(o,l)}:{query:O$(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=nA(o,s.resumeToken);let u=Sb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=hp(o,s.snapshotVersion.toTimestamp());let u=Sb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=k$(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Ab(this.serializer),t.removeTarget=e,this.k_(t)}},lw=class extends vp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=S$(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Ab(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>M$(this.serializer,r))};this.k_(t)}};var uw=class{},dw=class extends uw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new ee(j.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Pb(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(j.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Pb(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(j.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},hw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ai(t),this._a=!1):G("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ls="RemoteStore",fw=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>w(this,null,function*(){us(this)&&(G(ls,"Restarting streams for network reachability change."),yield function(l){return w(this,null,function*(){let u=de(l);u.Ia.add(4),yield mu(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Fp(u)})}(this))}))}),this.Aa=new hw(r,i)}};function Fp(n){return w(this,null,function*(){if(us(n))for(let e of n.da)yield e(!0)})}function mu(n){return w(this,null,function*(){for(let e of n.da)yield e(!1)})}function hA(n,e){let t=de(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Jw(t)?Zw(t):Za(t).x_()&&Yw(t,e))}function Qw(n,e){let t=de(n),r=Za(t);t.Ta.delete(e),r.x_()&&fA(t,e),t.Ta.size===0&&(r.x_()?r.B_():us(t)&&t.Aa.set("Unknown"))}function Yw(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Za(n).H_(e)}function fA(n,e){n.Ra.$e(e),Za(n).Y_(e)}function Zw(n){n.Ra=new Tb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Za(n).start(),n.Aa.aa()}function Jw(n){return us(n)&&!Za(n).M_()&&n.Ta.size>0}function us(n){return de(n).Ia.size===0}function pA(n){n.Ra=void 0}function Y$(n){return w(this,null,function*(){n.Aa.set("Online")})}function Z$(n){return w(this,null,function*(){n.Ta.forEach((e,t)=>{Yw(n,e)})})}function J$(n,e){return w(this,null,function*(){pA(n),Jw(n)?(n.Aa.la(e),Zw(n)):n.Aa.set("Unknown")})}function X$(n,e,t){return w(this,null,function*(){if(n.Aa.set("Online"),e instanceof up&&e.state===2&&e.cause)try{yield function(i,o){return w(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})}(n,e)}catch(r){G(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bp(n,r)}else if(e instanceof Aa?n.Ra.Ye(e):e instanceof lp?n.Ra.it(e):n.Ra.et(e),!t.isEqual(pe.min()))try{let r=yield dA(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ta.get(u);h&&o.Ta.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.Ta.get(l);if(!h)return;o.Ta.set(l,h.withResumeToken(qt.EMPTY_BYTE_STRING,h.snapshotVersion)),fA(o,l);let p=new lu(h.target,l,u,h.sequenceNumber);Yw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){G(ls,"Failed to raise snapshot:",r),yield bp(n,r)}})}function bp(n,e,t){return w(this,null,function*(){if(!Ya(e))throw e;n.Ia.add(1),yield mu(n),n.Aa.set("Offline"),t||(t=()=>dA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(null,null,function*(){G(ls,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Fp(n)}))})}function gA(n,e){return e().catch(t=>bp(n,t,e))}function Vp(n){return w(this,null,function*(){let e=de(n),t=to(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Lw;for(;e5(e);)try{let i=yield W$(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,t5(e,i)}catch(i){yield bp(e,i)}mA(e)&&_A(e)})}function e5(n){return us(n)&&n.Pa.length<10}function t5(n,e){n.Pa.push(e);let t=to(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function mA(n){return us(n)&&!to(n).M_()&&n.Pa.length>0}function _A(n){to(n).start()}function n5(n){return w(this,null,function*(){to(n).na()})}function r5(n){return w(this,null,function*(){let e=to(n);for(let t of n.Pa)e.X_(t.mutations)})}function i5(n,e,t){return w(this,null,function*(){let r=n.Pa.shift(),i=Eb.from(r,e,t);yield gA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Vp(n)})}function o5(n,e){return w(this,null,function*(){e&&to(n).Z_&&(yield function(r,i){return w(this,null,function*(){if(function(s){return b$(s)&&s!==j.ABORTED}(i.code)){let o=r.Pa.shift();to(r).N_(),yield gA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Vp(r)}})}(n,e)),mA(n)&&_A(n)})}function nO(n,e){return w(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),G(ls,"RemoteStore received new credentials");let r=us(t);t.Ia.add(3),yield mu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Fp(t)})}function s5(n,e){return w(this,null,function*(){let t=de(n);e?(t.Ia.delete(2),yield Fp(t)):e||(t.Ia.add(2),yield mu(t),t.Aa.set("Unknown"))})}function Za(n){return n.Va||(n.Va=function(t,r,i){let o=de(t);return o.ia(),new cw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:Y$.bind(null,n),e_:Z$.bind(null,n),n_:J$.bind(null,n),J_:X$.bind(null,n)}),n.da.push(e=>w(null,null,function*(){e?(n.Va.N_(),Jw(n)?Zw(n):n.Aa.set("Unknown")):(yield n.Va.stop(),pA(n))}))),n.Va}function to(n){return n.ma||(n.ma=function(t,r,i){let o=de(t);return o.ia(),new lw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:n5.bind(null,n),n_:o5.bind(null,n),ea:r5.bind(null,n),ta:i5.bind(null,n)}),n.da.push(e=>w(null,null,function*(){e?(n.ma.N_(),yield Vp(n)):(yield n.ma.stop(),n.Pa.length>0&&(G(ls,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var pw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Xw(n,e){if(ai("AsyncQueue",`${e}: ${n}`),Ya(n))return new ee(j.UNAVAILABLE,`${e}: ${n}`);throw n}var wp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||re.comparator(t.key,r.key):(t,r)=>re.comparator(t.key,r.key),this.keyedMap=Zl(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Cp=class{constructor(){this.fa=new nt(re.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ha=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,wp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var gw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},mw=class{constructor(){this.queries=rO(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=de(t),o=i.queries;i.queries=rO(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(r)})})(this,new ee(j.ABORTED,"Firestore shutting down"))}};function rO(){return new ui(n=>$O(n),kp)}function a5(n,e){return w(this,null,function*(){let t=de(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new gw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Xw(s,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&eC(t)})}function c5(n,e){return w(this,null,function*(){let t=de(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function l5(n,e){let t=de(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&eC(t)}function u5(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function eC(n){n.Da.forEach(e=>{e.next()})}var _w,iO;(iO=_w||(_w={})).Fa="default",iO.Cache="cache";var yw=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==_w.Cache}};var Ep=class{constructor(e){this.key=e}},Ip=class{constructor(e){this.key=e}},vw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xe(),this.mutatedKeys=xe(),this.Xa=qO(e),this.eu=new wp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Cp,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),v=Rp(this.query,p)?p:null,T=!!y&&this.mutatedKeys.has(y.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),R=!1;y&&v?y.data.isEqual(v.data)?T!==k&&(r.track({type:3,doc:v}),R=!0):this.iu(y,v)||(r.track({type:2,doc:v}),R=!0,(l&&this.Xa(v,l)>0||u&&this.Xa(v,u)<0)&&(a=!0)):!y&&v?(r.track({type:0,doc:v}),R=!0):y&&!v&&(r.track({type:1,doc:y}),R=!0,(l||u)&&(a=!0)),R&&(v?(s=s.add(v),o=k?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>function(v,T){let k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{At:R})}};return k(v)-k(T)}(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,s.length!==0||u?{snapshot:new Ha(this.query,e.eu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Cp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=xe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Ip(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Ep(r))}),t}uu(e){this.Ha=e.qs,this.Za=xe();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ha.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},tC="SyncEngine",bw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},ww=class{constructor(e){this.key=e,this.lu=!1}},Cw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ui(a=>$O(a),kp),this.Tu=new Map,this.Iu=new Set,this.du=new nt(re.comparator),this.Eu=new Map,this.Au=new du,this.Ru={},this.Vu=new Map,this.mu=uu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function d5(n,e,t=!0){return w(this,null,function*(){let r=EA(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield yA(r,e,t,!0),i})}function h5(n,e){return w(this,null,function*(){let t=EA(n);yield yA(t,e,!0,!1)})}function yA(n,e,t,r){return w(this,null,function*(){let i=yield G$(n.localStore,Er(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield f5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&hA(n.remoteStore,i),a})}function f5(n,e,t,r,i){return w(this,null,function*(){n.gu=(p,y,v)=>function(k,R,J,ae){return w(this,null,function*(){let ce=R.view.nu(J);ce.Ds&&(ce=yield XP(k.localStore,R.query,!1).then(({documents:M})=>R.view.nu(M,ce)));let Ue=ae&&ae.targetChanges.get(R.targetId),Ht=ae&&ae.targetMismatches.get(R.targetId)!=null,Re=R.view.applyChanges(ce,k.isPrimaryClient,Ue,Ht);return sO(k,R.targetId,Re._u),Re.snapshot})}(n,p,y,v);let o=yield XP(n.localStore,e,!0),s=new vw(e,o.qs),a=s.nu(o.documents),l=cu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);sO(n,t,u._u);let h=new bw(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function p5(n,e,t){return w(this,null,function*(){let r=de(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!kp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield tw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Qw(r.remoteStore,i.targetId),Ew(r,i.targetId)}).catch(Qa))):(Ew(r,i.targetId),yield tw(r.localStore,i.targetId,!0))})}function g5(n,e){return w(this,null,function*(){let t=de(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Qw(t.remoteStore,r.targetId))})}function m5(n,e,t){return w(this,null,function*(){let r=E5(n);try{let i=yield function(s,a){let l=de(s),u=mt.now(),h=a.reduce((v,T)=>v.add(T.key),xe()),p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=di(),k=xe();return l.Os.getEntries(v,h).next(R=>{T=R,T.forEach((J,ae)=>{ae.isValidDocument()||(k=k.add(J))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,T)).next(R=>{p=R;let J=[];for(let ae of a){let ce=v$(ae,p.get(ae.key).overlayedDocument);ce!=null&&J.push(new Tr(ae.key,ce,VO(ce.value.mapValue),Qi.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,J,a)}).next(R=>{y=R;let J=R.applyToLocalDocumentSet(p,k);return l.documentOverlayCache.saveOverlays(v,R.batchId,J)})}).then(()=>({batchId:y.batchId,changes:WO(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ru[s.currentUser.toKey()];u||(u=new nt(ve)),u=u.insert(a,l),s.Ru[s.currentUser.toKey()]=u}(r,i.batchId,t),yield _u(r,i.changes),yield Vp(r.remoteStore)}catch(i){let o=Xw(i,"Failed to persist write");t.reject(o)}})}function vA(n,e){return w(this,null,function*(){let t=de(n);try{let r=yield q$(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ke(s.lu,14607):i.removedDocuments.size>0&&(ke(s.lu,42227),s.lu=!1))}),yield _u(t,r,e)}catch(r){yield Qa(r)}})}function oO(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=de(s);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let y of p.wa)y.va(a)&&(u=!0)}),u&&eC(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _5(n,e,t){return w(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new nt(re.comparator);s=s.insert(o,Xn.newNoDocument(o,pe.min()));let a=xe().add(o),l=new cp(pe.min(),new Map,new nt(ve),s,a);yield vA(r,l),r.du=r.du.remove(o),r.Eu.delete(e),nC(r)}else yield tw(r.localStore,e,!1).then(()=>Ew(r,e,t)).catch(Qa)})}function y5(n,e){return w(this,null,function*(){let t=de(n),r=e.batch.batchId;try{let i=yield $$(t.localStore,e);wA(t,r,null),bA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _u(t,i)}catch(i){yield Qa(i)}})}function v5(n,e,t){return w(this,null,function*(){let r=de(n);try{let i=yield function(s,a){let l=de(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(ke(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);wA(r,e,t),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _u(r,i)}catch(i){yield Qa(i)}})}function bA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function wA(n,e,t){let r=de(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Ew(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||CA(n,r)})}function CA(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(Qw(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),nC(n))}function sO(n,e,t){for(let r of t)r instanceof Ep?(n.Au.addReference(r.key,e),b5(n,r)):r instanceof Ip?(G(tC,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||CA(n,r.key)):ne(19791,{yu:r})}function b5(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(G(tC,"New document in limbo: "+t),n.Iu.add(r),nC(n))}function nC(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new re(ct.fromString(e)),r=n.mu.next();n.Eu.set(r,new ww(t)),n.du=n.du.insert(t,r),hA(n.remoteStore,new lu(Er(Hw(t.path)),r,"TargetPurposeLimboResolution",Vw.ue))}}function _u(n,e,t){return w(this,null,function*(){let r=de(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);let p=Zb.Es(l.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield function(l,u){return w(this,null,function*(){let h=de(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,y=>B.forEach(y.Is,v=>h.persistence.referenceDelegate.addReference(p,y.targetId,v)).next(()=>B.forEach(y.ds,v=>h.persistence.referenceDelegate.removeReference(p,y.targetId,v)))))}catch(p){if(!Ya(p))throw p;G(Kw,"Failed to update sequence numbers: "+p)}for(let p of u){let y=p.targetId;if(!p.fromCache){let v=h.Fs.get(y),T=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(y,k)}}})}(r.localStore,o))})}function w5(n,e){return w(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){G(tC,"User change. New user:",e.toKey());let r=yield uA(t.localStore,e);t.currentUser=e,function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new ee(j.CANCELLED,s))})}),o.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _u(t,r.Bs)}})}function C5(n,e){let t=de(n),r=t.Eu.get(e);if(r&&r.lu)return xe().add(r.key);{let i=xe(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function EA(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_5.bind(null,e),e.hu.J_=l5.bind(null,e.eventManager),e.hu.pu=u5.bind(null,e.eventManager),e}function E5(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v5.bind(null,e),e}var IA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Np(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return z$(this.persistence,new Xb,t.initialUser,this.serializer)}Du(t){return new pp(Yb.Vi,this.serializer)}bu(t){return new nw}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Iw=class extends IA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ke(this.persistence.referenceDelegate instanceof gp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Vb(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new pp(r=>gp.Vi(r,t),this.serializer)}};var I5=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=w5.bind(null,this.syncEngine),yield s5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new mw}()}createDatastore(t){let r=Np(t.databaseInfo.databaseId),i=function(s){return new aw(s)}(t.databaseInfo);return function(s,a,l,u){return new dw(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,l){return new fw(i,o,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,r=>oO(this.syncEngine,r,0),function(){return _p.C()?new _p:new rw}())}createSyncEngine(t,r){return function(o,s,a,l,u,h,p){let y=new Cw(o,s,a,l,u,h);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(o){return w(this,null,function*(){let s=de(o);G(ls,"RemoteStore shutting down."),s.Ia.add(5),yield mu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var xw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var no="FirestoreClient",Dw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=ru.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>w(this,null,function*(){G(no,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G(no,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Xw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Y0(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G(no,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(null,null,function*(){r.isEqual(i)||(yield uA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Xi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{G("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Xi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function aO(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield x5(n);G(no,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>nO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>nO(e.remoteStore,i)),n._onlineComponents=e})}function x5(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G(no,"Using user provided OfflineComponentProvider");try{yield Y0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xi("Error using user provided cache. Falling back to memory cache: "+t),yield Y0(n,new IA)}}else G(no,"Using default OfflineComponentProvider"),yield Y0(n,new Iw(void 0));return n._offlineComponents})}function xA(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G(no,"Using user provided OnlineComponentProvider"),yield aO(n,n._uninitializedComponentsProvider._online)):(G(no,"Using default OnlineComponentProvider"),yield aO(n,new I5))),n._onlineComponents})}function D5(n){return xA(n).then(e=>e.syncEngine)}function T5(n){return w(this,null,function*(){let e=yield xA(n),t=e.eventManager;return t.onListen=d5.bind(null,e.syncEngine),t.onUnlisten=p5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=h5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=g5.bind(null,e.syncEngine),t})}function M5(n,e,t={}){let r=new wr;return n.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return function(o,s,a,l,u){let h=new xw({next:y=>{h.Ou(),s.enqueueAndForget(()=>c5(o,p));let v=y.docs.has(a);!v&&y.fromCache?u.reject(new ee(j.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&y.fromCache&&l&&l.source==="server"?u.reject(new ee(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(y)},error:y=>u.reject(y)}),p=new yw(Hw(a.path),h,{includeMetadataChanges:!0,ka:!0});return a5(o,p)}(yield T5(n),n.asyncQueue,e,t,r)})),r.promise}function DA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var cO=new Map;var TA="firestore.googleapis.com",lO=!0,xp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TA,this.ssl=lO}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:lO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j$)throw new ee(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ee(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},hu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z0;switch(r.type){case"firstParty":return new tb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=cO.get(t);r&&(G("ComponentProvider","Removing Datastore"),cO.delete(t),r.terminate())}(this),Promise.resolve()}};function MA(n,e,t,r={}){var i;n=is(n,hu);let o=Li(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(vf(`https://${l}`),bf("Firestore",!0)),s.host!==TA&&s.host!==l&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!mr(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=It.MOCK_USER;else{h=N1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ee(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new It(y)}n._authCredentials=new J0(new Xf(h,p))}}var Tw=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},$t=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(gu(t,n._jsonSchema))return new n(e,r||null,new re(ct.fromString(t.referencePath)))}};$t._jsonSchemaVersion="firestore/documentReference/1.0",$t._jsonSchema={type:gt("string",$t._jsonSchemaVersion),referencePath:gt("string")};var fu=class n extends Tw{constructor(e,t,r){super(e,t,Hw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function SA(n,e,...t){if(n=Et(n),arguments.length===1&&(e=ru.newId()),N8("doc","path",e),n instanceof hu){let r=ct.fromString(e,...t);return MP(r),new $t(n,null,new re(r))}{if(!(n instanceof $t||n instanceof fu))throw new ee(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return MP(r),new $t(n.firestore,n instanceof fu?n.converter:null,new re(r))}}var uO="AsyncQueue",Dp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new yp(this,"async_queue_retry"),this.oc=()=>{let r=Q0();r&&G(uO,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Q0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Q0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new wr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return w(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ya(e))throw e;G(uO,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ai("INTERNAL UNHANDLED ERROR: ",dO(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=pw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ne(47125,{hc:dO(this.tc)})}verifyOperationInProgress(){}Pc(){return w(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function dO(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Wa=class extends hu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Dp(e),this._firestoreClient=void 0,yield e}})}};function PA(n,e){let t=typeof n=="object"?n:Ho(),r=typeof n=="string"?n:e||ip,i=wa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=R1("firestore");o&&MA(i,...o)}return i}function OA(n){if(n._terminated)throw new ee(j.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||S5(n),n._firestoreClient}function S5(n){var e,t,r;let i=n._freezeSettings(),o=function(a,l,u,h){return new sb(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Dw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}var Yi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qt.fromBase64String(e))}catch(t){throw new ee(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:gt("string",Yi._jsonSchemaVersion),bytes:gt("string")};var Ga=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ee(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pu=class{constructor(e){this._methodName=e}};var Zi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ee(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ee(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(gu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:gt("string",Zi._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};var Ji=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new ee(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:gt("string",Ji._jsonSchemaVersion),vectorValues:gt("object")};var P5=/^__.*__$/,Mw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new cs(e,this.data,t,this.fieldTransforms)}},Tp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function AA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ec:n})}}var Sw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Sp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(AA(this.Ec)&&P5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Pw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Np(e)}Dc(e,t,r,i=!1){return new Sw({Ec:e,methodName:t,bc:r,path:Dn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kA(n){let e=n._freezeSettings(),t=Np(n._databaseId);return new Pw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function O5(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);rC("Data must be an object, but it was:",s,r);let a=RA(r,s),l,u;if(o.merge)l=new Fn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=Ow(e,p,t);if(!s.contains(y))throw new ee(j.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);FA(h,y)||h.push(y)}l=new Fn(h),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new Mw(new xn(a),l,u)}var Mp=class n extends pu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function A5(n,e,t,r){let i=n.Dc(1,e,t);rC("Data must be an object, but it was:",i,r);let o=[],s=xn.empty();ro(r,(l,u)=>{let h=iC(e,l,t);u=Et(u);let p=i.gc(h);if(u instanceof Mp)o.push(h);else{let y=Lp(u,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new Fn(o);return new Tp(s,a,i.fieldTransforms)}function k5(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[Ow(e,r,t)],l=[i];if(o.length%2!=0)throw new ee(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(Ow(e,o[y])),l.push(o[y+1]);let u=[],h=xn.empty();for(let y=a.length-1;y>=0;--y)if(!FA(u,a[y])){let v=a[y],T=l[y];T=Et(T);let k=s.gc(v);if(T instanceof Mp)u.push(v);else{let R=Lp(T,k);R!=null&&(u.push(v),h.set(v,R))}}let p=new Fn(u);return new Tp(h,p,s.fieldTransforms)}function Lp(n,e){if(NA(n=Et(n)))return rC("Unsupported field value:",e,n),RA(n,e);if(n instanceof pu)return function(r,i){if(!AA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Lp(a,i.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return p$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=mt.fromDate(r);return{timestampValue:hp(i.serializer,o)}}if(r instanceof mt){let o=new mt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,o)}}if(r instanceof Zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:nA(i.serializer,r._byteString)};if(r instanceof $t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ji)return function(s,a){return{mapValue:{fields:{[Bw]:{stringValue:Uw},[Na]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Ww(a.serializer,u)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Fw(r)}`)}(n,e)}function RA(n,e){let t={};return SO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(n,(r,i)=>{let o=Lp(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function NA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mt||n instanceof Zi||n instanceof Yi||n instanceof $t||n instanceof pu||n instanceof Ji)}function rC(n,e,t){if(!NA(t)||!pO(t)){let r=Fw(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Ow(n,e,t){if((e=Et(e))instanceof Ga)return e._internalPath;if(typeof e=="string")return iC(n,e);throw Sp("Field path arguments must be of type string or ",n,!1,void 0,t)}var R5=new RegExp("[~\\*/\\[\\]]");function iC(n,e,t){if(e.search(R5)>=0)throw Sp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ga(...e.split("."))._internalPath}catch{throw Sp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ee(j.INVALID_ARGUMENT,a+n+l)}function FA(n,e){return n.some(t=>t.isEqual(e))}var Pp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Aw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(VA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Aw=class extends Pp{data(){return super.data()}};function VA(n,e){return typeof e=="string"?iC(n,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}var kw=class{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ro(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Na].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Qe(s.doubleValue));return new Ji(o)}convertGeoPoint(e){return new Zi(Qe(e.latitude),Qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ap(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){let t=ci(e);return new mt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ct.fromString(e);ke(cA(r),9688,{name:e});let i=new op(r.get(1),r.get(3)),o=new re(r.popFirst(5));return i.isEqual(t)||ai(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function N5(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var ts=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ns=class n extends Pp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ka(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(VA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:gt("string",ns._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};var ka=class extends ns{data(e={}){return super.data(e)}},nu=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ts(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ka(this._firestore,this._userDataWriter,r.key,r,new ts(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ee(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new ka(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ts(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new ka(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ts(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:F5(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ru.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function F5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:n})}}function LA(n){n=is(n,$t);let e=is(n.firestore,Wa);return M5(OA(e),n._key).then(t=>V5(e,n,t))}nu._jsonSchemaVersion="firestore/querySnapshot/1.0",nu._jsonSchema={type:gt("string",nu._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};var Rw=class extends kw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,t)}};function jA(n,e,t){n=is(n,$t);let r=is(n.firestore,Wa),i=N5(n.converter,e,t);return UA(r,[O5(kA(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Qi.none())])}function BA(n,e,t,...r){n=is(n,$t);let i=is(n.firestore,Wa),o=kA(i),s;return s=typeof(e=Et(e))=="string"||e instanceof Ga?k5(o,"updateDoc",n._key,e,t,r):A5(o,"updateDoc",n._key,e),UA(i,[s.toMutation(n._key,Qi.exists(!0))])}function UA(n,e){return function(r,i){let o=new wr;return r.asyncQueue.enqueueAndForget(()=>w(null,null,function*(){return m5(yield D5(r),i,o)})),o.promise}(OA(n),e)}function V5(n,e,t){let r=t.docs.get(e._key),i=new Rw(n);return new ns(n,i,e._key,r,new ts(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Ka=i})(Bi),Zn(new Zt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Wa(new X0(r.getProvider("auth-internal")),new nb(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new op(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),tt(IP,xP,e),tt(IP,xP,"esm2017")})();var ds=class{constructor(e){return e}},zA="firestore",oC=class{constructor(){return Ea(zA)}};var sC=new Q("angularfire2.firestore-instances");function L5(n,e){let t=Fl(zA,n,e);return t&&new ds(t)}function j5(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ds(r)}}var B5={provide:oC,deps:[[new sn,sC]]},U5={provide:ds,useFactory:L5,deps:[[new sn,sC],ti]};function $A(n,...e){return tt("angularfire",Ui.full,"fst"),zn([U5,B5,{provide:sC,useFactory:j5(n),multi:!0,deps:[Pe,Je,zi,Go,[new sn,Ql],[new sn,Ia],...e]}])}var Ja=Jt(SA,!0,2);var aC=Jt(LA,!0);var qA=Jt(PA,!0);var HA=Jt(jA,!0,2);var cC=Jt(BA,!0,2);var Mr=class n{auth=V(Jo);firestore=V(ds);router=V(ht);user$=_P(this.auth);currentUser=null;constructor(){this.user$.subscribe(e=>{this.currentUser=e})}register(e,t,r,i){return w(this,null,function*(){try{let o=yield yP(this.auth,t,r),s={username:e,email:t,password:"",theme:i,selectedModules:[]};return yield HA(Ja(this.firestore,"users",o.user.uid),s),localStorage.setItem("currentUser",e),localStorage.setItem("userEmail",t),{success:!0}}catch(o){console.error("Registration error:",o);let s="Registration failed.";return o.code==="auth/email-already-in-use"?s="Email is already in use.":o.code==="auth/weak-password"?s="Password should be at least 6 characters.":o.code==="auth/invalid-email"&&(s="Invalid email address."),{success:!1,message:s}}})}login(e,t){return w(this,null,function*(){try{let r=yield bP(this.auth,e,t),i=yield aC(Ja(this.firestore,"users",r.user.uid));if(i.exists()){let o=i.data();localStorage.setItem("currentUser",o.username),localStorage.setItem("userEmail",o.email),console.log("User logged in:",o)}return{success:!0}}catch(r){console.error("Login error:",r);let i="Login failed.";return r.code==="auth/user-not-found"||r.code==="auth/wrong-password"?i="Invalid email or password.":r.code==="auth/invalid-email"?i="Invalid email address.":r.code==="auth/too-many-requests"&&(i="Too many failed attempts. Try again later."),{success:!1,message:i}}})}logout(){return w(this,null,function*(){try{yield wP(this.auth),this.router.navigate(["/login"])}catch(e){console.error("Logout error:",e)}})}isLoggedIn(){return this.currentUser!==null}getCurrentUser(){return this.currentUser?.email||null}getCurrentUserId(){return this.currentUser?.uid||null}getUserData(){return w(this,null,function*(){let e=this.getCurrentUserId();if(!e)return null;try{let t=Ja(this.firestore,"users",e),r=yield aC(t);return r.exists()?r.data():null}catch(t){return console.error("Error getting user data:",t),null}})}updateUserTheme(e){return w(this,null,function*(){let t=this.getCurrentUserId();if(t)try{yield cC(Ja(this.firestore,"users",t),{theme:e})}catch(r){console.error("Error updating theme:",r)}})}updateSelectedModules(e){return w(this,null,function*(){let t=this.getCurrentUserId();if(t)try{yield cC(Ja(this.firestore,"users",t),{selectedModules:e})}catch(r){console.error("Error updating modules:",r)}})}getCurrentUsername(){return w(this,null,function*(){return(yield this.getUserData())?.username||null})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sr=class n{themes=[{id:"green",name:"\u{1F7E2} Green",primary:"#27ae60",secondary:"#2ecc71",background:"#e8f8f5"},{id:"blue",name:"\u{1F535} Blue",primary:"#3498db",secondary:"#5dade2",background:"#ebf5fb"},{id:"pink",name:"\u{1FA77} Pink",primary:"#e91e63",secondary:"#f48fb1",background:"#fce4ec"},{id:"orange",name:"\u{1F7E0} Orange",primary:"#e67e22",secondary:"#f39c12",background:"#fef5e7"},{id:"dark",name:"\u26AB Dark",primary:"#2c3e50",secondary:"#34495e",background:"#1a1a1a"},{id:"cyberpunk",name:"\u{1F49C} Cyberpunk",primary:"#9b59b6",secondary:"#ff00ff",background:"#0a0a0a"}];constructor(){this.loadTheme()}getThemes(){return this.themes}setTheme(e){let t=this.themes.find(r=>r.id===e);t&&(document.documentElement.style.setProperty("--primary-color",t.primary),document.documentElement.style.setProperty("--secondary-color",t.secondary),document.documentElement.style.setProperty("--background-color",t.background),e==="dark"||e==="cyberpunk"?(document.documentElement.style.setProperty("--text-color","#ffffff"),document.documentElement.style.setProperty("--card-bg","#2c3e50"),document.documentElement.style.setProperty("--input-bg","#34495e")):(document.documentElement.style.setProperty("--text-color","#2c3e50"),document.documentElement.style.setProperty("--card-bg","#ffffff"),document.documentElement.style.setProperty("--input-bg","#ffffff")),localStorage.setItem("selectedTheme",e))}loadTheme(){let e=localStorage.getItem("selectedTheme")||"blue";this.setTheme(e)}getCurrentTheme(){return localStorage.getItem("selectedTheme")||"blue"}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function z5(n,e){if(n&1&&(m(0,"p",11),b(1),g()),n&2){let t=L();x(),Fe(t.errorMessage)}}var Up=class n{constructor(e,t,r){this.authService=e;this.themeService=t;this.router=r}email="";password="";errorMessage="";isLoading=!1;ngOnInit(){this.themeService.loadTheme()}onLogin(){return w(this,null,function*(){this.errorMessage="",this.isLoading=!0;try{let e=yield this.authService.login(this.email,this.password);if(e.success){let t=yield this.authService.getUserData();t&&t.theme&&this.themeService.setTheme(t.theme),this.router.navigate(["/module-selector"])}else this.errorMessage=e.message||"Login failed!"}catch(e){this.errorMessage="An unexpected error occurred.",console.error("Login error:",e)}finally{this.isLoading=!1}})}static \u0275fac=function(t){return new(t||n)(W(Mr),W(Sr),W(ht))};static \u0275cmp=Ge({type:n,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["type","email","name","email","placeholder","Enter your email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Enter your password","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"btn-login",3,"click","disabled"],[1,"register-link"],["routerLink","/register"],[1,"error"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),b(3,"\u{1F31F} Personal Life Dashboard"),g(),m(4,"p",2),b(5,"Track your life, achieve your goals"),g(),m(6,"form",3),U("ngSubmit",function(){return r.onLogin()}),m(7,"div",4)(8,"label"),b(9,"Email"),g(),m(10,"input",5),Z("ngModelChange",function(o){return X(r.email,o)||(r.email=o),o}),g()(),m(11,"div",4)(12,"label"),b(13,"Password"),g(),m(14,"input",6),Z("ngModelChange",function(o){return X(r.password,o)||(r.password=o),o}),g()(),fe(15,z5,2,1,"p",7),m(16,"button",8),U("click",function(){return r.onLogin()}),b(17),g()(),m(18,"p",9),b(19," Don't have an account? "),m(20,"a",10),b(21,"Register here"),g()()()()),t&2&&(x(10),Y("ngModel",r.email),x(4),Y("ngModel",r.password),x(),$("ngIf",r.errorMessage),x(),$("disabled",r.isLoading),x(),Ve(" ",r.isLoading?"Logging in...":"Login"," "))},dependencies:[et,at,hn,_a,Ut,dn,ma,Sl,Yt,Uo,Ot,wt],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%)}.login-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:40px;border-radius:20px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{text-align:center;color:var(--text-color);margin-bottom:10px}.subtitle[_ngcontent-%COMP%]{text-align:center;color:var(--text-color);opacity:.7;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:var(--text-color);font-weight:600}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;transition:border-color .3s;box-sizing:border-box;background:var(--input-bg);color:var(--text-color)}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.btn-login[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s}.btn-login[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.error[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px}.register-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:var(--text-color)}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:600}.register-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function $5(n,e){if(n&1){let t=te();m(0,"div",15),U("click",function(){let i=N(t).$implicit,o=L();return F(o.onThemeChange(i.id))}),Ie(1,"div",16),m(2,"span"),b(3),g()()}if(n&2){let t=e.$implicit,r=L();Ne("selected",r.selectedTheme===t.id),x(),Xe("background",t.primary),x(2),Fe(t.name)}}function q5(n,e){if(n&1&&(m(0,"p",17),b(1),g()),n&2){let t=L();x(),Fe(t.errorMessage)}}var zp=class n{constructor(e,t,r){this.authService=e;this.themeService=t;this.router=r}username="";email="";password="";confirmPassword="";selectedTheme="blue";errorMessage="";isLoading=!1;themes=[];ngOnInit(){this.themes=this.themeService.getThemes()}onThemeChange(e){this.selectedTheme=e,this.themeService.setTheme(e)}onRegister(){return w(this,null,function*(){if(this.errorMessage="",!this.username||!this.email||!this.password){this.errorMessage="Please fill in all fields!";return}if(this.password!==this.confirmPassword){this.errorMessage="Passwords do not match!";return}if(this.password.length<6){this.errorMessage="Password must be at least 6 characters!";return}this.isLoading=!0;try{let e=yield this.authService.register(this.username,this.email,this.password,this.selectedTheme);e.success?(yield this.authService.login(this.email,this.password)).success?this.router.navigate(["/module-selector"]):this.errorMessage="Registration successful, but login failed.":this.errorMessage=e.message||"Registration failed!"}catch(e){this.errorMessage="An unexpected error occurred.",console.error("Registration error:",e)}finally{this.isLoading=!1}})}static \u0275fac=function(t){return new(t||n)(W(Mr),W(Sr),W(ht))};static \u0275cmp=Ge({type:n,selectors:[["app-register"]],decls:35,vars:8,consts:[[1,"register-container"],[1,"register-card"],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["type","text","name","username","placeholder","Choose a username","required","",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","your@email.com","required","",3,"ngModelChange","ngModel"],["type","password","name","password","placeholder","Create a password","required","",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","placeholder","Confirm your password","required","",3,"ngModelChange","ngModel"],[1,"theme-grid"],["class","theme-option",3,"selected","click",4,"ngFor","ngForOf"],["class","error",4,"ngIf"],["type","submit",1,"btn-register",3,"click","disabled"],[1,"login-link"],["routerLink","/login"],[1,"theme-option",3,"click"],[1,"theme-color"],[1,"error"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),b(3,"\u2728 Create Account"),g(),m(4,"p",2),b(5,"Join Personal Life Dashboard"),g(),m(6,"form",3),U("ngSubmit",function(){return r.onRegister()}),m(7,"div",4)(8,"label"),b(9,"Username"),g(),m(10,"input",5),Z("ngModelChange",function(o){return X(r.username,o)||(r.username=o),o}),g()(),m(11,"div",4)(12,"label"),b(13,"Email"),g(),m(14,"input",6),Z("ngModelChange",function(o){return X(r.email,o)||(r.email=o),o}),g()(),m(15,"div",4)(16,"label"),b(17,"Password"),g(),m(18,"input",7),Z("ngModelChange",function(o){return X(r.password,o)||(r.password=o),o}),g()(),m(19,"div",4)(20,"label"),b(21,"Confirm Password"),g(),m(22,"input",8),Z("ngModelChange",function(o){return X(r.confirmPassword,o)||(r.confirmPassword=o),o}),g()(),m(23,"div",4)(24,"label"),b(25,"Choose Your Theme \u{1F3A8}"),g(),m(26,"div",9),fe(27,$5,4,5,"div",10),g()(),fe(28,q5,2,1,"p",11),m(29,"button",12),U("click",function(){return r.onRegister()}),b(30),g()(),m(31,"p",13),b(32," Already have an account? "),m(33,"a",14),b(34,"Login here"),g()()()()),t&2&&(x(10),Y("ngModel",r.username),x(4),Y("ngModel",r.email),x(4),Y("ngModel",r.password),x(4),Y("ngModel",r.confirmPassword),x(5),$("ngForOf",r.themes),x(),$("ngIf",r.errorMessage),x(),$("disabled",r.isLoading),x(),Ve(" ",r.isLoading?"Registering...":"Register"," "))},dependencies:[et,Bt,at,hn,_a,Ut,dn,ma,Sl,Yt,Uo,Ot,wt],styles:[".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,var(--primary-color, #667eea) 0%,var(--secondary-color, #764ba2) 100%);padding:20px}.register-card[_ngcontent-%COMP%]{background:var(--card-bg, white);padding:40px;border-radius:20px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:500px;max-height:90vh;overflow-y:auto}h1[_ngcontent-%COMP%]{text-align:center;color:var(--text-color, #333);margin-bottom:10px}.subtitle[_ngcontent-%COMP%]{text-align:center;color:#666;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:var(--text-color, #333);font-weight:600}input[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;transition:border-color .3s;box-sizing:border-box;background:var(--input-bg, white);color:var(--text-color, #333)}input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color, #667eea)}.theme-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}.theme-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px;border:2px solid #e0e0e0;border-radius:10px;cursor:pointer;transition:all .3s;background:var(--card-bg, white)}.theme-option[_ngcontent-%COMP%]:hover{border-color:var(--primary-color, #667eea);transform:scale(1.02)}.theme-option.selected[_ngcontent-%COMP%]{border-color:var(--primary-color, #667eea);background:var(--background-color, #f5f7fa);box-shadow:0 4px 12px #0000001a}.theme-color[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:2px solid white;box-shadow:0 2px 8px #0003}.theme-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-color, #333)}.btn-register[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,var(--primary-color, #667eea) 0%,var(--secondary-color, #764ba2) 100%);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s;margin-top:10px}.btn-register[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.error[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px;font-size:.9em}.login-link[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:var(--text-color, #666)}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color, #667eea);text-decoration:none;font-weight:600}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 768px){.theme-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Xa=class n{availableModules=[{id:"habit",name:"Habit Tracker",icon:"\u2705",description:"Track your daily habits",enabled:!1,color:"#FF6B6B"},{id:"sleep",name:"Sleep Tracker",icon:"\u{1F634}",description:"Monitor your sleep patterns",enabled:!1,color:"#4ECDC4"},{id:"study",name:"Study Planner",icon:"\u{1F4DA}",description:"Plan your study sessions",enabled:!1,color:"#45B7D1"},{id:"fitness",name:"Yoga/Fitness",icon:"\u{1F9D8}",description:"Track workouts and yoga",enabled:!1,color:"#96CEB4"},{id:"task",name:"Task Planner",icon:"\u{1F4CB}",description:"Manage tasks and projects",enabled:!1,color:"#FFEAA7"},{id:"meal",name:"Meal Planner",icon:"\u{1F37D}\uFE0F",description:"Plan your meals",enabled:!1,color:"#DFE6E9"},{id:"mood",name:"Mood Tracker",icon:"\u{1F60A}",description:"Track your daily mood",enabled:!1,color:"#FD79A8"},{id:"calendar",name:"Calendar",icon:"\u{1F4C5}",description:"View your calendar",enabled:!1,color:"#A29BFE"},{id:"finance",name:"Finance Tracker",icon:"\u{1F4B0}",description:"Track expenses",enabled:!1,color:"#00B894"},{id:"gratitude",name:"Gratitude Journal",icon:"\u{1F64F}",description:"Daily gratitude practice",enabled:!1,color:"#FDCB6E"},{id:"reflection",name:"Daily Reflection",icon:"\u{1F4AD}",description:"Reflect on your day",enabled:!1,color:"#6C5CE7"},{id:"water",name:"Water Intake",icon:"\u{1F4A7}",description:"Track water consumption",enabled:!1,color:"#74B9FF"},{id:"reading",name:"Reading Tracker",icon:"\u{1F4D6}",description:"Track books and pages",enabled:!1,color:"#E17055"}];constructor(){}getAllModules(){return[...this.availableModules]}getModuleById(e){return this.availableModules.find(t=>t.id===e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function H5(n,e){n&1&&(m(0,"span"),b(1,"\u2713"),g())}function W5(n,e){if(n&1){let t=te();m(0,"div",9),U("click",function(){let i=N(t).$implicit,o=L();return F(o.toggleModule(i.id))}),m(1,"div",10),b(2),g(),m(3,"h3"),b(4),g(),m(5,"p"),b(6),g(),m(7,"div",11),fe(8,H5,2,0,"span",12),g()()}if(n&2){let t=e.$implicit,r=L();Xe("border-color",r.isSelected(t.id)?t.color:"#e0e0e0"),Ne("selected",r.isSelected(t.id)),x(),Xe("background",t.color),x(),Ve(" ",t.icon," "),x(2),Fe(t.name),x(2),Fe(t.description),x(2),$("ngIf",r.isSelected(t.id))}}function G5(n,e){if(n&1&&(m(0,"a",13)(1,"div",10),b(2),g(),m(3,"h3"),b(4),g(),m(5,"p"),b(6),g(),m(7,"div",14),b(8,"\u2192"),g()()),n&2){let t=e.$implicit;Xe("border-color","#e0e0e0"),$("routerLink",t.route),x(),Xe("background",t.color),x(),Ve(" ",t.icon," "),x(2),Fe(t.name),x(2),Fe(t.description)}}var $p=class n{constructor(e,t,r){this.moduleService=e;this.authService=t;this.router=r}modules=[];selectedModules=new Set;funZoneModules=[{id:"bingo",name:"Bingo",description:"Zabavna bingo igra za studente",icon:"\u{1F3B2}",color:"#FF6B9D",route:"/modules/bingo"},{id:"quiz",name:"Kviz",description:"Testiraj svoje znanje",icon:"\u2753",color:"#4ECFAA",route:"/modules/quiz"},{id:"kanban",name:"Kanban Board",description:"Organizuj zadatke",icon:"\u{1F4CB}",color:"#95E1D3",route:"/modules/kanban-board"},{id:"whiteboard",name:"Whiteboard",description:"Digitalna plo\u010Da za crtanje",icon:"\u270F\uFE0F",color:"#A8E6CF",route:"/modules/whiteboard"},{id:"vision-board",name:"Vision Board",description:"Kreiraj svoju inspirativnu plo\u010Du",icon:"\u{1F4CC}",color:"#FFD3B6",route:"/modules/vision-board"}];ngOnInit(){this.modules=this.moduleService.getAllModules();let e=this.getSavedModulesFromLocalStorage();this.selectedModules=new Set(e)}toggleModule(e){this.selectedModules.has(e)?this.selectedModules.delete(e):this.selectedModules.add(e)}isSelected(e){return this.selectedModules.has(e)}saveAndContinue(){this.saveModulesToLocalStorage(Array.from(this.selectedModules)),this.router.navigate(["/dashboard"])}getSavedModulesFromLocalStorage(){let e=localStorage.getItem("currentUser");if(!e)return[];let t=`${e}_modules`,r=localStorage.getItem(t);return r?JSON.parse(r):[]}saveModulesToLocalStorage(e){let t=localStorage.getItem("currentUser");if(!t)return;let r=`${t}_modules`;localStorage.setItem(r,JSON.stringify(e)),console.log("\u2705 Saved modules:",e,"to key:",r)}static \u0275fac=function(t){return new(t||n)(W(Xa),W(Mr),W(ht))};static \u0275cmp=Ge({type:n,selectors:[["app-module-selector"]],decls:21,vars:4,consts:[[1,"selector-container"],[1,"header"],[1,"modules-grid"],["class","module-card",3,"selected","border-color","click",4,"ngFor","ngForOf"],[1,"footer"],[1,"btn-continue",3,"click","disabled"],[1,"separator"],[1,"modules-grid","fun-zone-grid"],["class","module-card fun-module",3,"routerLink","border-color",4,"ngFor","ngForOf"],[1,"module-card",3,"click"],[1,"module-icon"],[1,"checkbox"],[4,"ngIf"],[1,"module-card","fun-module",3,"routerLink"],[1,"open-icon"]],template:function(t,r){t&1&&(m(0,"div",0)(1,"div",1)(2,"h1"),b(3,"\u{1F3AF} Choose Your Trackers"),g(),m(4,"p"),b(5,"Select the modules you want on your dashboard"),g()(),m(6,"div",2),fe(7,W5,9,10,"div",3),g(),m(8,"div",4)(9,"p"),b(10),g(),m(11,"button",5),U("click",function(){return r.saveAndContinue()}),b(12," Continue to Dashboard \u2192 "),g()(),Ie(13,"div",6),m(14,"div",1)(15,"h1"),b(16,"\u{1F3AE} Student Fun Zone"),g(),m(17,"p"),b(18,"Quick access to interactive modules"),g()(),m(19,"div",7),fe(20,G5,9,8,"a",8),g()()),t&2&&(x(7),$("ngForOf",r.modules),x(3),Ve("Selected: ",r.selectedModules.size," modules"),x(),$("disabled",r.selectedModules.size===0),x(9),$("ngForOf",r.funZoneModules))},dependencies:[et,Bt,at,Ot,wt],styles:[".selector-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--background-color);padding:40px 20px}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;color:var(--text-color);margin-bottom:10px}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;font-size:1.2em}.modules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;max-width:1200px;margin:0 auto 40px}.module-card[_ngcontent-%COMP%]{background:var(--card-bg);border:3px solid #e0e0e0;border-radius:15px;padding:25px;cursor:pointer;transition:all .3s;position:relative;text-align:center}.module-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #0000001a}.module-card.selected[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0003;transform:translateY(-5px)}.module-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:2em;margin:0 auto 15px}.module-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:10px}.module-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;font-size:.9em}.checkbox[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;width:25px;height:25px;border:2px solid #e0e0e0;border-radius:50%;display:flex;align-items:center;justify-content:center;background:var(--card-bg);transition:all .3s ease}.module-card.selected[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background:#27ae60;border-color:#27ae60;color:#fff;font-weight:700}.footer[_ngcontent-%COMP%]{text-align:center;max-width:500px;margin:0 auto}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);font-size:1.1em;margin-bottom:20px;font-weight:600}.btn-continue[_ngcontent-%COMP%]{padding:15px 40px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;border:none;border-radius:10px;font-size:1.1em;font-weight:600;cursor:pointer;transition:transform .2s}.btn-continue[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.05)}.btn-continue[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.separator[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:2px;background:linear-gradient(to right,transparent,#e0e0e0 20%,#e0e0e0 80%,transparent);margin:60px auto 40px}.fun-zone-grid[_ngcontent-%COMP%]{gap:20px}.fun-module[_ngcontent-%COMP%]{background:var(--card-bg);border:3px solid #e0e0e0;border-radius:15px;padding:25px;cursor:pointer;transition:all .3s ease;position:relative;text-align:center;text-decoration:none;color:inherit;display:block}.fun-module[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 35px #00000026;border-color:currentColor}.open-icon[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;font-size:28px;font-weight:700;opacity:0;transition:opacity .3s ease,transform .3s ease;color:var(--text-color)}.fun-module[_ngcontent-%COMP%]:hover   .open-icon[_ngcontent-%COMP%]{opacity:.7;transform:translate(5px)}@media (max-width: 768px){.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em}.modules-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}.module-card[_ngcontent-%COMP%]{padding:20px}.module-icon[_ngcontent-%COMP%]{width:50px;height:50px;font-size:1.5em}.separator[_ngcontent-%COMP%]{margin:40px auto 30px}}@media (max-width: 480px){.selector-container[_ngcontent-%COMP%]{padding:20px 10px}.modules-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8em}.btn-continue[_ngcontent-%COMP%]{width:100%;padding:12px 20px}}"]})};var qp=class n{constructor(){}setItem(e,t){localStorage.setItem(e,JSON.stringify(t))}getItem(e){let t=localStorage.getItem(e);return t?JSON.parse(t):null}removeItem(e){localStorage.removeItem(e)}clear(){localStorage.clear()}getCurrentUser(){return localStorage.getItem("currentUser")}setCurrentUser(e){localStorage.setItem("currentUser",e)}getUserModules(e){return this.getItem(`${e}_modules`)||[]}setUserModules(e,t){this.setItem(`${e}_modules`,t)}getTrackerEntries(e,t){return this.getItem(`${e}_${t}_entries`)||[]}addTrackerEntry(e,t,r){let i=this.getTrackerEntries(e,t);i.push(r),this.setItem(`${e}_${t}_entries`,i)}updateTrackerEntry(e,t,r,i){let o=this.getTrackerEntries(e,t);o=o.map(s=>s.id===r?i:s),this.setItem(`${e}_${t}_entries`,o)}deleteTrackerEntry(e,t,r){let i=this.getTrackerEntries(e,t);i=i.filter(o=>o.id!==r),this.setItem(`${e}_${t}_entries`,i)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function Q5(n,e){if(n&1){let t=te();m(0,"button",14),U("click",function(){N(t);let i=L();return F(i.toggleForm())}),b(1," \u2795 Add New Entry "),g()}}function Y5(n,e){if(n&1&&(m(0,"option",25),b(1),g()),n&2){let t=e.$implicit;$("value",t),x(),Fe(t)}}function Z5(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"How are you feeling?"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),m(4,"option",23),b(5,"Select mood..."),g(),fe(6,Y5,2,2,"option",24),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value),x(3),$("ngForOf",t.moodOptions)}}function J5(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Habit Name"),g(),m(3,"input",26),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.habitName,i)||(o.newEntry.habitName=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.habitName)}}function X5(n,e){if(n&1&&(m(0,"option",25),b(1),g()),n&2){let t=e.$implicit;$("value",t),x(),Fe(t)}}function eq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Status"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),m(4,"option",23),b(5,"Select status..."),g(),fe(6,X5,2,2,"option",24),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value),x(3),$("ngForOf",t.habitStatus)}}function tq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Glasses of Water (250ml each)"),g(),m(3,"input",27),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function nq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Hours of Sleep"),g(),m(3,"input",28),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function rq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Sleep Quality"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.quality,i)||(o.newEntry.quality=i),F(i)}),m(4,"option",23),b(5,"Select quality..."),g(),m(6,"option",29),b(7,"\u{1F62B} Poor"),g(),m(8,"option",30),b(9,"\u{1F610} Fair"),g(),m(10,"option",31),b(11,"\u{1F60A} Good"),g(),m(12,"option",32),b(13,"\u{1F634} Excellent"),g()()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.quality)}}function iq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Subject"),g(),m(3,"input",33),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.subject,i)||(o.newEntry.subject=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.subject)}}function oq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Duration (minutes)"),g(),m(3,"input",34),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function sq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Topics Covered"),g(),m(3,"input",35),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.topics,i)||(o.newEntry.topics=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.topics)}}function aq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Exercise Type"),g(),m(3,"input",36),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.exerciseType,i)||(o.newEntry.exerciseType=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.exerciseType)}}function cq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Duration (minutes)"),g(),m(3,"input",37),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function lq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Intensity"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.intensity,i)||(o.newEntry.intensity=i),F(i)}),m(4,"option",23),b(5,"Select intensity..."),g(),m(6,"option",38),b(7,"\u{1F49A} Light"),g(),m(8,"option",39),b(9,"\u{1F49B} Moderate"),g(),m(10,"option",40),b(11,"\u{1F9E1} High"),g(),m(12,"option",41),b(13,"\u2764\uFE0F Intense"),g()()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.intensity)}}function uq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Task Name"),g(),m(3,"input",42),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function dq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Priority"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.priority,i)||(o.newEntry.priority=i),F(i)}),m(4,"option",23),b(5,"Select priority..."),g(),m(6,"option",43),b(7,"\u{1F7E2} Low"),g(),m(8,"option",44),b(9,"\u{1F7E1} Medium"),g(),m(10,"option",45),b(11,"\u{1F534} High"),g(),m(12,"option",46),b(13,"\u{1F6A8} Urgent"),g()()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.priority)}}function hq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Status"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.status,i)||(o.newEntry.status=i),F(i)}),m(4,"option",23),b(5,"Select status..."),g(),m(6,"option",47),b(7,"\u{1F4DD} To Do"),g(),m(8,"option",48),b(9,"\u{1F504} In Progress"),g(),m(10,"option",49),b(11,"\u2705 Done"),g()()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.status)}}function fq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Meal Type"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.mealType,i)||(o.newEntry.mealType=i),F(i)}),m(4,"option",23),b(5,"Select meal type..."),g(),m(6,"option",50),b(7,"\u{1F305} Breakfast"),g(),m(8,"option",51),b(9,"\u2600\uFE0F Lunch"),g(),m(10,"option",52),b(11,"\u{1F319} Dinner"),g(),m(12,"option",53),b(13,"\u{1F34E} Snack"),g()()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.mealType)}}function pq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"What did you eat?"),g(),m(3,"input",54),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function gq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Calories (optional)"),g(),m(3,"input",55),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.calories,i)||(o.newEntry.calories=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.calories)}}function mq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Type"),g(),m(3,"select",22),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.type,i)||(o.newEntry.type=i),F(i)}),m(4,"option",23),b(5,"Select type..."),g(),m(6,"option",56),b(7,"\u{1F4B8} Expense"),g(),m(8,"option",57),b(9,"\u{1F4B0} Income"),g()()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.type)}}function _q(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Amount (\u20AC)"),g(),m(3,"input",58),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function yq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Category"),g(),m(3,"input",59),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.category,i)||(o.newEntry.category=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.category)}}function vq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Event Name"),g(),m(3,"input",60),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function bq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Event Date & Time"),g(),m(3,"input",61),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.eventDate,i)||(o.newEntry.eventDate=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.eventDate)}}function wq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"What are you grateful for today?"),g(),m(3,"textarea",62),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function Cq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"How was your day?"),g(),m(3,"textarea",63),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function Eq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Book Title"),g(),m(3,"input",64),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.bookTitle,i)||(o.newEntry.bookTitle=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.bookTitle)}}function Iq(n,e){if(n&1){let t=te();m(0,"div",17)(1,"label"),b(2,"Pages Read"),g(),m(3,"input",65),Z("ngModelChange",function(i){N(t);let o=L(2);return X(o.newEntry.value,i)||(o.newEntry.value=i),F(i)}),g()()}if(n&2){let t=L(2);x(3),Y("ngModel",t.newEntry.value)}}function xq(n,e){if(n&1){let t=te();m(0,"div",15)(1,"h3"),b(2),g(),fe(3,Z5,7,2,"div",16)(4,J5,4,1,"div",16)(5,eq,7,2,"div",16)(6,tq,4,1,"div",16)(7,nq,4,1,"div",16)(8,rq,14,1,"div",16)(9,iq,4,1,"div",16)(10,oq,4,1,"div",16)(11,sq,4,1,"div",16)(12,aq,4,1,"div",16)(13,cq,4,1,"div",16)(14,lq,14,1,"div",16)(15,uq,4,1,"div",16)(16,dq,14,1,"div",16)(17,hq,12,1,"div",16)(18,fq,14,1,"div",16)(19,pq,4,1,"div",16)(20,gq,4,1,"div",16)(21,mq,10,1,"div",16)(22,_q,4,1,"div",16)(23,yq,4,1,"div",16)(24,vq,4,1,"div",16)(25,bq,4,1,"div",16)(26,wq,4,1,"div",16)(27,Cq,4,1,"div",16)(28,Eq,4,1,"div",16)(29,Iq,4,1,"div",16),m(30,"div",17)(31,"label"),b(32,"Notes (optional)"),g(),m(33,"textarea",18),Z("ngModelChange",function(i){N(t);let o=L();return X(o.newEntry.notes,i)||(o.newEntry.notes=i),F(i)}),g()(),m(34,"div",19)(35,"button",20),U("click",function(){N(t);let i=L();return F(i.toggleForm())}),b(36,"Cancel"),g(),m(37,"button",21),U("click",function(){N(t);let i=L();return F(i.addEntry())}),b(38),g()()()}if(n&2){let t=L();x(2),Fe(t.editingEntry?"\u270F\uFE0F Edit Entry":"\u2795 New Entry"),x(),$("ngIf",t.module.id==="mood"),x(),$("ngIf",t.module.id==="habit"),x(),$("ngIf",t.module.id==="habit"),x(),$("ngIf",t.module.id==="water"),x(),$("ngIf",t.module.id==="sleep"),x(),$("ngIf",t.module.id==="sleep"),x(),$("ngIf",t.module.id==="study"),x(),$("ngIf",t.module.id==="study"),x(),$("ngIf",t.module.id==="study"),x(),$("ngIf",t.module.id==="fitness"),x(),$("ngIf",t.module.id==="fitness"),x(),$("ngIf",t.module.id==="fitness"),x(),$("ngIf",t.module.id==="task"),x(),$("ngIf",t.module.id==="task"),x(),$("ngIf",t.module.id==="task"),x(),$("ngIf",t.module.id==="meal"),x(),$("ngIf",t.module.id==="meal"),x(),$("ngIf",t.module.id==="meal"),x(),$("ngIf",t.module.id==="finance"),x(),$("ngIf",t.module.id==="finance"),x(),$("ngIf",t.module.id==="finance"),x(),$("ngIf",t.module.id==="calendar"),x(),$("ngIf",t.module.id==="calendar"),x(),$("ngIf",t.module.id==="gratitude"),x(),$("ngIf",t.module.id==="reflection"),x(),$("ngIf",t.module.id==="reading"),x(),$("ngIf",t.module.id==="reading"),x(4),Y("ngModel",t.newEntry.notes),x(5),Ve(" ",t.editingEntry?"Update":"Save"," ")}}function Dq(n,e){n&1&&(m(0,"h3"),b(1,"\u{1F4CA} Your Entries"),g())}function Tq(n,e){n&1&&(m(0,"p",66),b(1," No entries yet. Start tracking by adding your first entry! \u{1F680} "),g())}function Mq(n,e){if(n&1&&(m(0,"div",76)(1,"strong"),b(2,"Notes:"),g(),b(3),g()),n&2){let t=L().$implicit;x(3),Ve(" ",t.notes," ")}}function Sq(n,e){if(n&1){let t=te();m(0,"div",67)(1,"div",68)(2,"span",69),b(3),Xs(4,"date"),g(),m(5,"div",70)(6,"button",71),U("click",function(){let i=N(t).$implicit,o=L();return F(o.editEntry(i))}),b(7,"\u270F\uFE0F"),g(),m(8,"button",72),U("click",function(){let i=N(t).$implicit,o=L();return F(o.deleteEntry(i.id))}),b(9,"\u{1F5D1}\uFE0F"),g()()(),m(10,"div",73),Ie(11,"div",74),fe(12,Mq,4,1,"div",75),g()()}if(n&2){let t=e.$implicit,r=L();x(3),Fe(uh(4,3,t.date,"medium")),x(8),$("innerHTML",r.formatEntryValue(t),rh),x(),$("ngIf",t.notes)}}function Pq(n,e){if(n&1&&(m(0,"div",77)(1,"h3"),b(2,"\u{1F4C8} Quick Stats"),g(),m(3,"div",78)(4,"div",79)(5,"div",80),b(6),g(),m(7,"div",81),b(8,"Total Entries"),g()(),m(9,"div",79)(10,"div",80),b(11),g(),m(12,"div",81),b(13,"Day Streak \u{1F525}"),g()()()()),n&2){let t=L();x(6),Fe(t.entries.length),x(5),Fe(t.getStreakDays())}}var Hp=class n{constructor(e){this.storageService=e}module;username;close=new ot;entries=[];newEntry={value:"",notes:"",habitName:"",quality:"",subject:"",topics:"",exerciseType:"",intensity:"",priority:"",status:"",mealType:"",calories:"",type:"",category:"",eventDate:"",bookTitle:""};showForm=!1;editingEntry=null;moodOptions=["\u{1F622} Sad","\u{1F610} Neutral","\u{1F60A} Happy","\u{1F604} Great","\u{1F929} Amazing"];habitStatus=["\u2705 Done","\u274C Not Done","\u23ED\uFE0F Skipped"];ngOnInit(){this.loadEntries()}loadEntries(){this.entries=this.storageService.getTrackerEntries(this.username,this.module.id),this.entries.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}onClose(){this.close.emit()}toggleForm(){this.showForm=!this.showForm,this.showForm||this.resetForm()}resetForm(){this.newEntry={value:"",notes:"",habitName:"",quality:"",subject:"",topics:"",exerciseType:"",intensity:"",priority:"",status:"",mealType:"",calories:"",type:"",category:"",eventDate:"",bookTitle:""},this.editingEntry=null}addEntry(){if(!this.validateEntry()){alert("Please fill in all required fields!");return}let e={id:this.editingEntry?this.editingEntry.id:Date.now().toString(),moduleId:this.module.id,date:new Date,value:this.newEntry,notes:this.newEntry.notes};this.editingEntry?this.storageService.updateTrackerEntry(this.username,this.module.id,e.id,e):this.storageService.addTrackerEntry(this.username,this.module.id,e),this.loadEntries(),this.toggleForm()}validateEntry(){switch(this.module.id){case"habit":return!!this.newEntry.habitName&&!!this.newEntry.value;case"water":case"sleep":case"finance":return!!this.newEntry.value;case"study":return!!this.newEntry.subject&&!!this.newEntry.value;case"fitness":return!!this.newEntry.exerciseType&&!!this.newEntry.value;case"task":return!!this.newEntry.value;case"meal":return!!this.newEntry.mealType&&!!this.newEntry.value;case"mood":return!!this.newEntry.value;case"calendar":return!!this.newEntry.value;case"gratitude":case"reflection":return!!this.newEntry.value;case"reading":return!!this.newEntry.bookTitle&&!!this.newEntry.value;default:return!!this.newEntry.value}}editEntry(e){this.editingEntry=e,this.newEntry=le(z({},e.value),{notes:e.notes||""}),this.showForm=!0}deleteEntry(e){confirm("Are you sure you want to delete this entry?")&&(this.storageService.deleteTrackerEntry(this.username,this.module.id,e),this.loadEntries())}formatEntryValue(e){let t=e.value;switch(this.module.id){case"habit":return`<strong>${t.habitName}</strong> - ${t.value}`;case"water":return`\u{1F4A7} <strong>${t.value} glasses</strong> (${t.value*250}ml)`;case"sleep":let r=t.quality?` - ${t.quality}`:"";return`\u{1F634} <strong>${t.value} hours</strong>${r}`;case"study":let i=t.topics?`<br><small>Topics: ${t.topics}</small>`:"";return`\u{1F4DA} <strong>${t.subject}</strong> - ${t.value} minutes${i}`;case"fitness":let o=t.intensity?` - ${t.intensity}`:"";return`\u{1F9D8} <strong>${t.exerciseType}</strong> - ${t.value} minutes${o}`;case"task":let s=t.priority?` ${t.priority}`:"",a=t.status?` - ${t.status}`:"";return`${s} <strong>${t.value}</strong>${a}`;case"meal":let l=t.calories?` (${t.calories} kcal)`:"";return`${t.mealType}<br><strong>${t.value}</strong>${l}`;case"finance":let u=t.type||"\u{1F4B0}",h=t.category?` - ${t.category}`:"";return`${u} <strong>${t.value} \u20AC</strong>${h}`;case"calendar":let p=t.eventDate?`<br><small>${new Date(t.eventDate).toLocaleString()}</small>`:"";return`\u{1F4C5} <strong>${t.value}</strong>${p}`;case"reading":return`\u{1F4D6} <strong>${t.bookTitle}</strong><br>${t.value} pages`;case"mood":return`${t.value}`;case"gratitude":case"reflection":return`${t.value}`;default:return t.value||t}}getStreakDays(){if(this.entries.length===0)return 0;let e=1,t=this.entries.map(i=>new Date(i.date).toDateString()),r=[...new Set(t)].sort((i,o)=>new Date(o).getTime()-new Date(i).getTime());for(let i=0;i<r.length-1;i++){let o=new Date(r[i]),s=new Date(r[i+1]);if(Math.floor((o.getTime()-s.getTime())/(1e3*60*60*24))===1)e++;else break}return e}static \u0275fac=function(t){return new(t||n)(W(qp))};static \u0275cmp=Ge({type:n,selectors:[["app-generic-tracker"]],inputs:{module:"module",username:"username"},outputs:{close:"close"},decls:18,vars:12,consts:[[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"header-left"],[1,"module-icon"],[1,"btn-close",3,"click"],[1,"modal-body"],["class","btn-add",3,"click",4,"ngIf"],["class","entry-form",4,"ngIf"],[1,"entries-list"],[4,"ngIf"],["class","no-entries",4,"ngIf"],["class","entry-card",4,"ngFor","ngForOf"],["class","stats-section",4,"ngIf"],[1,"btn-add",3,"click"],[1,"entry-form"],["class","form-group",4,"ngIf"],[1,"form-group"],["placeholder","Add additional notes...","rows","3",3,"ngModelChange","ngModel"],[1,"form-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"],[3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","placeholder","e.g., Morning run, Read book...",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 8","min","0",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 7.5","step","0.5","min","0","max","24",3,"ngModelChange","ngModel"],["value","\u{1F62B} Poor"],["value","\u{1F610} Fair"],["value","\u{1F60A} Good"],["value","\u{1F634} Excellent"],["type","text","placeholder","e.g., Mathematics, Angular...",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 60","min","0",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Components, Services...",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Yoga, Running, Gym...",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 30","min","0",3,"ngModelChange","ngModel"],["value","\u{1F49A} Light"],["value","\u{1F49B} Moderate"],["value","\u{1F9E1} High"],["value","\u2764\uFE0F Intense"],["type","text","placeholder","e.g., Complete assignment, Fix bug...",3,"ngModelChange","ngModel"],["value","\u{1F7E2} Low"],["value","\u{1F7E1} Medium"],["value","\u{1F534} High"],["value","\u{1F6A8} Urgent"],["value","\u{1F4DD} To Do"],["value","\u{1F504} In Progress"],["value","\u2705 Done"],["value","\u{1F305} Breakfast"],["value","\u2600\uFE0F Lunch"],["value","\u{1F319} Dinner"],["value","\u{1F34E} Snack"],["type","text","placeholder","e.g., Pasta with vegetables...",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 500","min","0",3,"ngModelChange","ngModel"],["value","\u{1F4B8} Expense"],["value","\u{1F4B0} Income"],["type","number","placeholder","e.g., 50","step","0.01","min","0",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Food, Transport, Salary...",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Meeting, Birthday party...",3,"ngModelChange","ngModel"],["type","datetime-local",3,"ngModelChange","ngModel"],["placeholder","Write what you're thankful for...","rows","5",3,"ngModelChange","ngModel"],["placeholder","Reflect on your day...","rows","5",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., The Lord of the Rings",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 25","min","0",3,"ngModelChange","ngModel"],[1,"no-entries"],[1,"entry-card"],[1,"entry-header"],[1,"entry-date"],[1,"entry-actions"],[1,"btn-edit",3,"click"],[1,"btn-delete",3,"click"],[1,"entry-content"],[1,"entry-value",3,"innerHTML"],["class","entry-notes",4,"ngIf"],[1,"entry-notes"],[1,"stats-section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"]],template:function(t,r){t&1&&(m(0,"div",0),U("click",function(){return r.onClose()}),m(1,"div",1),U("click",function(o){return o.stopPropagation()}),m(2,"div",2)(3,"div",3)(4,"span",4),b(5),g(),m(6,"h2"),b(7),g()(),m(8,"button",5),U("click",function(){return r.onClose()}),b(9,"\u2715"),g()(),m(10,"div",6),fe(11,Q5,2,0,"button",7)(12,xq,39,30,"div",8),m(13,"div",9),fe(14,Dq,2,0,"h3",10)(15,Tq,2,0,"p",11)(16,Sq,13,6,"div",12),g(),fe(17,Pq,14,2,"div",13),g()()()),t&2&&(x(),Xe("border-top-color",r.module.color),x(),Xe("background",r.module.color),x(3),Fe(r.module.icon),x(2),Fe(r.module.name),x(4),$("ngIf",!r.showForm),x(),$("ngIf",r.showForm),x(2),$("ngIf",r.entries.length>0),x(),$("ngIf",r.entries.length===0),x(),$("ngForOf",r.entries),x(),$("ngIf",r.entries.length>0))},dependencies:[et,Bt,at,Jc,hn,pf,gf,Ut,vv,ya,dn,Iv,Ev,Yt],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;padding:20px;animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:20px;width:100%;max-width:800px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;border-top:5px solid var(--primary-color);animation:_ngcontent-%COMP%_slideUp .3s;box-shadow:0 20px 60px #0000004d}@keyframes _ngcontent-%COMP%_slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.modal-header[_ngcontent-%COMP%]{padding:25px 30px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;display:flex;justify-content:space-between;align-items:center}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.module-icon[_ngcontent-%COMP%]{font-size:2.5em}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.8em}.btn-close[_ngcontent-%COMP%]{background:#fff3;border:none;color:#fff;font-size:1.5em;width:40px;height:40px;border-radius:50%;cursor:pointer;transition:all .3s}.btn-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:rotate(90deg)}.modal-body[_ngcontent-%COMP%]{padding:30px;overflow-y:auto;flex:1;background:var(--background-color)}.btn-add[_ngcontent-%COMP%]{width:100%;padding:15px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;border:none;border-radius:10px;font-size:1.1em;font-weight:600;cursor:pointer;margin-bottom:25px;transition:transform .2s}.btn-add[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.entry-form[_ngcontent-%COMP%]{background:var(--card-bg);padding:25px;border-radius:15px;margin-bottom:30px;box-shadow:0 2px 10px #0000000d}.entry-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:var(--text-color);margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:var(--text-color);font-weight:600}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:1em;font-family:inherit;transition:border-color .3s;box-sizing:border-box;background:var(--input-bg);color:var(--text-color)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.form-actions[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:20px}.btn-cancel[_ngcontent-%COMP%]{flex:1;padding:12px;background:#95a5a6;color:#fff;border:none;border-radius:8px;font-size:1em;font-weight:600;cursor:pointer;transition:background .3s}.btn-cancel[_ngcontent-%COMP%]:hover{background:#7f8c8d}.btn-save[_ngcontent-%COMP%]{flex:1;padding:12px;background:#27ae60;color:#fff;border:none;border-radius:8px;font-size:1em;font-weight:600;cursor:pointer;transition:background .3s}.btn-save[_ngcontent-%COMP%]:hover{background:#229954}.entries-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:20px}.no-entries[_ngcontent-%COMP%]{text-align:center;color:var(--text-color);opacity:.7;padding:40px 20px;font-size:1.1em}.entry-card[_ngcontent-%COMP%]{background:var(--card-bg);border:2px solid #e0e0e0;border-radius:12px;padding:20px;margin-bottom:15px;transition:all .3s}.entry-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);box-shadow:0 5px 15px #0000001a}.entry-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;padding-bottom:10px;border-bottom:1px solid #e0e0e0}.entry-date[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;font-size:.9em}.entry-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-edit[_ngcontent-%COMP%], .btn-delete[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2em;cursor:pointer;padding:5px 10px;border-radius:5px;transition:all .3s}.btn-edit[_ngcontent-%COMP%]:hover{background:var(--primary-color)}.btn-delete[_ngcontent-%COMP%]:hover{background:#e74c3c}.entry-content[_ngcontent-%COMP%]{color:var(--text-color)}.entry-value[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;margin-bottom:10px}.entry-notes[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;font-size:.95em;padding-top:10px;border-top:1px dashed #e0e0e0}.stats-section[_ngcontent-%COMP%]{margin-top:30px;padding:25px;background:var(--card-bg);border-radius:15px;box-shadow:0 2px 10px #0000000d}.stats-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:var(--text-color);margin-bottom:20px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:15px}.stat-card[_ngcontent-%COMP%]{background:var(--background-color);padding:20px;border-radius:10px;text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:2em;font-weight:700;color:var(--primary-color);margin-bottom:5px}.stat-label[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;font-size:.9em}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{max-width:100%;max-height:100vh;border-radius:0}.form-actions[_ngcontent-%COMP%]{flex-direction:column}}"]})};function Oq(n,e){if(n&1){let t=te();m(0,"div",16),U("click",function(){let i=N(t).$implicit,o=L(2);return F(o.changeTheme(i.id))}),Ie(1,"div",17),m(2,"span"),b(3),g()()}if(n&2){let t=e.$implicit,r=L(2);Ne("active",r.currentTheme===t.id),x(),Xe("background",t.primary),x(2),Fe(t.name)}}function Aq(n,e){if(n&1&&(m(0,"div",13)(1,"h3"),b(2,"\u{1F3A8} Choose Theme"),g(),m(3,"div",14),fe(4,Oq,4,5,"div",15),g()()),n&2){let t=L();x(4),$("ngForOf",t.themes)}}function kq(n,e){if(n&1){let t=te();m(0,"div",20),U("click",function(){let i=N(t).$implicit,o=L(2);return F(o.openModule(i))}),m(1,"div",21),b(2),g(),m(3,"div",22)(4,"h3"),b(5),g(),m(6,"p"),b(7),g()(),m(8,"div",23),b(9,"\u2192"),g()()}if(n&2){let t=e.$implicit;Xe("border-top-color",t.color),x(),Xe("background",t.color),x(),Ve(" ",t.icon," "),x(3),Fe(t.name),x(2),Fe(t.description)}}function Rq(n,e){if(n&1&&(m(0,"div",18),fe(1,kq,10,7,"div",19),g()),n&2){let t=L();x(),$("ngForOf",t.enabledModules)}}function Nq(n,e){if(n&1){let t=te();m(0,"div",24)(1,"h2"),b(2,"\u{1F4ED} No modules selected"),g(),m(3,"p"),b(4,"Click the button below to add some trackers to your dashboard"),g(),m(5,"button",25),U("click",function(){N(t);let i=L();return F(i.editModules())}),b(6,"Add Modules"),g()()}}function Fq(n,e){if(n&1){let t=te();m(0,"app-generic-tracker",26),U("close",function(){N(t);let i=L();return F(i.closeModule())}),g()}if(n&2){let t=L();$("module",t.selectedModule)("username",t.username)}}var Wp=class n{constructor(e,t,r,i){this.authService=e;this.moduleService=t;this.themeService=r;this.router=i}username="";enabledModules=[];selectedModule=null;currentDate=new Date;showThemeSelector=!1;themes=[];currentTheme="";ngOnInit(){return w(this,null,function*(){let e=this.authService.getCurrentUser();if(!e){this.router.navigate(["/login"]);return}this.username=e,yield this.loadUserData(),this.themes=this.themeService.getThemes(),this.currentTheme=this.themeService.getCurrentTheme()})}loadUserData(){return w(this,null,function*(){let e=yield this.authService.getUserData();e&&e.theme&&(this.themeService.setTheme(e.theme),this.currentTheme=e.theme);let t=this.getSelectedModulesFromLocalStorage();this.enabledModules=t.map(r=>this.moduleService.getModuleById(r)).filter(r=>r!==void 0)})}getSelectedModulesFromLocalStorage(){let e=localStorage.getItem("currentUser");if(!e)return[];let t=`${e}_modules`,r=localStorage.getItem(t);return console.log("\u{1F50D} Current user:",e),console.log("\u{1F511} Looking for key:",t),console.log("\u{1F4E6} Found data:",r),r?JSON.parse(r):[]}openModule(e){this.selectedModule=e}closeModule(){this.selectedModule=null}editModules(){this.router.navigate(["/module-selector"])}toggleThemeSelector(){this.showThemeSelector=!this.showThemeSelector}changeTheme(e){return w(this,null,function*(){this.themeService.setTheme(e),yield this.authService.updateUserTheme(e),this.currentTheme=e})}logout(){return w(this,null,function*(){yield this.authService.logout()})}static \u0275fac=function(t){return new(t||n)(W(Mr),W(Xa),W(Sr),W(ht))};static \u0275cmp=Ge({type:n,selectors:[["app-dashboard"]],decls:21,vars:9,consts:[["noModules",""],[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"date"],[1,"header-actions"],[1,"btn-theme",3,"click"],[1,"btn-secondary",3,"click"],[1,"btn-logout",3,"click"],["class","theme-dropdown",4,"ngIf"],[1,"modules-container"],["class","modules-grid",4,"ngIf","ngIfElse"],[3,"module","username","close",4,"ngIf"],[1,"theme-dropdown"],[1,"theme-options"],["class","theme-option",3,"active","click",4,"ngFor","ngForOf"],[1,"theme-option",3,"click"],[1,"theme-color"],[1,"modules-grid"],["class","dashboard-card",3,"border-top-color","click",4,"ngFor","ngForOf"],[1,"dashboard-card",3,"click"],[1,"card-icon"],[1,"card-content"],[1,"card-arrow"],[1,"no-modules"],[1,"btn-primary",3,"click"],[3,"close","module","username"]],template:function(t,r){if(t&1){let i=te();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),b(4),g(),m(5,"p",4),b(6),Xs(7,"date"),g()(),m(8,"div",5)(9,"button",6),U("click",function(){return N(i),F(r.toggleThemeSelector())}),b(10,"\u{1F3A8} Theme"),g(),m(11,"button",7),U("click",function(){return N(i),F(r.editModules())}),b(12,"\u2699\uFE0F Edit Modules"),g(),m(13,"button",8),U("click",function(){return N(i),F(r.logout())}),b(14,"\u{1F6AA} Logout"),g()()(),fe(15,Aq,5,1,"div",9),m(16,"div",10),fe(17,Rq,2,1,"div",11)(18,Nq,7,0,"ng-template",null,0,wT),g(),fe(20,Fq,1,2,"app-generic-tracker",12),g()}if(t&2){let i=mT(19);x(4),Ve("\u{1F44B} Welcome, ",r.username,"!"),x(2),Fe(uh(7,6,r.currentDate,"fullDate")),x(9),$("ngIf",r.showThemeSelector),x(2),$("ngIf",r.enabledModules.length>0)("ngIfElse",i),x(3),$("ngIf",r.selectedModule)}},dependencies:[et,Bt,at,Jc,Hp],styles:[".dashboard-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--background-color);padding:20px}.dashboard-header[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:15px;padding:25px 30px;margin-bottom:30px;box-shadow:0 2px 10px #0000001a;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--text-color);margin:0 0 5px;font-size:2em}.date[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;background:var(--primary-color);color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1em;transition:all .3s}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--secondary-color);transform:translateY(-2px)}.btn-logout[_ngcontent-%COMP%]{padding:10px 20px;background:#e74c3c;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1em;transition:all .3s}.btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b;transform:translateY(-2px)}.modules-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.modules-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:25px}.dashboard-card[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:12px;padding:25px;cursor:pointer;transition:all .3s;border-top:5px solid var(--primary-color);box-shadow:0 2px 10px #0000001a;display:flex;align-items:center;gap:20px;position:relative}.dashboard-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 10px 30px #00000026}.card-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:2em;flex-shrink:0}.card-content[_ngcontent-%COMP%]{flex:1}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:var(--text-color);font-size:1.3em}.card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-color);opacity:.7;font-size:.95em}.card-arrow[_ngcontent-%COMP%]{font-size:1.5em;color:var(--primary-color);transition:all .3s;opacity:.5}.dashboard-card[_ngcontent-%COMP%]:hover   .card-arrow[_ngcontent-%COMP%]{color:var(--secondary-color);transform:translate(5px);opacity:1}.no-modules[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:var(--card-bg);border-radius:15px;box-shadow:0 2px 10px #0000001a}.no-modules[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:15px;font-size:2em}.no-modules[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-color);opacity:.7;margin-bottom:30px;font-size:1.1em}.btn-primary[_ngcontent-%COMP%]{padding:15px 40px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:#fff;border:none;border-radius:10px;font-size:1.1em;font-weight:600;cursor:pointer;transition:transform .2s}.btn-primary[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media (max-width: 768px){.dashboard-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.modules-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.btn-theme[_ngcontent-%COMP%]{padding:10px 20px;background:var(--secondary-color);color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:1em;transition:all .3s}.btn-theme[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translateY(-2px)}.theme-dropdown[_ngcontent-%COMP%]{background:var(--card-bg);border-radius:15px;padding:25px;margin-bottom:30px;box-shadow:0 2px 10px #0000001a;animation:_ngcontent-%COMP%_slideDown .3s}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.theme-dropdown[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-color);margin-bottom:15px}.theme-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px}.theme-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:12px;border:2px solid #e0e0e0;border-radius:10px;cursor:pointer;transition:all .3s;background:var(--background-color)}.theme-option[_ngcontent-%COMP%]:hover{border-color:var(--primary-color);transform:scale(1.02)}.theme-option.active[_ngcontent-%COMP%]{border-color:var(--primary-color);box-shadow:0 4px 12px #0000001a;background:var(--primary-color);color:#fff}.theme-color[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:2px solid white;box-shadow:0 2px 8px #0003}.theme-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9em}"]})};function Vq(n,e){if(n&1&&(m(0,"div",23),b(1),g()),n&2){let t=L();Ne("win",t.statusWin),x(),Ve(" ",t.statusMessage," ")}}function Lq(n,e){if(n&1){let t=te();m(0,"td",8),U("click",function(){let i=N(t).$implicit,o=L(2);return F(o.toggleCell(i))}),b(1),g()}if(n&2){let t=e.$implicit;Ne("bingo-cell",!0)("free",t.free)("marked",t.marked),x(),Ve(" ",t.text," ")}}function jq(n,e){if(n&1&&(m(0,"tr"),fe(1,Lq,2,7,"td",24),g()),n&2){let t=e.$implicit;x(),$("ngForOf",t)}}var Gp=class n{BINGO_SIZE=5;FREE_TEXT="BESPLATNO POLJE";statements=["Dolazi na vje\u017Ebe prije po\u010Detka \u010Dasa.","Voli raditi projekte u timu.","Koristi tamni na\u010Din rada (dark mode).","Najdra\u017Ei predmet mu je iz IT oblasti.","Pije kafu prije predavanja.","Koristi VS Code za programiranje.","Voli HTML i CSS.","Zanima ga frontend development.","Slu\u0161a muziku dok u\u010Di.","Voli rje\u0161avati logi\u010Dke zadatke.","\u010Cesto koristi online kurseve za u\u010Denje.","Radi projekte i van fakulteta.","Voli JavaScript.","Redovno provjerava e-mail sa faksa.","Voli raditi dizajn web stranica.","Prijavio se na barem jedan dodatni kurs.","Ima omiljenu tipkovni\u010Dku pre\u010Dicu.","Radi projekte kasno nave\u010Der.","Radije u\u010Di uz video materijale.","Voli raditi u timu od troje ljudi.","Ima GitHub profil.","Koristi barem jedan Linux distro.","Prati tech YouTube kanale.","Ne voli prezentirati pred velikom grupom.","Voli raditi s podacima u Excelu.","Ima ideju za vlastiti startup.","Prati IT vijesti.","Voli raditi wireframe u bilje\u017Enici.","Ima spremljen folder sa korisnim kod primjerima.","Poku\u0161ao je napraviti vlastiti portfolio sajt."];bingoBoard=[];statusMessage="";statusWin=!1;showOverlay=!1;winShown=!1;winType="";ngOnInit(){this.generateCard()}shuffle(e){return[...e].sort(()=>Math.random()-.5)}generateCard(){this.statusMessage="",this.statusWin=!1,this.winShown=!1,this.showOverlay=!1;let e=this.shuffle(this.statements),t=this.BINGO_SIZE*this.BINGO_SIZE-1,r=e.slice(0,t),i=[],o=0;for(let s=0;s<this.BINGO_SIZE;s++){let a=[];for(let l=0;l<this.BINGO_SIZE;l++)s===2&&l===2?a.push({text:this.FREE_TEXT,free:!0,marked:!0,row:s,col:l}):a.push({text:r[o++],free:!1,marked:!1,row:s,col:l});i.push(a)}this.bingoBoard=i}toggleCell(e){e.free||(e.marked=!e.marked,this.checkWin())}checkWin(){let e=Array.from({length:this.BINGO_SIZE},()=>Array(this.BINGO_SIZE).fill(!1));this.bingoBoard.forEach((t,r)=>{t.forEach((i,o)=>{i.marked&&(e[r][o]=!0)})});for(let t=0;t<this.BINGO_SIZE;t++)if(e[t].every(r=>r)){this.declareWin(`Red ${t+1}`);return}for(let t=0;t<this.BINGO_SIZE;t++){let r=!0;for(let i=0;i<this.BINGO_SIZE;i++)if(!e[i][t]){r=!1;break}if(r){this.declareWin(`Kolona ${t+1}`);return}}if(Array.from({length:this.BINGO_SIZE},(t,r)=>e[r][r]).every(t=>t)){this.declareWin("Dijagonala 1");return}if(Array.from({length:this.BINGO_SIZE},(t,r)=>e[r][this.BINGO_SIZE-1-r]).every(t=>t)){this.declareWin("Dijagonala 2");return}}declareWin(e){this.winShown||(this.winShown=!0,this.statusMessage=`Bingo! ${e} je kompletiran.`,this.statusWin=!0,this.winType=e,this.showOverlay=!0)}hideOverlay(){this.showOverlay=!1}resetMarks(){this.statusMessage="",this.statusWin=!1,this.winShown=!1,this.bingoBoard.forEach(e=>{e.forEach(t=>{t.free||(t.marked=!1)})})}exportPdf(){window.print()}newGameFromModal(){this.generateCard(),this.hideOverlay()}resetFromModal(){this.resetMarks(),this.hideOverlay()}printFromModal(){this.hideOverlay(),this.exportPdf()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-bingo"]],decls:50,vars:5,consts:[[1,"intro-article"],[1,"intro-text"],[1,"intro-media"],["src","assets/images/bingo.jpg","alt","Bingo kartica za studente"],[1,"bingo-section"],[1,"bingo-card"],[1,"bingo-header-row"],[1,"bingo-controls"],[3,"click"],[1,"bingo-intro"],["class","bingo-status",3,"win",4,"ngIf"],[1,"bingo-table-wrapper"],["aria-label","Bingo tabla",1,"bingo-table"],[4,"ngFor","ngForOf"],[1,"bingo-back-link"],["routerLink","/dashboard"],["role","dialog","aria-modal","true","aria-labelledby","bingoWinTitle",1,"modal-overlay"],[1,"modal-card"],["type","button","aria-label","Zatvori",1,"modal-close-btn",3,"click"],["id","bingoWinTitle"],["id","bingoWinMsg"],[1,"modal-actions"],["type","button",3,"click"],[1,"bingo-status"],[3,"bingo-cell","free","marked","click",4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(m(0,"article",0)(1,"div",1)(2,"h1"),b(3,"Student Fun Zone \u2013 Bingo"),g(),m(4,"p"),b(5," Bingo je jednostavna, ali zabavna aktivnost za upoznavanje kolega i razbijanje treme na \u010Dasu. Klikni na polje da ga ozna\u010Di\u0161, popuni red, kolonu ili dijagonalu i osvoji\u0161 bingo. "),g(),m(6,"p"),b(7," Svaka nova kartica nasumi\u010Dno generi\u0161e izjave, a sredi\u0161nje polje je uvijek besplatno. "),g()(),m(8,"div",2),Ie(9,"img",3),g()(),m(10,"section",4)(11,"div",5)(12,"div",6)(13,"h2"),b(14,"Bingo kartica"),g(),m(15,"div",7)(16,"button",8),U("click",function(){return r.generateCard()}),b(17,"Nova kartica"),g(),m(18,"button",8),U("click",function(){return r.resetMarks()}),b(19,"Reset oznaka"),g(),m(20,"button",8),U("click",function(){return r.exportPdf()}),b(21,"Snimi kao PDF"),g()()(),m(22,"p",9),b(23," Klikni na polja koja se odnose na tebe ili kolege. Kada kompletira\u0161 red, kolonu ili dijagonalu, dobi\u0107e\u0161 obavijest da si ostvario bingo. "),g(),fe(24,Vq,2,3,"div",10),m(25,"div",11)(26,"table",12)(27,"tbody"),fe(28,jq,2,1,"tr",13),g()()(),m(29,"p",14)(30,"a",15),b(31,"\u2190 Povratak na Dashboard"),g()()()(),m(32,"div",16)(33,"div",17)(34,"button",18),U("click",function(){return r.hideOverlay()}),b(35," \xD7 "),g(),m(36,"h2",19),b(37,"Bingo!"),g(),m(38,"p",20),b(39," \u010Cestitamo \u2013 osvojio si "),m(40,"strong"),b(41),g(),b(42,"! "),g(),m(43,"div",21)(44,"button",22),U("click",function(){return r.newGameFromModal()}),b(45,"Nova kartica"),g(),m(46,"button",22),U("click",function(){return r.resetFromModal()}),b(47,"Reset oznaka"),g(),m(48,"button",22),U("click",function(){return r.printFromModal()}),b(49,"Snimi u PDF"),g()()()()),t&2&&(x(24),$("ngIf",r.statusMessage),x(4),$("ngForOf",r.bingoBoard),x(4),Ne("visible",r.showOverlay),x(9),Fe(r.winType))},dependencies:[et,Bt,at,Ot,wt],styles:["html[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1f2937)}body[_ngcontent-%COMP%]{font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif;color:#111827;margin:0;line-height:1.6}.page-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.top-header[_ngcontent-%COMP%]{max-width:1100px;margin:24px auto 0;padding:12px 20px;background-color:#fff;border-radius:14px;box-shadow:0 12px 30px #0f172a26;display:flex;align-items:center;gap:20px;box-sizing:border-box}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;text-decoration:none}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:54px;width:auto}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.brand-kicker[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.12em;color:#6b7280}.brand-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827}.nav-header[_ngcontent-%COMP%]{max-width:1100px;margin:12px auto 0;padding:10px 20px;background-color:#fff;border-radius:14px;box-shadow:0 8px 22px #0f172a1a;box-sizing:border-box}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;list-style:none;padding:0;margin:0}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:8px 18px;border-radius:999px;text-transform:uppercase;font-size:12px;letter-spacing:.06em;background:#e5e7eb;color:#0f172a;transition:.2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-nav[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff}a[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:500;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;color:#111827}h1[_ngcontent-%COMP%]{font-size:26px;margin-bottom:12px}h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}main[_ngcontent-%COMP%]{flex:1;max-width:1100px;width:100%;margin:18px auto 32px;padding:0 12px;box-sizing:border-box}.intro-article[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:24px;margin-bottom:24px;box-sizing:border-box}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.intro-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px;object-fit:cover}.course-groups[_ngcontent-%COMP%]{margin-bottom:24px}.course-groups[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}.course-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.course-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:16px 18px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.course-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:#4b5563}.course-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;color:#4b5563}.info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.info-block[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:18px 20px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.info-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.site-footer[_ngcontent-%COMP%]{background:transparent;color:#e5e7eb;text-align:center;padding:16px 12px 24px;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 10px 28px #0f172a24;margin-bottom:16px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:13px;border:solid 1px #e5e7eb;padding:8px 6px}th[_ngcontent-%COMP%]{color:#111827;background-color:#e0ebff;height:32px;font-weight:600}td[_ngcontent-%COMP%]:nth-child(4){text-align:right;padding-right:8px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9fafb}iframe[_ngcontent-%COMP%]{margin-top:16px;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]{width:100%;max-width:520px;margin-bottom:16px;padding:14px 16px 18px;background-color:#f3f4f6;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{color:#111827;font-weight:600;padding:0 4px}label[_ngcontent-%COMP%]{display:inline-block;width:32%;font-size:13px;color:#374151}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:64%;margin-bottom:6px;padding:6px 8px;border-radius:8px;border:1px solid #d1d5db;font-size:13px;font-family:inherit}textarea[_ngcontent-%COMP%]{min-height:90px}input[type=checkbox][_ngcontent-%COMP%]{margin-left:32%}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb;font-weight:600;border:none;padding:9px 22px;border-radius:999px;cursor:pointer;font-size:13px;margin-top:4px;transition:background-color .2s ease,transform .1s ease}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}@media (max-width: 768px){.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}.intro-article[_ngcontent-%COMP%]{grid-template-columns:1fr}label[_ngcontent-%COMP%]{width:100%;margin-bottom:4px}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}input[type=checkbox][_ngcontent-%COMP%]{margin-left:0}}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.card-img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:10px;margin-bottom:12px}.has-dropdown[_ngcontent-%COMP%]{position:relative}.has-dropdown[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:2px;padding:8px 0;list-style:none;background-color:#fff;border-radius:12px;box-shadow:0 14px 32px #0f172a40;min-width:200px;display:none;z-index:20}.has-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 14px;font-size:13px;text-transform:none;letter-spacing:0;border-radius:0;background:transparent;color:#111827}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:#111827}.sfz-link.is-active[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#0f172a!important}.contact-form-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box;width:100%;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#111827;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;font-family:inherit;box-sizing:border-box;background-color:#f9fafb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1d4ed8;background-color:#fff}.form-actions[_ngcontent-%COMP%]{margin-top:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:10px 24px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:13px;margin-top:4px}.bingo-section[_ngcontent-%COMP%]{margin-top:24px}.bingo-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.bingo-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.bingo-header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.bingo-controls[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bingo-intro[_ngcontent-%COMP%]{margin-bottom:12px;color:#4b5563}.bingo-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;min-height:20px;color:#4b5563}.bingo-status.win[_ngcontent-%COMP%]{color:#16a34a}.bingo-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.bingo-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed;background-color:#f9fafb;border-radius:12px;overflow:hidden}.bingo-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.bingo-cell[_ngcontent-%COMP%]{padding:10px 8px;font-size:13px;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;word-break:break-word;background-color:#fff;transition:background-color .15s ease,color .15s ease}.bingo-cell.free[_ngcontent-%COMP%]{font-weight:700;background:#e0ecff;color:#1d4ed8}.bingo-cell.marked[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb}.bingo-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a99;display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.visible[_ngcontent-%COMP%]{display:flex}.modal-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:16px;padding:24px 26px 22px;box-shadow:0 22px 60px #0f172a66;max-width:380px;width:100%;box-sizing:border-box;overflow:hidden}.modal-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}.modal-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:14px;color:#4b5563}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:12px;border:none;background:transparent;font-size:20px;cursor:pointer;line-height:1}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:999px;opacity:0;animation-name:_ngcontent-%COMP%_confetti-fall;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(-10px) scale(1);opacity:1}to{transform:translateY(40px) scale(.8);opacity:0}}@media (max-width: 768px){.bingo-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.bingo-controls[_ngcontent-%COMP%]{width:100%}.bingo-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:center}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.bingo-card[_ngcontent-%COMP%], .bingo-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.bingo-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.modal-overlay[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]{display:none!important}}.quiz-section[_ngcontent-%COMP%]{margin-top:24px}.quiz-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.quiz-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.quiz-intro[_ngcontent-%COMP%]{margin-bottom:16px;color:#4b5563}.quiz-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.quiz-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:6px}.quiz-question[_ngcontent-%COMP%]{padding:10px 12px;border-radius:10px;background-color:#f9fafb;border:1px solid #e5e7eb}.quiz-question.correct[_ngcontent-%COMP%]{border-color:#16a34a;background-color:#ecfdf3}.quiz-question.incorrect[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.quiz-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}.primary-btn[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:9px 20px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.primary-btn[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.secondary-btn[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#111827;font-weight:500;padding:8px 16px;border-radius:999px;border:1px solid #e5e7eb;cursor:pointer;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:4px}.secondary-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.quiz-result[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#111827;display:none}.quiz-result.visible[_ngcontent-%COMP%]{display:block}.quiz-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.whiteboard-section[_ngcontent-%COMP%]{margin-top:24px}.whiteboard-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.whiteboard-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:12px}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 10px;border-radius:10px;font-size:14px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:auto;margin:0;font-weight:500}.toolbar-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-left:auto}.whiteboard-canvas-wrap[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}#board[_ngcontent-%COMP%]{width:100%;height:auto;display:block;background:#fff;cursor:crosshair}.whiteboard-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.whiteboard-card[_ngcontent-%COMP%], .whiteboard-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.whiteboard-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .whiteboard-toolbar[_ngcontent-%COMP%], .whiteboard-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}.vision-section[_ngcontent-%COMP%]{margin-top:24px}.vision-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.vision-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:520px;background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;overflow:hidden}.note[_ngcontent-%COMP%]{position:absolute;width:180px;min-height:120px;padding:10px;border-radius:10px;box-shadow:0 6px 18px #0000001f;cursor:move;font-size:14px;line-height:1.4;outline:none}.color1[_ngcontent-%COMP%]{background:#fff7ed}.color2[_ngcontent-%COMP%]{background:#ecfeff}.color3[_ngcontent-%COMP%]{background:#f0fdf4}.color4[_ngcontent-%COMP%]{background:#fef2f2}.color5[_ngcontent-%COMP%]{background:#eef2ff}.color6[_ngcontent-%COMP%]{background:#fdf4ff}.pinned-img[_ngcontent-%COMP%]{position:absolute;width:200px;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px #0000001f;cursor:move}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.quote[_ngcontent-%COMP%]{position:absolute;width:220px;padding:10px 12px;background:#fff;border-left:4px solid #1d4ed8;border-radius:8px;box-shadow:0 6px 18px #0000001a;cursor:move;font-size:14px;line-height:1.4;outline:none}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;border:none;background:#111827;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:14px}.recent-tray[_ngcontent-%COMP%]{margin-top:14px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:10px}.recent-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.recent-items[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.recent-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;padding:8px;border-radius:10px;width:180px;font-size:13px;display:flex;flex-direction:column;gap:6px}.recent-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.restore-btn[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border:none;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}.vision-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.vision-card[_ngcontent-%COMP%], .vision-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.vision-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .vision-toolbar[_ngcontent-%COMP%], .vision-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%], .recent-tray[_ngcontent-%COMP%]{display:none!important}}.kanban-section[_ngcontent-%COMP%]{margin-top:24px}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.kanban-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}.board[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start}.column[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;width:33.33%;padding:10px;border-radius:12px;min-height:300px}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.taskList[_ngcontent-%COMP%]{min-height:220px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:10px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:600;font-size:14px}.task[_ngcontent-%COMP%]:active{cursor:grabbing}.task.dragging[_ngcontent-%COMP%]{opacity:.6;transform:scale(1.03)}.kanban-back-link[_ngcontent-%COMP%]{margin-top:14px;text-align:center}@media (max-width: 900px){.board[_ngcontent-%COMP%]{flex-direction:column}.column[_ngcontent-%COMP%]{width:100%}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.kanban-card[_ngcontent-%COMP%], .kanban-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.kanban-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .kanban-toolbar[_ngcontent-%COMP%], .kanban-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}"]})};var Bq=["kanbanPrintArea"];function Uq(n,e){if(n&1){let t=te();m(0,"div",33),U("dragstart",function(i){let o=N(t).$implicit,s=L();return F(s.onDragStart(i,o))})("dragend",function(i){N(t);let o=L();return F(o.onDragEnd(i))}),b(1),g()}if(n&2){let t=e.$implicit;bn("data-id",t.id),x(),Ve(" ",t.text," ")}}function zq(n,e){if(n&1){let t=te();m(0,"div",33),U("dragstart",function(i){let o=N(t).$implicit,s=L();return F(s.onDragStart(i,o))})("dragend",function(i){N(t);let o=L();return F(o.onDragEnd(i))}),b(1),g()}if(n&2){let t=e.$implicit;bn("data-id",t.id),x(),Ve(" ",t.text," ")}}function $q(n,e){if(n&1){let t=te();m(0,"div",33),U("dragstart",function(i){let o=N(t).$implicit,s=L();return F(s.onDragStart(i,o))})("dragend",function(i){N(t);let o=L();return F(o.onDragEnd(i))}),b(1),g()}if(n&2){let t=e.$implicit;bn("data-id",t.id),x(),Ve(" ",t.text," ")}}function qq(n,e){n&1&&(m(0,"p",34),b(1,"Unesi naziv zadatka."),g())}var Kp=class n{kanbanPrintArea;STORAGE_KEY="kanbanBoardTasks";tasks=[];draggedTask=null;showTaskModal=!1;newTaskText="";newTaskStatus="todo";taskError=!1;showClearModal=!1;ngOnInit(){this.loadFromStorage()}saveToStorage(){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.tasks))}loadFromStorage(){let e=localStorage.getItem(this.STORAGE_KEY);if(!e){this.tasks=[];return}try{this.tasks=JSON.parse(e)}catch{this.tasks=[]}}getTasksByStatus(e){return this.tasks.filter(t=>t.status===e)}onDragStart(e,t){this.draggedTask=t,e.target.classList.add("dragging")}onDragEnd(e){e.target.classList.remove("dragging")}onDragOver(e){e.preventDefault()}onDrop(e,t){e.preventDefault(),this.draggedTask&&(this.tasks=this.tasks.map(r=>r.id===this.draggedTask.id?le(z({},r),{status:t}):r),this.draggedTask=null,this.saveToStorage())}openTaskModal(){this.showTaskModal=!0,this.newTaskText="",this.newTaskStatus="todo",this.taskError=!1}closeTaskModal(){this.showTaskModal=!1}createTask(){let e=this.newTaskText.trim();if(!e){this.taskError=!0;return}let t={id:Date.now().toString(),text:e,status:this.newTaskStatus};this.tasks.push(t),this.saveToStorage(),this.closeTaskModal()}openClearModal(){this.showClearModal=!0}closeClearModal(){this.showClearModal=!1}clearBoard(){this.tasks=[],this.saveToStorage(),this.closeClearModal()}savePng(){return w(this,null,function*(){let e=(yield import("./chunk-OQTBH4HJ.js")).default,t=this.kanbanPrintArea.nativeElement,i=(yield e(t,{backgroundColor:"#ffffff"})).toDataURL("image/png"),o=document.createElement("a");o.href=i,o.download="kanban-board.png",o.click()})}exportPdf(){window.print()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-kanban-board"]],viewQuery:function(t,r){if(t&1&&Js(Bq,5),t&2){let i;Po(i=Oo())&&(r.kanbanPrintArea=i.first)}},decls:78,vars:12,consts:[["kanbanPrintArea",""],[1,"intro-article"],[1,"intro-text"],[1,"intro-media"],["src","assets/images/kanban-hero.jpg","alt","Kanban board za studente"],[1,"kanban-section"],[1,"kanban-card"],[1,"kanban-toolbar"],["type","button",3,"click"],[1,"board"],["data-status","todo",1,"column",3,"dragover","drop"],[1,"taskList"],["class","task","draggable","true",3,"dragstart","dragend",4,"ngFor","ngForOf"],["data-status","inprogress",1,"column",3,"dragover","drop"],["data-status","done",1,"column",3,"dragover","drop"],[1,"kanban-back-link"],["routerLink","/module-selector"],["role","dialog","aria-modal","true","aria-labelledby","taskModalTitle",1,"modal-overlay"],[1,"modal-card"],["type","button","aria-label","Zatvori",1,"modal-close-btn",3,"click"],["id","taskModalTitle"],[1,"form-group"],["for","taskText"],["type","text","placeholder","npr. Napraviti layout za homepage",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","taskStatus"],[3,"ngModelChange","ngModel"],["value","todo"],["value","inprogress"],["value","done"],[1,"modal-actions"],["role","dialog","aria-modal","true","aria-labelledby","clearModalTitle",1,"modal-overlay"],["id","clearModalTitle"],["draggable","true",1,"task",3,"dragstart","dragend"],[1,"error-message"]],template:function(t,r){if(t&1){let i=te();m(0,"article",1)(1,"div",2)(2,"h1"),b(3,"Student Fun Zone \u2013 Kanban Board"),g(),m(4,"p"),b(5," Kanban plo\u010Da se koristi za organizaciju zadataka kroz faze rada. Ima\u0161 tri kolone: To Do (planirano), In Progress (u toku) i Done (zavr\u0161eno). "),g(),m(6,"p"),b(7,' Zadaci se dodaju kroz dugme "Dodaj zadatak", a zatim se drag & drop-om prebacuju izme\u0111u kolona. '),g()(),m(8,"div",3),Ie(9,"img",4),g()(),m(10,"section",5)(11,"div",6,0)(13,"div",7)(14,"button",8),U("click",function(){return N(i),F(r.openTaskModal())}),b(15,"Dodaj zadatak"),g(),m(16,"button",8),U("click",function(){return N(i),F(r.savePng())}),b(17,"Snimi kao PNG"),g(),m(18,"button",8),U("click",function(){return N(i),F(r.openClearModal())}),b(19,"O\u010Disti plo\u010Du"),g(),m(20,"button",8),U("click",function(){return N(i),F(r.exportPdf())}),b(21,"Snimi kao PDF"),g()(),m(22,"div",9)(23,"div",10),U("dragover",function(s){return N(i),F(r.onDragOver(s))})("drop",function(s){return N(i),F(r.onDrop(s,"todo"))}),m(24,"h2"),b(25,"To Do"),g(),m(26,"div",11),fe(27,Uq,2,2,"div",12),g()(),m(28,"div",13),U("dragover",function(s){return N(i),F(r.onDragOver(s))})("drop",function(s){return N(i),F(r.onDrop(s,"inprogress"))}),m(29,"h2"),b(30,"In Progress"),g(),m(31,"div",11),fe(32,zq,2,2,"div",12),g()(),m(33,"div",14),U("dragover",function(s){return N(i),F(r.onDragOver(s))})("drop",function(s){return N(i),F(r.onDrop(s,"done"))}),m(34,"h2"),b(35,"Done"),g(),m(36,"div",11),fe(37,$q,2,2,"div",12),g()()()(),m(38,"p",15)(39,"a",16),b(40,"\u2190 Povratak na Student Fun Zone"),g()()(),m(41,"div",17)(42,"div",18)(43,"button",19),U("click",function(){return N(i),F(r.closeTaskModal())}),b(44," \xD7 "),g(),m(45,"h2",20),b(46,"Dodaj novi zadatak"),g(),m(47,"div",21)(48,"label",22),b(49,"Naziv zadatka"),g(),m(50,"input",23),Z("ngModelChange",function(s){return N(i),X(r.newTaskText,s)||(r.newTaskText=s),F(s)}),g(),fe(51,qq,2,0,"p",24),g(),m(52,"div",21)(53,"label",25),b(54,"Kolona"),g(),m(55,"select",26),Z("ngModelChange",function(s){return N(i),X(r.newTaskStatus,s)||(r.newTaskStatus=s),F(s)}),m(56,"option",27),b(57,"To Do"),g(),m(58,"option",28),b(59,"In Progress"),g(),m(60,"option",29),b(61,"Done"),g()()(),m(62,"div",30)(63,"button",8),U("click",function(){return N(i),F(r.createTask())}),b(64,"Dodaj"),g(),m(65,"button",8),U("click",function(){return N(i),F(r.closeTaskModal())}),b(66,"Poni\u0161ti"),g()()()(),m(67,"div",31)(68,"div",18)(69,"h2",32),b(70,"O\u010Disti cijelu plo\u010Du?"),g(),m(71,"p"),b(72,"Ovo bri\u0161e sve zadatke."),g(),m(73,"div",30)(74,"button",8),U("click",function(){return N(i),F(r.clearBoard())}),b(75,"Da, obri\u0161i"),g(),m(76,"button",8),U("click",function(){return N(i),F(r.closeClearModal())}),b(77,"Ne"),g()()()()}t&2&&(x(27),$("ngForOf",r.getTasksByStatus("todo")),x(5),$("ngForOf",r.getTasksByStatus("inprogress")),x(5),$("ngForOf",r.getTasksByStatus("done")),x(4),Ne("visible",r.showTaskModal),x(9),Xe("border-color",r.taskError?"#dc2626":"#d1d5db"),Y("ngModel",r.newTaskText),x(),$("ngIf",r.taskError),x(4),Y("ngModel",r.newTaskStatus),x(12),Ne("visible",r.showClearModal))},dependencies:[et,Bt,at,Ot,wt,hn,pf,gf,Ut,ya,dn,Yt],styles:["html[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1f2937)}body[_ngcontent-%COMP%]{font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif;color:#111827;margin:0;line-height:1.6}.page-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.top-header[_ngcontent-%COMP%]{max-width:1100px;margin:24px auto 0;padding:12px 20px;background-color:#fff;border-radius:14px;box-shadow:0 12px 30px #0f172a26;display:flex;align-items:center;gap:20px;box-sizing:border-box}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;text-decoration:none}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:54px;width:auto}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.brand-kicker[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.12em;color:#6b7280}.brand-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827}.nav-header[_ngcontent-%COMP%]{max-width:1100px;margin:12px auto 0;padding:10px 20px;background-color:#fff;border-radius:14px;box-shadow:0 8px 22px #0f172a1a;box-sizing:border-box}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;list-style:none;padding:0;margin:0}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:8px 18px;border-radius:999px;text-transform:uppercase;font-size:12px;letter-spacing:.06em;background:#e5e7eb;color:#0f172a;transition:.2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-nav[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff}a[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:500;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;color:#111827}h1[_ngcontent-%COMP%]{font-size:26px;margin-bottom:12px}h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}main[_ngcontent-%COMP%]{flex:1;max-width:1100px;width:100%;margin:18px auto 32px;padding:0 12px;box-sizing:border-box}.intro-article[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:24px;margin-bottom:24px;box-sizing:border-box}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.intro-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px;object-fit:cover}.course-groups[_ngcontent-%COMP%]{margin-bottom:24px}.course-groups[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}.course-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.course-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:16px 18px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.course-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:#4b5563}.course-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;color:#4b5563}.info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.info-block[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:18px 20px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.info-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.site-footer[_ngcontent-%COMP%]{background:transparent;color:#e5e7eb;text-align:center;padding:16px 12px 24px;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 10px 28px #0f172a24;margin-bottom:16px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:13px;border:solid 1px #e5e7eb;padding:8px 6px}th[_ngcontent-%COMP%]{color:#111827;background-color:#e0ebff;height:32px;font-weight:600}td[_ngcontent-%COMP%]:nth-child(4){text-align:right;padding-right:8px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9fafb}iframe[_ngcontent-%COMP%]{margin-top:16px;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]{width:100%;max-width:520px;margin-bottom:16px;padding:14px 16px 18px;background-color:#f3f4f6;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{color:#111827;font-weight:600;padding:0 4px}label[_ngcontent-%COMP%]{display:inline-block;width:32%;font-size:13px;color:#374151}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:64%;margin-bottom:6px;padding:6px 8px;border-radius:8px;border:1px solid #d1d5db;font-size:13px;font-family:inherit}textarea[_ngcontent-%COMP%]{min-height:90px}input[type=checkbox][_ngcontent-%COMP%]{margin-left:32%}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb;font-weight:600;border:none;padding:9px 22px;border-radius:999px;cursor:pointer;font-size:13px;margin-top:4px;transition:background-color .2s ease,transform .1s ease}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}@media (max-width: 768px){.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}.intro-article[_ngcontent-%COMP%]{grid-template-columns:1fr}label[_ngcontent-%COMP%]{width:100%;margin-bottom:4px}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}input[type=checkbox][_ngcontent-%COMP%]{margin-left:0}}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.card-img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:10px;margin-bottom:12px}.has-dropdown[_ngcontent-%COMP%]{position:relative}.has-dropdown[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:2px;padding:8px 0;list-style:none;background-color:#fff;border-radius:12px;box-shadow:0 14px 32px #0f172a40;min-width:200px;display:none;z-index:20}.has-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 14px;font-size:13px;text-transform:none;letter-spacing:0;border-radius:0;background:transparent;color:#111827}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:#111827}.sfz-link.is-active[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#0f172a!important}.contact-form-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box;width:100%;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#111827;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;font-family:inherit;box-sizing:border-box;background-color:#f9fafb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1d4ed8;background-color:#fff}.form-actions[_ngcontent-%COMP%]{margin-top:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:10px 24px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:13px;margin-top:4px}.bingo-section[_ngcontent-%COMP%]{margin-top:24px}.bingo-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.bingo-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.bingo-header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.bingo-controls[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bingo-intro[_ngcontent-%COMP%]{margin-bottom:12px;color:#4b5563}.bingo-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;min-height:20px;color:#4b5563}.bingo-status.win[_ngcontent-%COMP%]{color:#16a34a}.bingo-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.bingo-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed;background-color:#f9fafb;border-radius:12px;overflow:hidden}.bingo-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.bingo-cell[_ngcontent-%COMP%]{padding:10px 8px;font-size:13px;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;word-break:break-word;background-color:#fff;transition:background-color .15s ease,color .15s ease}.bingo-cell.free[_ngcontent-%COMP%]{font-weight:700;background:#e0ecff;color:#1d4ed8}.bingo-cell.marked[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb}.bingo-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a99;display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.visible[_ngcontent-%COMP%]{display:flex}.modal-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:16px;padding:24px 26px 22px;box-shadow:0 22px 60px #0f172a66;max-width:380px;width:100%;box-sizing:border-box;overflow:hidden}.modal-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}.modal-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:14px;color:#4b5563}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:12px;border:none;background:transparent;font-size:20px;cursor:pointer;line-height:1}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:999px;opacity:0;animation-name:_ngcontent-%COMP%_confetti-fall;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(-10px) scale(1);opacity:1}to{transform:translateY(40px) scale(.8);opacity:0}}@media (max-width: 768px){.bingo-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.bingo-controls[_ngcontent-%COMP%]{width:100%}.bingo-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:center}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.bingo-card[_ngcontent-%COMP%], .bingo-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.bingo-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.modal-overlay[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]{display:none!important}}.quiz-section[_ngcontent-%COMP%]{margin-top:24px}.quiz-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.quiz-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.quiz-intro[_ngcontent-%COMP%]{margin-bottom:16px;color:#4b5563}.quiz-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.quiz-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:6px}.quiz-question[_ngcontent-%COMP%]{padding:10px 12px;border-radius:10px;background-color:#f9fafb;border:1px solid #e5e7eb}.quiz-question.correct[_ngcontent-%COMP%]{border-color:#16a34a;background-color:#ecfdf3}.quiz-question.incorrect[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.quiz-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}.primary-btn[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:9px 20px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.primary-btn[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.secondary-btn[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#111827;font-weight:500;padding:8px 16px;border-radius:999px;border:1px solid #e5e7eb;cursor:pointer;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:4px}.secondary-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.quiz-result[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#111827;display:none}.quiz-result.visible[_ngcontent-%COMP%]{display:block}.quiz-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.whiteboard-section[_ngcontent-%COMP%]{margin-top:24px}.whiteboard-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.whiteboard-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:12px}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 10px;border-radius:10px;font-size:14px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:auto;margin:0;font-weight:500}.toolbar-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-left:auto}.whiteboard-canvas-wrap[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}#board[_ngcontent-%COMP%]{width:100%;height:auto;display:block;background:#fff;cursor:crosshair}.whiteboard-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.whiteboard-card[_ngcontent-%COMP%], .whiteboard-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.whiteboard-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .whiteboard-toolbar[_ngcontent-%COMP%], .whiteboard-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}.vision-section[_ngcontent-%COMP%]{margin-top:24px}.vision-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.vision-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:520px;background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;overflow:hidden}.note[_ngcontent-%COMP%]{position:absolute;width:180px;min-height:120px;padding:10px;border-radius:10px;box-shadow:0 6px 18px #0000001f;cursor:move;font-size:14px;line-height:1.4;outline:none}.color1[_ngcontent-%COMP%]{background:#fff7ed}.color2[_ngcontent-%COMP%]{background:#ecfeff}.color3[_ngcontent-%COMP%]{background:#f0fdf4}.color4[_ngcontent-%COMP%]{background:#fef2f2}.color5[_ngcontent-%COMP%]{background:#eef2ff}.color6[_ngcontent-%COMP%]{background:#fdf4ff}.pinned-img[_ngcontent-%COMP%]{position:absolute;width:200px;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px #0000001f;cursor:move}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.quote[_ngcontent-%COMP%]{position:absolute;width:220px;padding:10px 12px;background:#fff;border-left:4px solid #1d4ed8;border-radius:8px;box-shadow:0 6px 18px #0000001a;cursor:move;font-size:14px;line-height:1.4;outline:none}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;border:none;background:#111827;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:14px}.recent-tray[_ngcontent-%COMP%]{margin-top:14px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:10px}.recent-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.recent-items[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.recent-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;padding:8px;border-radius:10px;width:180px;font-size:13px;display:flex;flex-direction:column;gap:6px}.recent-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.restore-btn[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border:none;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}.vision-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.vision-card[_ngcontent-%COMP%], .vision-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.vision-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .vision-toolbar[_ngcontent-%COMP%], .vision-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%], .recent-tray[_ngcontent-%COMP%]{display:none!important}}.kanban-section[_ngcontent-%COMP%]{margin-top:24px}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.kanban-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}.board[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start}.column[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;width:33.33%;padding:10px;border-radius:12px;min-height:300px}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.taskList[_ngcontent-%COMP%]{min-height:220px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:10px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:600;font-size:14px}.task[_ngcontent-%COMP%]:active{cursor:grabbing}.task.dragging[_ngcontent-%COMP%]{opacity:.6;transform:scale(1.03)}.kanban-back-link[_ngcontent-%COMP%]{margin-top:14px;text-align:center}@media (max-width: 900px){.board[_ngcontent-%COMP%]{flex-direction:column}.column[_ngcontent-%COMP%]{width:100%}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.kanban-card[_ngcontent-%COMP%], .kanban-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.kanban-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .kanban-toolbar[_ngcontent-%COMP%], .kanban-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}"]})};function Hq(n,e){if(n&1){let t=te();m(0,"button",39),U("click",function(){N(t);let i=L();return F(i.restart())}),b(1," Ponovo "),g()}}function Wq(n,e){if(n&1&&(m(0,"div",40),b(1," Rezultat: "),m(2,"strong"),b(3),g(),b(4),g()),n&2){let t=L();Ne("visible",t.showResult),x(3),Fe(t.score),x(),Ve(" / ",t.maxScore," ")}}var Qp=class n{userAnswers={q1:"",q2:{HTML:!1,CSS:!1,JavaScript:!1,PHP:!1},q3:"",q4:{commit:!1,zip:!1,readme:!1,ignore:!1},q5:""};correctAnswers={q1:"Stilizuje izgled stranice",q2:["HTML","CSS","JavaScript"],q3:"<h1>",q4:["Redovan commit na GitHub","Pisati README dokumentaciju"],q5:"Sajt se prilago\u0111ava razli\u010Ditim veli\u010Dinama ekrana"};questionStatus={q1:null,q2:null,q3:null,q4:null,q5:null};score=0;maxScore=5;showResult=!1;showRestartBtn=!1;showPerfectOverlay=!1;perfectShown=!1;checkAnswers(){this.score=0,this.userAnswers.q1===this.correctAnswers.q1?(this.score++,this.questionStatus.q1=!0):this.questionStatus.q1=!1;let e=Object.keys(this.userAnswers.q2).filter(o=>this.userAnswers.q2[o]);this.correctAnswers.q2.every(o=>e.includes(o))&&e.every(o=>this.correctAnswers.q2.includes(o))?(this.score++,this.questionStatus.q2=!0):this.questionStatus.q2=!1,this.userAnswers.q3===this.correctAnswers.q3?(this.score++,this.questionStatus.q3=!0):this.questionStatus.q3=!1;let r=[];this.userAnswers.q4.commit&&r.push("Redovan commit na GitHub"),this.userAnswers.q4.readme&&r.push("Pisati README dokumentaciju"),this.userAnswers.q4.zip&&r.push("Raditi sve u jednom ZIP fajlu bez historije"),this.userAnswers.q4.ignore&&r.push("Ignorisati dizajn i strukturu"),this.correctAnswers.q4.every(o=>r.includes(o))&&r.every(o=>this.correctAnswers.q4.includes(o))?(this.score++,this.questionStatus.q4=!0):this.questionStatus.q4=!1,this.userAnswers.q5===this.correctAnswers.q5?(this.score++,this.questionStatus.q5=!0):this.questionStatus.q5=!1,this.showResult=!0,this.showRestartBtn=!0,this.score===this.maxScore&&!this.perfectShown&&(this.perfectShown=!0,this.showPerfectOverlay=!0)}restart(){this.userAnswers={q1:"",q2:{HTML:!1,CSS:!1,JavaScript:!1,PHP:!1},q3:"",q4:{commit:!1,zip:!1,readme:!1,ignore:!1},q5:""},this.questionStatus={q1:null,q2:null,q3:null,q4:null,q5:null},this.score=0,this.showResult=!1,this.showRestartBtn=!1,this.showPerfectOverlay=!1,this.perfectShown=!1,window.scrollTo({top:0,behavior:"smooth"})}hidePerfectOverlay(){this.showPerfectOverlay=!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-quiz"]],decls:116,vars:41,consts:[[1,"intro-article"],[1,"intro-text"],[1,"intro-media"],["src","assets/images/quiz.jpg","alt","Studenti rje\u0161avaju kviz"],[1,"quiz-section"],[1,"quiz-card"],[1,"quiz-intro"],[1,"quiz-form"],[1,"quiz-question"],["type","radio","name","q1","value","Stilizuje izgled stranice",3,"ngModelChange","ngModel"],["type","radio","name","q1","value","\u010Cuva podatke u bazi",3,"ngModelChange","ngModel"],["type","radio","name","q1","value","Kompajlira programski kod",3,"ngModelChange","ngModel"],["type","checkbox","value","HTML",3,"ngModelChange","ngModel"],["type","checkbox","value","CSS",3,"ngModelChange","ngModel"],["type","checkbox","value","JavaScript",3,"ngModelChange","ngModel"],["type","checkbox","value","PHP",3,"ngModelChange","ngModel"],["type","radio","name","q3","value","<h1>",3,"ngModelChange","ngModel"],["type","radio","name","q3","value","<title>",3,"ngModelChange","ngModel"],["type","radio","name","q3","value","<header>",3,"ngModelChange","ngModel"],["type","checkbox","value","Redovan commit na GitHub",3,"ngModelChange","ngModel"],["type","checkbox","value","Raditi sve u jednom ZIP fajlu bez historije",3,"ngModelChange","ngModel"],["type","checkbox","value","Pisati README dokumentaciju",3,"ngModelChange","ngModel"],["type","checkbox","value","Ignorisati dizajn i strukturu",3,"ngModelChange","ngModel"],["type","radio","name","q5","value","Sajt se prilago\u0111ava razli\u010Ditim veli\u010Dinama ekrana",3,"ngModelChange","ngModel"],["type","radio","name","q5","value","Sajt radi samo na desktop ra\u010Dunarima",3,"ngModelChange","ngModel"],["type","radio","name","q5","value","Sajt ima mnogo animacija i efekata",3,"ngModelChange","ngModel"],[1,"quiz-actions"],["type","button",1,"primary-btn",3,"click"],["type","button","class","secondary-btn",3,"click",4,"ngIf"],["class","quiz-result",3,"visible",4,"ngIf"],[1,"quiz-back-link"],["routerLink","/module-selector"],["role","dialog","aria-modal","true","aria-labelledby","quizPerfectTitle",1,"modal-overlay"],[1,"modal-card"],["type","button","aria-label","Zatvori",1,"modal-close-btn",3,"click"],["id","quizPerfectTitle"],[1,"modal-actions"],["type","button",3,"click"],["routerLink","/module-selector",1,"secondary-btn"],["type","button",1,"secondary-btn",3,"click"],[1,"quiz-result"]],template:function(t,r){t&1&&(m(0,"article",0)(1,"div",1)(2,"h1"),b(3,"Student Fun Zone \u2013 Kviz"),g(),m(4,"p"),b(5," Kratki kviz za provjeru znanja iz osnova web razvoja i rada na projektima. Neka pitanja imaju jedan ta\u010Dan odgovor, a neka vi\u0161e ta\u010Dnih odgovora. "),g(),m(6,"p"),b(7," Odvojite par minuta, odgovorite iskreno i pogledajte koliko toga ve\u0107 znate. "),g()(),m(8,"div",2),Ie(9,"img",3),g()(),m(10,"section",4)(11,"div",5)(12,"h2"),b(13,"Mini kviz o web razvoju"),g(),m(14,"p",6),b(15,' Ozna\u010Dite odgovore, zatim kliknite na "Provjerite odgovore" da vidite rezultat. '),g(),m(16,"form",7)(17,"div",8)(18,"h3"),b(19,"1. \u0160ta radi CSS u web razvoju?"),g(),m(20,"label")(21,"input",9),Z("ngModelChange",function(o){return X(r.userAnswers.q1,o)||(r.userAnswers.q1=o),o}),g(),b(22," Stilizuje izgled stranice "),g(),Ie(23,"br"),m(24,"label")(25,"input",10),Z("ngModelChange",function(o){return X(r.userAnswers.q1,o)||(r.userAnswers.q1=o),o}),g(),b(26," \u010Cuva podatke u bazi "),g(),Ie(27,"br"),m(28,"label")(29,"input",11),Z("ngModelChange",function(o){return X(r.userAnswers.q1,o)||(r.userAnswers.q1=o),o}),g(),b(30," Kompajlira programski kod "),g()(),m(31,"div",8)(32,"h3"),b(33,"2. Koje od navedenih spadaju u frontend tehnologije?"),g(),m(34,"label")(35,"input",12),Z("ngModelChange",function(o){return X(r.userAnswers.q2.HTML,o)||(r.userAnswers.q2.HTML=o),o}),g(),b(36," HTML "),g(),Ie(37,"br"),m(38,"label")(39,"input",13),Z("ngModelChange",function(o){return X(r.userAnswers.q2.CSS,o)||(r.userAnswers.q2.CSS=o),o}),g(),b(40," CSS "),g(),Ie(41,"br"),m(42,"label")(43,"input",14),Z("ngModelChange",function(o){return X(r.userAnswers.q2.JavaScript,o)||(r.userAnswers.q2.JavaScript=o),o}),g(),b(44," JavaScript "),g(),Ie(45,"br"),m(46,"label")(47,"input",15),Z("ngModelChange",function(o){return X(r.userAnswers.q2.PHP,o)||(r.userAnswers.q2.PHP=o),o}),g(),b(48," PHP "),g()(),m(49,"div",8)(50,"h3"),b(51,"3. Koji HTML tag koristimo za najva\u017Eniji naslov na stranici?"),g(),m(52,"label")(53,"input",16),Z("ngModelChange",function(o){return X(r.userAnswers.q3,o)||(r.userAnswers.q3=o),o}),g(),b(54," <h1> "),g(),Ie(55,"br"),m(56,"label")(57,"input",17),Z("ngModelChange",function(o){return X(r.userAnswers.q3,o)||(r.userAnswers.q3=o),o}),g(),b(58," <title> "),g(),Ie(59,"br"),m(60,"label")(61,"input",18),Z("ngModelChange",function(o){return X(r.userAnswers.q3,o)||(r.userAnswers.q3=o),o}),g(),b(62," <header> "),g()(),m(63,"div",8)(64,"h3"),b(65," 4. \u0160ta se smatra dobrom praksom pri radu na fakultetskom projektu? "),g(),m(66,"label")(67,"input",19),Z("ngModelChange",function(o){return X(r.userAnswers.q4.commit,o)||(r.userAnswers.q4.commit=o),o}),g(),b(68," Redovan commit na GitHub "),g(),Ie(69,"br"),m(70,"label")(71,"input",20),Z("ngModelChange",function(o){return X(r.userAnswers.q4.zip,o)||(r.userAnswers.q4.zip=o),o}),g(),b(72," Raditi sve u jednom ZIP fajlu bez historije "),g(),Ie(73,"br"),m(74,"label")(75,"input",21),Z("ngModelChange",function(o){return X(r.userAnswers.q4.readme,o)||(r.userAnswers.q4.readme=o),o}),g(),b(76," Pisati README dokumentaciju "),g(),Ie(77,"br"),m(78,"label")(79,"input",22),Z("ngModelChange",function(o){return X(r.userAnswers.q4.ignore,o)||(r.userAnswers.q4.ignore=o),o}),g(),b(80," Ignorisati dizajn i strukturu "),g()(),m(81,"div",8)(82,"h3"),b(83,'5. Koji opis najbolje obja\u0161njava \u201Eresponsive" dizajn?'),g(),m(84,"label")(85,"input",23),Z("ngModelChange",function(o){return X(r.userAnswers.q5,o)||(r.userAnswers.q5=o),o}),g(),b(86," Sajt se prilago\u0111ava razli\u010Ditim veli\u010Dinama ekrana "),g(),Ie(87,"br"),m(88,"label")(89,"input",24),Z("ngModelChange",function(o){return X(r.userAnswers.q5,o)||(r.userAnswers.q5=o),o}),g(),b(90," Sajt radi samo na desktop ra\u010Dunarima "),g(),Ie(91,"br"),m(92,"label")(93,"input",25),Z("ngModelChange",function(o){return X(r.userAnswers.q5,o)||(r.userAnswers.q5=o),o}),g(),b(94," Sajt ima mnogo animacija i efekata "),g()(),m(95,"div",26)(96,"button",27),U("click",function(){return r.checkAnswers()}),b(97," Provjerite odgovore "),g(),fe(98,Hq,2,0,"button",28),g(),fe(99,Wq,5,4,"div",29),g(),m(100,"p",30)(101,"a",31),b(102,"\u2190 Povratak na Student Fun Zone"),g()()()(),m(103,"div",32)(104,"div",33)(105,"button",34),U("click",function(){return r.hidePerfectOverlay()}),b(106," \xD7 "),g(),m(107,"h2",35),b(108,"Savr\u0161en rezultat!"),g(),m(109,"p"),b(110," Odgovorili ste ta\u010Dno na sva pitanja. Sjajan posao! Mo\u017Eete poku\u0161ati ponovo ili se vratiti na druge aktivnosti. "),g(),m(111,"div",36)(112,"button",37),U("click",function(){return r.restart()}),b(113,"Ponovo"),g(),m(114,"a",38),b(115,"\u2190 Student Fun Zone"),g()()()()),t&2&&(x(17),Ne("correct",r.questionStatus.q1===!0)("incorrect",r.questionStatus.q1===!1),x(4),Y("ngModel",r.userAnswers.q1),x(4),Y("ngModel",r.userAnswers.q1),x(4),Y("ngModel",r.userAnswers.q1),x(2),Ne("correct",r.questionStatus.q2===!0)("incorrect",r.questionStatus.q2===!1),x(4),Y("ngModel",r.userAnswers.q2.HTML),x(4),Y("ngModel",r.userAnswers.q2.CSS),x(4),Y("ngModel",r.userAnswers.q2.JavaScript),x(4),Y("ngModel",r.userAnswers.q2.PHP),x(2),Ne("correct",r.questionStatus.q3===!0)("incorrect",r.questionStatus.q3===!1),x(4),Y("ngModel",r.userAnswers.q3),x(4),Y("ngModel",r.userAnswers.q3),x(4),Y("ngModel",r.userAnswers.q3),x(2),Ne("correct",r.questionStatus.q4===!0)("incorrect",r.questionStatus.q4===!1),x(4),Y("ngModel",r.userAnswers.q4.commit),x(4),Y("ngModel",r.userAnswers.q4.zip),x(4),Y("ngModel",r.userAnswers.q4.readme),x(4),Y("ngModel",r.userAnswers.q4.ignore),x(2),Ne("correct",r.questionStatus.q5===!0)("incorrect",r.questionStatus.q5===!1),x(4),Y("ngModel",r.userAnswers.q5),x(4),Y("ngModel",r.userAnswers.q5),x(4),Y("ngModel",r.userAnswers.q5),x(5),$("ngIf",r.showRestartBtn),x(),$("ngIf",r.showResult),x(4),Ne("visible",r.showPerfectOverlay))},dependencies:[et,at,Ot,wt,hn,_a,Ut,mv,bv,dn,ma,Yt,Uo],styles:["html[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1f2937)}body[_ngcontent-%COMP%]{font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif;color:#111827;margin:0;line-height:1.6}.page-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.top-header[_ngcontent-%COMP%]{max-width:1100px;margin:24px auto 0;padding:12px 20px;background-color:#fff;border-radius:14px;box-shadow:0 12px 30px #0f172a26;display:flex;align-items:center;gap:20px;box-sizing:border-box}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;text-decoration:none}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:54px;width:auto}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.brand-kicker[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.12em;color:#6b7280}.brand-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827}.nav-header[_ngcontent-%COMP%]{max-width:1100px;margin:12px auto 0;padding:10px 20px;background-color:#fff;border-radius:14px;box-shadow:0 8px 22px #0f172a1a;box-sizing:border-box}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;list-style:none;padding:0;margin:0}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:8px 18px;border-radius:999px;text-transform:uppercase;font-size:12px;letter-spacing:.06em;background:#e5e7eb;color:#0f172a;transition:.2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-nav[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff}a[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:500;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;color:#111827}h1[_ngcontent-%COMP%]{font-size:26px;margin-bottom:12px}h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}main[_ngcontent-%COMP%]{flex:1;max-width:1100px;width:100%;margin:18px auto 32px;padding:0 12px;box-sizing:border-box}.intro-article[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:24px;margin-bottom:24px;box-sizing:border-box}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.intro-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px;object-fit:cover}.course-groups[_ngcontent-%COMP%]{margin-bottom:24px}.course-groups[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}.course-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.course-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:16px 18px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.course-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:#4b5563}.course-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;color:#4b5563}.info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.info-block[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:18px 20px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.info-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.site-footer[_ngcontent-%COMP%]{background:transparent;color:#e5e7eb;text-align:center;padding:16px 12px 24px;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 10px 28px #0f172a24;margin-bottom:16px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:13px;border:solid 1px #e5e7eb;padding:8px 6px}th[_ngcontent-%COMP%]{color:#111827;background-color:#e0ebff;height:32px;font-weight:600}td[_ngcontent-%COMP%]:nth-child(4){text-align:right;padding-right:8px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9fafb}iframe[_ngcontent-%COMP%]{margin-top:16px;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]{width:100%;max-width:520px;margin-bottom:16px;padding:14px 16px 18px;background-color:#f3f4f6;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{color:#111827;font-weight:600;padding:0 4px}label[_ngcontent-%COMP%]{display:inline-block;width:32%;font-size:13px;color:#374151}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:64%;margin-bottom:6px;padding:6px 8px;border-radius:8px;border:1px solid #d1d5db;font-size:13px;font-family:inherit}textarea[_ngcontent-%COMP%]{min-height:90px}input[type=checkbox][_ngcontent-%COMP%]{margin-left:32%}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb;font-weight:600;border:none;padding:9px 22px;border-radius:999px;cursor:pointer;font-size:13px;margin-top:4px;transition:background-color .2s ease,transform .1s ease}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}@media (max-width: 768px){.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}.intro-article[_ngcontent-%COMP%]{grid-template-columns:1fr}label[_ngcontent-%COMP%]{width:100%;margin-bottom:4px}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}input[type=checkbox][_ngcontent-%COMP%]{margin-left:0}}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.card-img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:10px;margin-bottom:12px}.has-dropdown[_ngcontent-%COMP%]{position:relative}.has-dropdown[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:2px;padding:8px 0;list-style:none;background-color:#fff;border-radius:12px;box-shadow:0 14px 32px #0f172a40;min-width:200px;display:none;z-index:20}.has-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 14px;font-size:13px;text-transform:none;letter-spacing:0;border-radius:0;background:transparent;color:#111827}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:#111827}.sfz-link.is-active[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#0f172a!important}.contact-form-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box;width:100%;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#111827;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;font-family:inherit;box-sizing:border-box;background-color:#f9fafb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1d4ed8;background-color:#fff}.form-actions[_ngcontent-%COMP%]{margin-top:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:10px 24px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:13px;margin-top:4px}.bingo-section[_ngcontent-%COMP%]{margin-top:24px}.bingo-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.bingo-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.bingo-header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.bingo-controls[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bingo-intro[_ngcontent-%COMP%]{margin-bottom:12px;color:#4b5563}.bingo-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;min-height:20px;color:#4b5563}.bingo-status.win[_ngcontent-%COMP%]{color:#16a34a}.bingo-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.bingo-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed;background-color:#f9fafb;border-radius:12px;overflow:hidden}.bingo-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.bingo-cell[_ngcontent-%COMP%]{padding:10px 8px;font-size:13px;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;word-break:break-word;background-color:#fff;transition:background-color .15s ease,color .15s ease}.bingo-cell.free[_ngcontent-%COMP%]{font-weight:700;background:#e0ecff;color:#1d4ed8}.bingo-cell.marked[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb}.bingo-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a99;display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.visible[_ngcontent-%COMP%]{display:flex}.modal-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:16px;padding:24px 26px 22px;box-shadow:0 22px 60px #0f172a66;max-width:380px;width:100%;box-sizing:border-box;overflow:hidden}.modal-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}.modal-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:14px;color:#4b5563}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:12px;border:none;background:transparent;font-size:20px;cursor:pointer;line-height:1}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:999px;opacity:0;animation-name:_ngcontent-%COMP%_confetti-fall;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(-10px) scale(1);opacity:1}to{transform:translateY(40px) scale(.8);opacity:0}}@media (max-width: 768px){.bingo-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.bingo-controls[_ngcontent-%COMP%]{width:100%}.bingo-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:center}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.bingo-card[_ngcontent-%COMP%], .bingo-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.bingo-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.modal-overlay[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]{display:none!important}}.quiz-section[_ngcontent-%COMP%]{margin-top:24px}.quiz-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.quiz-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.quiz-intro[_ngcontent-%COMP%]{margin-bottom:16px;color:#4b5563}.quiz-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.quiz-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:6px}.quiz-question[_ngcontent-%COMP%]{padding:10px 12px;border-radius:10px;background-color:#f9fafb;border:1px solid #e5e7eb}.quiz-question.correct[_ngcontent-%COMP%]{border-color:#16a34a;background-color:#ecfdf3}.quiz-question.incorrect[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.quiz-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}.primary-btn[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:9px 20px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.primary-btn[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.secondary-btn[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#111827;font-weight:500;padding:8px 16px;border-radius:999px;border:1px solid #e5e7eb;cursor:pointer;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:4px}.secondary-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.quiz-result[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#111827;display:none}.quiz-result.visible[_ngcontent-%COMP%]{display:block}.quiz-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.whiteboard-section[_ngcontent-%COMP%]{margin-top:24px}.whiteboard-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.whiteboard-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:12px}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 10px;border-radius:10px;font-size:14px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:auto;margin:0;font-weight:500}.toolbar-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-left:auto}.whiteboard-canvas-wrap[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}#board[_ngcontent-%COMP%]{width:100%;height:auto;display:block;background:#fff;cursor:crosshair}.whiteboard-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.whiteboard-card[_ngcontent-%COMP%], .whiteboard-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.whiteboard-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .whiteboard-toolbar[_ngcontent-%COMP%], .whiteboard-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}.vision-section[_ngcontent-%COMP%]{margin-top:24px}.vision-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.vision-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:520px;background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;overflow:hidden}.note[_ngcontent-%COMP%]{position:absolute;width:180px;min-height:120px;padding:10px;border-radius:10px;box-shadow:0 6px 18px #0000001f;cursor:move;font-size:14px;line-height:1.4;outline:none}.color1[_ngcontent-%COMP%]{background:#fff7ed}.color2[_ngcontent-%COMP%]{background:#ecfeff}.color3[_ngcontent-%COMP%]{background:#f0fdf4}.color4[_ngcontent-%COMP%]{background:#fef2f2}.color5[_ngcontent-%COMP%]{background:#eef2ff}.color6[_ngcontent-%COMP%]{background:#fdf4ff}.pinned-img[_ngcontent-%COMP%]{position:absolute;width:200px;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px #0000001f;cursor:move}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.quote[_ngcontent-%COMP%]{position:absolute;width:220px;padding:10px 12px;background:#fff;border-left:4px solid #1d4ed8;border-radius:8px;box-shadow:0 6px 18px #0000001a;cursor:move;font-size:14px;line-height:1.4;outline:none}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;border:none;background:#111827;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:14px}.recent-tray[_ngcontent-%COMP%]{margin-top:14px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:10px}.recent-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.recent-items[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.recent-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;padding:8px;border-radius:10px;width:180px;font-size:13px;display:flex;flex-direction:column;gap:6px}.recent-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.restore-btn[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border:none;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}.vision-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.vision-card[_ngcontent-%COMP%], .vision-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.vision-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .vision-toolbar[_ngcontent-%COMP%], .vision-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%], .recent-tray[_ngcontent-%COMP%]{display:none!important}}.kanban-section[_ngcontent-%COMP%]{margin-top:24px}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.kanban-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}.board[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start}.column[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;width:33.33%;padding:10px;border-radius:12px;min-height:300px}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.taskList[_ngcontent-%COMP%]{min-height:220px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:10px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:600;font-size:14px}.task[_ngcontent-%COMP%]:active{cursor:grabbing}.task.dragging[_ngcontent-%COMP%]{opacity:.6;transform:scale(1.03)}.kanban-back-link[_ngcontent-%COMP%]{margin-top:14px;text-align:center}@media (max-width: 900px){.board[_ngcontent-%COMP%]{flex-direction:column}.column[_ngcontent-%COMP%]{width:100%}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.kanban-card[_ngcontent-%COMP%], .kanban-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.kanban-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .kanban-toolbar[_ngcontent-%COMP%], .kanban-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}"]})};var Gq=["boardElement"];function Kq(n,e){if(n&1){let t=te();m(0,"div",28),Xs(1,"safeHtml"),U("mousedown",function(i){let o=N(t).index,s=L();return F(s.startDrag(i,o))}),m(2,"button",29),U("click",function(i){let o=N(t).index,s=L();return F(s.removeItem(o,i))}),b(3," \u{1F4CC} "),g()()}if(n&2){let t=e.$implicit;lT(t.className),Xe("left",t.left,"px")("top",t.top,"px"),$("innerHTML",vT(1,8,t.html),rh),bn("contenteditable",t.type!=="image")}}function Qq(n,e){n&1&&(m(0,"div")(1,"em"),b(2,"Nema skinutih elemenata."),g()())}function Yq(n,e){if(n&1&&(m(0,"div"),Ie(1,"img",31),g()),n&2){let t=L().$implicit,r=L();x(),$("src",r.extractImageSrc(t.html),X_)}}function Zq(n,e){if(n&1&&(m(0,"div"),b(1),g()),n&2){let t=L().$implicit,r=L();x(),Ve(" ",r.getItemPreview(t)," ")}}function Jq(n,e){if(n&1){let t=te();m(0,"div",30),fe(1,Yq,2,1,"div",15)(2,Zq,2,1,"div",15),m(3,"button",13),U("click",function(){let i=N(t).index,o=L();return F(o.restoreRecent(i))}),b(4," Vrati "),g()()}if(n&2){let t=e.$implicit;x(),$("ngIf",t.type==="image"),x(),$("ngIf",t.type!=="image")}}function Xq(n,e){n&1&&(m(0,"p",32),b(1,"Unesi ispravan email."),g())}var lC=class n{constructor(e){this.sanitizer=e}transform(e){return this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||n)(W(Vy,16))};static \u0275pipe=ch({name:"safeHtml",type:n,pure:!0})},Yp=class n{boardElement;STORAGE_KEY="visualBoardItems";RECENT_KEY="visualBoardRecent";boardItems=[];recentRemoved=[];isDragging=!1;currentDragIndex=null;offsetX=0;offsetY=0;showMailPopup=!1;recipientEmail="";emailError=!1;colors=["color1","color2","color3","color4","color5","color6"];sampleImages=["assets/images/vision/vision1.jpg","assets/images/vision/vision2.jpg","assets/images/vision/vision3.jpg","assets/images/vision/vision4.jpg","assets/images/vision/vision5.jpg","assets/images/vision/vision6.jpg","assets/images/vision/vision7.jpg","assets/images/vision/vision8.jpg"];sampleQuotes=["Danas u\u010Di\u0161 malo, sutra ti to spa\u0161ava projekat.","Neka radi, neka bude ispravno, neka bude brzo.","Nije bitno da je savr\u0161eno, bitno je da radi.","Prvo napravi da radi, pa onda uljep\u0161aj.","Svaki bug je samo jo\u0161 jedna lekcija."];ngOnInit(){this.loadBoard(),this.loadRecent()}addNote(){let t={type:"note",className:`note ${this.colors[Math.floor(Math.random()*this.colors.length)]}`,html:"Napi\u0161i ne\u0161to...",left:Math.random()*520,top:Math.random()*280};this.boardItems.push(t),this.saveBoard(!0)}addImage(){let t={type:"image",className:"pinned-img",html:`<img src="${this.sampleImages[Math.floor(Math.random()*this.sampleImages.length)]}" alt="Vision slika">`,left:Math.random()*460,top:Math.random()*240};this.boardItems.push(t),this.saveBoard(!0)}addQuote(){let t={type:"quote",className:"quote",html:this.sampleQuotes[Math.floor(Math.random()*this.sampleQuotes.length)],left:Math.random()*460,top:Math.random()*240};this.boardItems.push(t),this.saveBoard(!0)}removeItem(e,t){t.stopPropagation();let r=this.boardItems[e];this.boardItems.splice(e,1),this.pushRecent(r),this.saveBoard(!0)}startDrag(e,t){if(e.target.classList.contains("delete-btn"))return;this.isDragging=!0,this.currentDragIndex=t;let r=this.boardItems[t];this.offsetX=e.clientX-r.left,this.offsetY=e.clientY-r.top;let i=s=>this.onDrag(s),o=()=>this.stopDrag(i,o);document.addEventListener("mousemove",i),document.addEventListener("mouseup",o)}onDrag(e){this.isDragging&&this.currentDragIndex!==null&&(e.preventDefault(),this.boardItems[this.currentDragIndex].left=e.clientX-this.offsetX,this.boardItems[this.currentDragIndex].top=e.clientY-this.offsetY)}stopDrag(e,t){this.isDragging=!1,this.currentDragIndex=null,document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),this.saveBoard(!0)}saveBoard(e=!1){localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.boardItems)),localStorage.setItem(this.RECENT_KEY,JSON.stringify(this.recentRemoved)),e||alert("Plo\u010Da je snimljena!")}loadBoard(){let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{this.boardItems=JSON.parse(e)}catch{this.boardItems=[]}}clearBoard(){confirm("Obrisati cijelu plo\u010Du?")&&(this.boardItems=[],localStorage.removeItem(this.STORAGE_KEY))}pushRecent(e){this.recentRemoved.unshift(e),this.recentRemoved.length>3&&(this.recentRemoved=this.recentRemoved.slice(0,3)),localStorage.setItem(this.RECENT_KEY,JSON.stringify(this.recentRemoved))}loadRecent(){let e=localStorage.getItem(this.RECENT_KEY);if(e)try{this.recentRemoved=JSON.parse(e)}catch{this.recentRemoved=[]}}restoreRecent(e){let t=this.recentRemoved[e];if(!t)return;let r=le(z({},t),{left:Math.random()*120,top:Math.random()*90});this.boardItems.push(r),this.recentRemoved.splice(e,1),this.saveBoard(!0)}clearRecent(){confirm("O\u010Distiti sve skinute pinove?")&&(this.recentRemoved=[],localStorage.setItem(this.RECENT_KEY,JSON.stringify(this.recentRemoved)))}getItemPreview(e){let t=e.type==="note"?"Bilje\u0161ka: ":"Citat: ",r=this.stripHTML(e.html);return t+this.truncate(r,40)}stripHTML(e){let t=document.createElement("div");return t.innerHTML=e,t.textContent||""}truncate(e,t){return e.length>t?e.slice(0,t-3)+"...":e}extractImageSrc(e){let t=e.match(/src="([^"]+)"/);return t?t[1]:""}exportPdf(){window.print()}openMailPopup(){this.showMailPopup=!0,this.recipientEmail="",this.emailError=!1}closeMailPopup(){this.showMailPopup=!1}sendEmail(){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.recipientEmail.trim())){this.emailError=!0;return}let r=`mailto:${encodeURIComponent(this.recipientEmail)}?subject=${encodeURIComponent("Moj Visual Board \u2013 Student Fun Zone")}&body=${encodeURIComponent(`Hej!

Evo ti moj Visual Board sa Fun Zone.
Pozz!`)}`;window.location.href=r,this.closeMailPopup()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-vision-board"]],viewQuery:function(t,r){if(t&1&&Js(Gq,5),t&2){let i;Po(i=Oo())&&(r.boardElement=i.first)}},decls:60,vars:9,consts:[["boardElement",""],[1,"intro-article"],[1,"intro-text"],[1,"intro-media"],["src","assets/images/visual-board-hero.jpg","alt","Visual board za studente"],[1,"vision-section"],[1,"vision-card"],[1,"vision-toolbar"],["type","button",3,"click"],["aria-label","Visual board zona",1,"vision-board"],[3,"class","left","top","innerHTML","mousedown",4,"ngFor","ngForOf"],[1,"recent-tray"],[1,"recent-header"],["type","button",1,"restore-btn",3,"click"],[1,"recent-items"],[4,"ngIf"],["class","recent-item",4,"ngFor","ngForOf"],[1,"vision-back-link"],["routerLink","/module-selector"],["role","dialog","aria-modal","true","aria-labelledby","mailPopupTitle",1,"modal-overlay"],[1,"modal-card"],["type","button","aria-label","Zatvori",1,"modal-close-btn",3,"click"],["id","mailPopupTitle"],[1,"form-group"],["for","recipientEmail"],["type","email","placeholder","primjer@email.com",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"modal-actions"],[3,"mousedown","innerHTML"],["type","button",1,"delete-btn",3,"click"],[1,"recent-item"],["alt","Recent image",3,"src"],[1,"error-message"]],template:function(t,r){if(t&1){let i=te();m(0,"article",1)(1,"div",2)(2,"h1"),b(3,"Student Fun Zone \u2013 Visual Board"),g(),m(4,"p"),b(5,' Visual Board ti slu\u017Ei kao mala "inspo" plo\u010Da, mo\u017Ee\u0161 dodavati post-it bilje\u0161ke, slike ili kratke citate i slagati ih kako \u017Eeli\u0161. '),g(),m(6,"p"),b(7,' Sve \u0161to doda\u0161 mo\u017Ee\u0161 pomjerati mi\u0161em, obrisati pin, i vratiti ga iz "recent" sekcije. Plo\u010Da se automatski pamti u browseru. '),g()(),m(8,"div",3),Ie(9,"img",4),g()(),m(10,"section",5)(11,"div",6)(12,"div",7)(13,"button",8),U("click",function(){return N(i),F(r.addNote())}),b(14,"+ Post-it"),g(),m(15,"button",8),U("click",function(){return N(i),F(r.addImage())}),b(16,"+ Slika"),g(),m(17,"button",8),U("click",function(){return N(i),F(r.addQuote())}),b(18,"+ Citat"),g(),m(19,"button",8),U("click",function(){return N(i),F(r.saveBoard())}),b(20,"Snimi"),g(),m(21,"button",8),U("click",function(){return N(i),F(r.clearBoard())}),b(22,"O\u010Disti plo\u010Du"),g(),m(23,"button",8),U("click",function(){return N(i),F(r.exportPdf())}),b(24,"Snimi kao PDF"),g(),m(25,"button",8),U("click",function(){return N(i),F(r.openMailPopup())}),b(26,"Po\u0161alji mailom"),g()(),m(27,"div",9,0),fe(29,Kq,4,10,"div",10),g(),m(30,"div",11)(31,"div",12)(32,"h3"),b(33,"Posljednje skinuto (max 3)"),g(),m(34,"button",13),U("click",function(){return N(i),F(r.clearRecent())}),b(35," O\u010Disti skinute "),g()(),m(36,"div",14),fe(37,Qq,3,0,"div",15)(38,Jq,5,2,"div",16),g()(),m(39,"p",17)(40,"a",18),b(41,"\u2190 Povratak na Student Fun Zone"),g()()()(),m(42,"div",19)(43,"div",20)(44,"button",21),U("click",function(){return N(i),F(r.closeMailPopup())}),b(45," \xD7 "),g(),m(46,"h2",22),b(47,"Po\u0161alji Visual Board mailom"),g(),m(48,"p"),b(49,"Unesi email na koji \u017Eeli\u0161 poslati sadr\u017Eaj."),g(),m(50,"div",23)(51,"label",24),b(52,"Email"),g(),m(53,"input",25),Z("ngModelChange",function(s){return N(i),X(r.recipientEmail,s)||(r.recipientEmail=s),F(s)}),g(),fe(54,Xq,2,0,"p",26),g(),m(55,"div",27)(56,"button",8),U("click",function(){return N(i),F(r.sendEmail())}),b(57,"Po\u0161alji"),g(),m(58,"button",8),U("click",function(){return N(i),F(r.closeMailPopup())}),b(59,"Poni\u0161ti"),g()()()()}t&2&&(x(29),$("ngForOf",r.boardItems),x(8),$("ngIf",r.recentRemoved.length===0),x(),$("ngForOf",r.recentRemoved),x(4),Ne("visible",r.showMailPopup),x(11),Xe("border-color",r.emailError?"#dc2626":"#d1d5db"),Y("ngModel",r.recipientEmail),x(),$("ngIf",r.emailError))},dependencies:[et,Bt,at,Ot,wt,hn,Ut,dn,Yt,lC],styles:["html[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1f2937)}body[_ngcontent-%COMP%]{font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif;color:#111827;margin:0;line-height:1.6}.page-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.top-header[_ngcontent-%COMP%]{max-width:1100px;margin:24px auto 0;padding:12px 20px;background-color:#fff;border-radius:14px;box-shadow:0 12px 30px #0f172a26;display:flex;align-items:center;gap:20px;box-sizing:border-box}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;text-decoration:none}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:54px;width:auto}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.brand-kicker[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.12em;color:#6b7280}.brand-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827}.nav-header[_ngcontent-%COMP%]{max-width:1100px;margin:12px auto 0;padding:10px 20px;background-color:#fff;border-radius:14px;box-shadow:0 8px 22px #0f172a1a;box-sizing:border-box}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;list-style:none;padding:0;margin:0}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:8px 18px;border-radius:999px;text-transform:uppercase;font-size:12px;letter-spacing:.06em;background:#e5e7eb;color:#0f172a;transition:.2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-nav[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff}a[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:500;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;color:#111827}h1[_ngcontent-%COMP%]{font-size:26px;margin-bottom:12px}h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}main[_ngcontent-%COMP%]{flex:1;max-width:1100px;width:100%;margin:18px auto 32px;padding:0 12px;box-sizing:border-box}.intro-article[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:24px;margin-bottom:24px;box-sizing:border-box}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.intro-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px;object-fit:cover}.course-groups[_ngcontent-%COMP%]{margin-bottom:24px}.course-groups[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}.course-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.course-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:16px 18px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.course-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:#4b5563}.course-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;color:#4b5563}.info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.info-block[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:18px 20px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.info-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.site-footer[_ngcontent-%COMP%]{background:transparent;color:#e5e7eb;text-align:center;padding:16px 12px 24px;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 10px 28px #0f172a24;margin-bottom:16px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:13px;border:solid 1px #e5e7eb;padding:8px 6px}th[_ngcontent-%COMP%]{color:#111827;background-color:#e0ebff;height:32px;font-weight:600}td[_ngcontent-%COMP%]:nth-child(4){text-align:right;padding-right:8px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9fafb}iframe[_ngcontent-%COMP%]{margin-top:16px;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]{width:100%;max-width:520px;margin-bottom:16px;padding:14px 16px 18px;background-color:#f3f4f6;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{color:#111827;font-weight:600;padding:0 4px}label[_ngcontent-%COMP%]{display:inline-block;width:32%;font-size:13px;color:#374151}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:64%;margin-bottom:6px;padding:6px 8px;border-radius:8px;border:1px solid #d1d5db;font-size:13px;font-family:inherit}textarea[_ngcontent-%COMP%]{min-height:90px}input[type=checkbox][_ngcontent-%COMP%]{margin-left:32%}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb;font-weight:600;border:none;padding:9px 22px;border-radius:999px;cursor:pointer;font-size:13px;margin-top:4px;transition:background-color .2s ease,transform .1s ease}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}@media (max-width: 768px){.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}.intro-article[_ngcontent-%COMP%]{grid-template-columns:1fr}label[_ngcontent-%COMP%]{width:100%;margin-bottom:4px}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}input[type=checkbox][_ngcontent-%COMP%]{margin-left:0}}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.card-img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:10px;margin-bottom:12px}.has-dropdown[_ngcontent-%COMP%]{position:relative}.has-dropdown[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:2px;padding:8px 0;list-style:none;background-color:#fff;border-radius:12px;box-shadow:0 14px 32px #0f172a40;min-width:200px;display:none;z-index:20}.has-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 14px;font-size:13px;text-transform:none;letter-spacing:0;border-radius:0;background:transparent;color:#111827}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:#111827}.sfz-link.is-active[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#0f172a!important}.contact-form-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box;width:100%;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#111827;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;font-family:inherit;box-sizing:border-box;background-color:#f9fafb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1d4ed8;background-color:#fff}.form-actions[_ngcontent-%COMP%]{margin-top:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:10px 24px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:13px;margin-top:4px}.bingo-section[_ngcontent-%COMP%]{margin-top:24px}.bingo-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.bingo-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.bingo-header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.bingo-controls[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bingo-intro[_ngcontent-%COMP%]{margin-bottom:12px;color:#4b5563}.bingo-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;min-height:20px;color:#4b5563}.bingo-status.win[_ngcontent-%COMP%]{color:#16a34a}.bingo-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.bingo-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed;background-color:#f9fafb;border-radius:12px;overflow:hidden}.bingo-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.bingo-cell[_ngcontent-%COMP%]{padding:10px 8px;font-size:13px;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;word-break:break-word;background-color:#fff;transition:background-color .15s ease,color .15s ease}.bingo-cell.free[_ngcontent-%COMP%]{font-weight:700;background:#e0ecff;color:#1d4ed8}.bingo-cell.marked[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb}.bingo-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a99;display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.visible[_ngcontent-%COMP%]{display:flex}.modal-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:16px;padding:24px 26px 22px;box-shadow:0 22px 60px #0f172a66;max-width:380px;width:100%;box-sizing:border-box;overflow:hidden}.modal-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}.modal-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:14px;color:#4b5563}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:12px;border:none;background:transparent;font-size:20px;cursor:pointer;line-height:1}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:999px;opacity:0;animation-name:_ngcontent-%COMP%_confetti-fall;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(-10px) scale(1);opacity:1}to{transform:translateY(40px) scale(.8);opacity:0}}@media (max-width: 768px){.bingo-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.bingo-controls[_ngcontent-%COMP%]{width:100%}.bingo-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:center}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.bingo-card[_ngcontent-%COMP%], .bingo-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.bingo-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.modal-overlay[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]{display:none!important}}.quiz-section[_ngcontent-%COMP%]{margin-top:24px}.quiz-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.quiz-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.quiz-intro[_ngcontent-%COMP%]{margin-bottom:16px;color:#4b5563}.quiz-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.quiz-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:6px}.quiz-question[_ngcontent-%COMP%]{padding:10px 12px;border-radius:10px;background-color:#f9fafb;border:1px solid #e5e7eb}.quiz-question.correct[_ngcontent-%COMP%]{border-color:#16a34a;background-color:#ecfdf3}.quiz-question.incorrect[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.quiz-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}.primary-btn[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:9px 20px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.primary-btn[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.secondary-btn[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#111827;font-weight:500;padding:8px 16px;border-radius:999px;border:1px solid #e5e7eb;cursor:pointer;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:4px}.secondary-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.quiz-result[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#111827;display:none}.quiz-result.visible[_ngcontent-%COMP%]{display:block}.quiz-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.whiteboard-section[_ngcontent-%COMP%]{margin-top:24px}.whiteboard-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.whiteboard-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:12px}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 10px;border-radius:10px;font-size:14px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:auto;margin:0;font-weight:500}.toolbar-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-left:auto}.whiteboard-canvas-wrap[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}#board[_ngcontent-%COMP%]{width:100%;height:auto;display:block;background:#fff;cursor:crosshair}.whiteboard-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.whiteboard-card[_ngcontent-%COMP%], .whiteboard-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.whiteboard-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .whiteboard-toolbar[_ngcontent-%COMP%], .whiteboard-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}.vision-section[_ngcontent-%COMP%]{margin-top:24px}.vision-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.vision-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:520px;background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;overflow:hidden}.note[_ngcontent-%COMP%]{position:absolute;width:180px;min-height:120px;padding:10px;border-radius:10px;box-shadow:0 6px 18px #0000001f;cursor:move;font-size:14px;line-height:1.4;outline:none}.color1[_ngcontent-%COMP%]{background:#fff7ed}.color2[_ngcontent-%COMP%]{background:#ecfeff}.color3[_ngcontent-%COMP%]{background:#f0fdf4}.color4[_ngcontent-%COMP%]{background:#fef2f2}.color5[_ngcontent-%COMP%]{background:#eef2ff}.color6[_ngcontent-%COMP%]{background:#fdf4ff}.pinned-img[_ngcontent-%COMP%]{position:absolute;width:200px;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px #0000001f;cursor:move}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.quote[_ngcontent-%COMP%]{position:absolute;width:220px;padding:10px 12px;background:#fff;border-left:4px solid #1d4ed8;border-radius:8px;box-shadow:0 6px 18px #0000001a;cursor:move;font-size:14px;line-height:1.4;outline:none}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;border:none;background:#111827;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:14px}.recent-tray[_ngcontent-%COMP%]{margin-top:14px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:10px}.recent-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.recent-items[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.recent-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;padding:8px;border-radius:10px;width:180px;font-size:13px;display:flex;flex-direction:column;gap:6px}.recent-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.restore-btn[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border:none;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}.vision-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.vision-card[_ngcontent-%COMP%], .vision-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.vision-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .vision-toolbar[_ngcontent-%COMP%], .vision-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%], .recent-tray[_ngcontent-%COMP%]{display:none!important}}.kanban-section[_ngcontent-%COMP%]{margin-top:24px}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.kanban-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}.board[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start}.column[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;width:33.33%;padding:10px;border-radius:12px;min-height:300px}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.taskList[_ngcontent-%COMP%]{min-height:220px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:10px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:600;font-size:14px}.task[_ngcontent-%COMP%]:active{cursor:grabbing}.task.dragging[_ngcontent-%COMP%]{opacity:.6;transform:scale(1.03)}.kanban-back-link[_ngcontent-%COMP%]{margin-top:14px;text-align:center}@media (max-width: 900px){.board[_ngcontent-%COMP%]{flex-direction:column}.column[_ngcontent-%COMP%]{width:100%}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.kanban-card[_ngcontent-%COMP%], .kanban-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.kanban-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .kanban-toolbar[_ngcontent-%COMP%], .kanban-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}"]})};var eH=["canvas"];function tH(n,e){n&1&&(m(0,"p",28),b(1,"Unesi ispravan email."),g())}var Zp=class n{canvasRef;ctx;drawing=!1;currentColor="#1d4ed8";brushSize=3;isErasing=!1;showMailPopup=!1;recipientEmail="";emailError=!1;ngAfterViewInit(){let e=this.canvasRef.nativeElement;this.ctx=e.getContext("2d"),this.drawWatermark()}startDraw(e){this.drawing=!0,this.draw(e)}endDraw(){this.drawing=!1,this.ctx.beginPath()}draw(e){if(!this.drawing)return;let t=this.canvasRef.nativeElement,r=t.getBoundingClientRect(),i=t.width/r.width,o=t.height/r.height,s,a;e instanceof MouseEvent?(s=e.clientX,a=e.clientY):(s=e.touches[0].clientX,a=e.touches[0].clientY);let l=(s-r.left)*i,u=(a-r.top)*o;this.ctx.lineWidth=this.brushSize,this.ctx.lineCap="round",this.ctx.strokeStyle=this.isErasing?"#FFFFFF":this.currentColor,this.ctx.lineTo(l,u),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(l,u)}onColorChange(){this.isErasing=!1}toggleEraser(){this.isErasing=!this.isErasing}clearCanvas(){let e=this.canvasRef.nativeElement;this.ctx.clearRect(0,0,e.width,e.height),this.drawWatermark()}saveImage(){let t=this.canvasRef.nativeElement.toDataURL("image/png"),r=document.createElement("a");r.href=t,r.download="whiteboard_crtez.png",r.click()}exportPdf(){window.print()}drawWatermark(){let e=this.canvasRef.nativeElement,t=new Image;t.src="assets/images/logo-ipi.png",t.onload=()=>{let i=t.height/t.width*180,o=(e.width-180)/2,s=(e.height-i)/2;this.ctx.save(),this.ctx.globalAlpha=.08,this.ctx.drawImage(t,o,s,180,i),this.ctx.restore()}}openMailPopup(){this.showMailPopup=!0,this.recipientEmail="",this.emailError=!1}closeMailPopup(){this.showMailPopup=!1}sendEmail(){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.recipientEmail.trim())){this.emailError=!0;return}let r=`mailto:${encodeURIComponent(this.recipientEmail)}?subject=${encodeURIComponent("IPI Whiteboard \u2013 Student Fun Zone")}&body=${encodeURIComponent(`Pozdrav,

U prilogu uz ovu poruku \u0161aljem sadr\u017Eaj Whiteboarda.
Lijep pozdrav!`)}`;window.location.href=r,this.closeMailPopup()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ge({type:n,selectors:[["app-whiteboard"]],viewQuery:function(t,r){if(t&1&&Js(eH,5),t&2){let i;Po(i=Oo())&&(r.canvasRef=i.first)}},decls:56,vars:9,consts:[["canvas",""],[1,"intro-article"],[1,"intro-text"],[1,"intro-media"],["src","assets/images/whiteboard.jpg","alt","Digitalni whiteboard za studente"],[1,"whiteboard-section"],[1,"whiteboard-card"],[1,"whiteboard-toolbar"],[1,"control-group"],["for","colorPicker"],["type","color","id","colorPicker",3,"ngModelChange","change","ngModel"],["for","brushSize"],["type","range","min","1","max","20","id","brushSize",3,"ngModelChange","ngModel"],[1,"toolbar-actions"],["type","button",3,"click"],["id","printArea",1,"whiteboard-canvas-wrap"],["width","1000","height","520",3,"mousedown","mouseup","mousemove","touchstart","touchmove","touchend"],[1,"whiteboard-back-link"],["routerLink","/module-selector"],["role","dialog","aria-modal","true","aria-labelledby","mailPopupTitle",1,"modal-overlay"],[1,"modal-card"],["type","button","aria-label","Zatvori",1,"modal-close-btn",3,"click"],["id","mailPopupTitle"],[1,"form-group"],["for","recipientEmail"],["type","email","id","recipientEmail","placeholder","primjer@email.com",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],[1,"modal-actions"],[1,"error-message"]],template:function(t,r){if(t&1){let i=te();m(0,"article",1)(1,"div",2)(2,"h1"),b(3,"Student Fun Zone \u2013 Interaktivni Whiteboard"),g(),m(4,"p"),b(5," Ovo je digitalna plo\u010Da za skiciranje ideja, planova ili zadataka. Mo\u017Ee\u0161 crtati mi\u0161em ili prstom, mijenjati boju i debljinu \u010Detke, koristiti gumicu i sa\u010Duvati svoj crte\u017E. "),g(),m(6,"p"),b(7," Whiteboard je idealan za brze brainstorm sesije ili obja\u0161njavanje koncepata tokom vje\u017Ebi. "),g()(),m(8,"div",3),Ie(9,"img",4),g()(),m(10,"section",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),b(15,"Boja"),g(),m(16,"input",10),Z("ngModelChange",function(s){return N(i),X(r.currentColor,s)||(r.currentColor=s),F(s)}),U("change",function(){return N(i),F(r.onColorChange())}),g()(),m(17,"div",8)(18,"label",11),b(19,"\u010Cetka"),g(),m(20,"input",12),Z("ngModelChange",function(s){return N(i),X(r.brushSize,s)||(r.brushSize=s),F(s)}),g()(),m(21,"div",13)(22,"button",14),U("click",function(){return N(i),F(r.toggleEraser())}),b(23),g(),m(24,"button",14),U("click",function(){return N(i),F(r.clearCanvas())}),b(25,"\u010Cista plo\u010Da"),g(),m(26,"button",14),U("click",function(){return N(i),F(r.saveImage())}),b(27,"Snimi sliku"),g(),m(28,"button",14),U("click",function(){return N(i),F(r.exportPdf())}),b(29,"Snimi kao PDF"),g(),m(30,"button",14),U("click",function(){return N(i),F(r.openMailPopup())}),b(31,"Po\u0161alji mailom"),g()()(),m(32,"div",15)(33,"canvas",16,0),U("mousedown",function(s){return N(i),F(r.startDraw(s))})("mouseup",function(){return N(i),F(r.endDraw())})("mousemove",function(s){return N(i),F(r.draw(s))})("touchstart",function(s){return N(i),F(r.startDraw(s))})("touchmove",function(s){return N(i),r.draw(s),F(s.preventDefault())})("touchend",function(){return N(i),F(r.endDraw())}),g()(),m(35,"p",17)(36,"a",18),b(37,"\u2190 Povratak na Student Fun Zone"),g()()()(),m(38,"div",19)(39,"div",20)(40,"button",21),U("click",function(){return N(i),F(r.closeMailPopup())}),b(41," \xD7 "),g(),m(42,"h2",22),b(43,"Po\u0161alji whiteboard mailom"),g(),m(44,"p"),b(45,"Unesi email na koji \u017Eeli\u0161 poslati sadr\u017Eaj."),g(),m(46,"div",23)(47,"label",24),b(48,"Email"),g(),m(49,"input",25),Z("ngModelChange",function(s){return N(i),X(r.recipientEmail,s)||(r.recipientEmail=s),F(s)}),g(),fe(50,tH,2,0,"p",26),g(),m(51,"div",27)(52,"button",14),U("click",function(){return N(i),F(r.sendEmail())}),b(53,"Po\u0161alji"),g(),m(54,"button",14),U("click",function(){return N(i),F(r.closeMailPopup())}),b(55,"Poni\u0161ti"),g()()()()}t&2&&(x(16),Y("ngModel",r.currentColor),x(4),Y("ngModel",r.brushSize),x(3),Ve(" ",r.isErasing?"Crtaj":"Bri\u0161i"," "),x(15),Ne("visible",r.showMailPopup),x(11),Xe("border-color",r.emailError?"#dc2626":"#d1d5db"),Y("ngModel",r.recipientEmail),x(),$("ngIf",r.emailError))},dependencies:[et,at,Ot,wt,hn,Ut,wv,dn,Yt],styles:["html[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1f2937)}body[_ngcontent-%COMP%]{font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Arial,sans-serif;color:#111827;margin:0;line-height:1.6}.page-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.top-header[_ngcontent-%COMP%]{max-width:1100px;margin:24px auto 0;padding:12px 20px;background-color:#fff;border-radius:14px;box-shadow:0 12px 30px #0f172a26;display:flex;align-items:center;gap:20px;box-sizing:border-box}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;text-decoration:none}.brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:54px;width:auto}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;line-height:1.2}.brand-kicker[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.12em;color:#6b7280}.brand-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:#111827}.nav-header[_ngcontent-%COMP%]{max-width:1100px;margin:12px auto 0;padding:10px 20px;background-color:#fff;border-radius:14px;box-shadow:0 8px 22px #0f172a1a;box-sizing:border-box}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;list-style:none;padding:0;margin:0}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;padding:8px 18px;border-radius:999px;text-transform:uppercase;font-size:12px;letter-spacing:.06em;background:#e5e7eb;color:#0f172a;transition:.2s ease}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .main-nav[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff}a[_ngcontent-%COMP%]{color:#1d4ed8;font-weight:500;text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{margin-top:0;color:#111827}h1[_ngcontent-%COMP%]{font-size:26px;margin-bottom:12px}h2[_ngcontent-%COMP%]{font-size:20px;margin-bottom:8px}h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:6px}main[_ngcontent-%COMP%]{flex:1;max-width:1100px;width:100%;margin:18px auto 32px;padding:0 12px;box-sizing:border-box}.intro-article[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;display:grid;grid-template-columns:minmax(0,3fr) minmax(0,2fr);gap:24px;margin-bottom:24px;box-sizing:border-box}.intro-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.intro-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:12px;object-fit:cover}.course-groups[_ngcontent-%COMP%]{margin-bottom:24px}.course-groups[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}.course-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}.course-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:16px 18px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.course-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:#4b5563}.course-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;color:#4b5563}.info-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}.info-block[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:18px 20px;box-shadow:0 10px 28px #0f172a24;box-sizing:border-box}.info-block[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;color:#4b5563}.site-footer[_ngcontent-%COMP%]{background:transparent;color:#e5e7eb;text-align:center;padding:16px 12px 24px;font-size:12px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background-color:#fff;border-radius:10px;overflow:hidden;box-shadow:0 10px 28px #0f172a24;margin-bottom:16px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:13px;border:solid 1px #e5e7eb;padding:8px 6px}th[_ngcontent-%COMP%]{color:#111827;background-color:#e0ebff;height:32px;font-weight:600}td[_ngcontent-%COMP%]:nth-child(4){text-align:right;padding-right:8px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9fafb}iframe[_ngcontent-%COMP%]{margin-top:16px;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]{width:100%;max-width:520px;margin-bottom:16px;padding:14px 16px 18px;background-color:#f3f4f6;border-radius:12px;border:none}fieldset[_ngcontent-%COMP%]   legend[_ngcontent-%COMP%]{color:#111827;font-weight:600;padding:0 4px}label[_ngcontent-%COMP%]{display:inline-block;width:32%;font-size:13px;color:#374151}input[type=radio][_ngcontent-%COMP%] + label[_ngcontent-%COMP%], input[type=checkbox][_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{width:auto}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:64%;margin-bottom:6px;padding:6px 8px;border-radius:8px;border:1px solid #d1d5db;font-size:13px;font-family:inherit}textarea[_ngcontent-%COMP%]{min-height:90px}input[type=checkbox][_ngcontent-%COMP%]{margin-left:32%}button[_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb;font-weight:600;border:none;padding:9px 22px;border-radius:999px;cursor:pointer;font-size:13px;margin-top:4px;transition:background-color .2s ease,transform .1s ease}button[_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}@media (max-width: 768px){.site-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.main-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:flex-start}.intro-article[_ngcontent-%COMP%]{grid-template-columns:1fr}label[_ngcontent-%COMP%]{width:100%;margin-bottom:4px}select[_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}input[type=checkbox][_ngcontent-%COMP%]{margin-left:0}}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.sfz-link[_ngcontent-%COMP%]:hover + .dropdown-menu[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]:hover{display:block}.card-img[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-radius:10px;margin-bottom:12px}.has-dropdown[_ngcontent-%COMP%]{position:relative}.has-dropdown[_ngcontent-%COMP%] > .dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;margin-top:2px;padding:8px 0;list-style:none;background-color:#fff;border-radius:12px;box-shadow:0 14px 32px #0f172a40;min-width:200px;display:none;z-index:20}.has-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 14px;font-size:13px;text-transform:none;letter-spacing:0;border-radius:0;background:transparent;color:#111827}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#e5e7eb;color:#111827}.sfz-link.is-active[_ngcontent-%COMP%]{background:#e5e7eb!important;color:#0f172a!important}.contact-form-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:24px 28px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box;width:100%;margin-bottom:24px}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#111827;margin-bottom:6px}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #d1d5db;font-size:14px;font-family:inherit;box-sizing:border-box;background-color:#f9fafb}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:120px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1d4ed8;background-color:#fff}.form-actions[_ngcontent-%COMP%]{margin-top:10px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:10px 24px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.error-message[_ngcontent-%COMP%]{color:#dc2626;font-size:13px;margin-top:4px}.bingo-section[_ngcontent-%COMP%]{margin-top:24px}.bingo-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.bingo-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}.bingo-header-row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.bingo-controls[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.bingo-intro[_ngcontent-%COMP%]{margin-bottom:12px;color:#4b5563}.bingo-status[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px;min-height:20px;color:#4b5563}.bingo-status.win[_ngcontent-%COMP%]{color:#16a34a}.bingo-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.bingo-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;table-layout:fixed;background-color:#f9fafb;border-radius:12px;overflow:hidden}.bingo-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #e5e7eb}.bingo-cell[_ngcontent-%COMP%]{padding:10px 8px;font-size:13px;text-align:center;cursor:pointer;-webkit-user-select:none;user-select:none;word-break:break-word;background-color:#fff;transition:background-color .15s ease,color .15s ease}.bingo-cell.free[_ngcontent-%COMP%]{font-weight:700;background:#e0ecff;color:#1d4ed8}.bingo-cell.marked[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#f9fafb}.bingo-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0f172a99;display:none;align-items:center;justify-content:center;z-index:100}.modal-overlay.visible[_ngcontent-%COMP%]{display:flex}.modal-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:16px;padding:24px 26px 22px;box-shadow:0 22px 60px #0f172a66;max-width:380px;width:100%;box-sizing:border-box;overflow:hidden}.modal-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:8px}.modal-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:14px;color:#4b5563}.modal-close-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:12px;border:none;background:transparent;font-size:20px;cursor:pointer;line-height:1}.modal-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.confetti-dot[_ngcontent-%COMP%]{position:absolute;border-radius:999px;opacity:0;animation-name:_ngcontent-%COMP%_confetti-fall;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_confetti-fall{0%{transform:translateY(-10px) scale(1);opacity:1}to{transform:translateY(40px) scale(.8);opacity:0}}@media (max-width: 768px){.bingo-header-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.bingo-controls[_ngcontent-%COMP%]{width:100%}.bingo-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;text-align:center}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.bingo-card[_ngcontent-%COMP%], .bingo-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.bingo-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.modal-overlay[_ngcontent-%COMP%], .main-nav[_ngcontent-%COMP%], .top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%]{display:none!important}}.quiz-section[_ngcontent-%COMP%]{margin-top:24px}.quiz-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.quiz-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:6px}.quiz-intro[_ngcontent-%COMP%]{margin-bottom:16px;color:#4b5563}.quiz-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:14px}.quiz-question[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:6px}.quiz-question[_ngcontent-%COMP%]{padding:10px 12px;border-radius:10px;background-color:#f9fafb;border:1px solid #e5e7eb}.quiz-question.correct[_ngcontent-%COMP%]{border-color:#16a34a;background-color:#ecfdf3}.quiz-question.incorrect[_ngcontent-%COMP%]{border-color:#dc2626;background-color:#fef2f2}.quiz-actions[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-wrap:wrap;gap:8px}.primary-btn[_ngcontent-%COMP%]{background-color:#1d4ed8;color:#fff;font-weight:600;padding:9px 20px;border-radius:999px;border:none;cursor:pointer;font-size:14px;transition:.2s ease}.primary-btn[_ngcontent-%COMP%]:hover{background-color:#1e40af;transform:translateY(-1px)}.secondary-btn[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#111827;font-weight:500;padding:8px 16px;border-radius:999px;border:1px solid #e5e7eb;cursor:pointer;font-size:14px;text-decoration:none;display:inline-flex;align-items:center;gap:4px}.secondary-btn[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.quiz-result[_ngcontent-%COMP%]{margin-top:10px;font-size:14px;color:#111827;display:none}.quiz-result.visible[_ngcontent-%COMP%]{display:block}.quiz-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}.whiteboard-section[_ngcontent-%COMP%]{margin-top:24px}.whiteboard-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.whiteboard-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:12px;margin-bottom:12px}.control-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#f9fafb;border:1px solid #e5e7eb;padding:6px 10px;border-radius:10px;font-size:14px}.control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:auto;margin:0;font-weight:500}.toolbar-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-left:auto}.whiteboard-canvas-wrap[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden}#board[_ngcontent-%COMP%]{width:100%;height:auto;display:block;background:#fff;cursor:crosshair}.whiteboard-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.whiteboard-card[_ngcontent-%COMP%], .whiteboard-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.whiteboard-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .whiteboard-toolbar[_ngcontent-%COMP%], .whiteboard-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}.vision-section[_ngcontent-%COMP%]{margin-top:24px}.vision-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.vision-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}.vision-board[_ngcontent-%COMP%]{position:relative;width:100%;min-height:520px;background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;overflow:hidden}.note[_ngcontent-%COMP%]{position:absolute;width:180px;min-height:120px;padding:10px;border-radius:10px;box-shadow:0 6px 18px #0000001f;cursor:move;font-size:14px;line-height:1.4;outline:none}.color1[_ngcontent-%COMP%]{background:#fff7ed}.color2[_ngcontent-%COMP%]{background:#ecfeff}.color3[_ngcontent-%COMP%]{background:#f0fdf4}.color4[_ngcontent-%COMP%]{background:#fef2f2}.color5[_ngcontent-%COMP%]{background:#eef2ff}.color6[_ngcontent-%COMP%]{background:#fdf4ff}.pinned-img[_ngcontent-%COMP%]{position:absolute;width:200px;border-radius:10px;overflow:hidden;box-shadow:0 6px 18px #0000001f;cursor:move}.pinned-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.quote[_ngcontent-%COMP%]{position:absolute;width:220px;padding:10px 12px;background:#fff;border-left:4px solid #1d4ed8;border-radius:8px;box-shadow:0 6px 18px #0000001a;cursor:move;font-size:14px;line-height:1.4;outline:none}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;border:none;background:#111827;color:#fff;width:28px;height:28px;border-radius:50%;cursor:pointer;font-size:14px}.recent-tray[_ngcontent-%COMP%]{margin-top:14px;background:#f9fafb;border:1px solid #e5e7eb;border-radius:12px;padding:10px}.recent-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px}.recent-items[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.recent-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;padding:8px;border-radius:10px;width:180px;font-size:13px;display:flex;flex-direction:column;gap:6px}.recent-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:8px}.restore-btn[_ngcontent-%COMP%]{background:#1d4ed8;color:#fff;border:none;padding:6px 10px;border-radius:999px;cursor:pointer;font-size:13px}.vision-back-link[_ngcontent-%COMP%]{margin-top:16px;text-align:center}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.vision-card[_ngcontent-%COMP%], .vision-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.vision-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .vision-toolbar[_ngcontent-%COMP%], .vision-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%], .recent-tray[_ngcontent-%COMP%]{display:none!important}}.kanban-section[_ngcontent-%COMP%]{margin-top:24px}.kanban-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px 24px;box-shadow:0 16px 40px #0f172a2b;box-sizing:border-box}.kanban-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:14px}.board[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-start}.column[_ngcontent-%COMP%]{background:#f9fafb;border:1px solid #e5e7eb;width:33.33%;padding:10px;border-radius:12px;min-height:300px}.column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;font-size:16px}.taskList[_ngcontent-%COMP%]{min-height:220px}.task[_ngcontent-%COMP%]{background:#fff7a8;padding:10px;margin:10px 0;border-radius:8px;cursor:grab;-webkit-user-select:none;user-select:none;font-weight:600;font-size:14px}.task[_ngcontent-%COMP%]:active{cursor:grabbing}.task.dragging[_ngcontent-%COMP%]{opacity:.6;transform:scale(1.03)}.kanban-back-link[_ngcontent-%COMP%]{margin-top:14px;text-align:center}@media (max-width: 900px){.board[_ngcontent-%COMP%]{flex-direction:column}.column[_ngcontent-%COMP%]{width:100%}}@media print{body[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden!important}.kanban-card[_ngcontent-%COMP%], .kanban-card[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:visible!important}.kanban-card[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;box-shadow:none!important;background:#fff!important;padding:16px}.top-header[_ngcontent-%COMP%], .nav-header[_ngcontent-%COMP%], .site-footer[_ngcontent-%COMP%], .kanban-toolbar[_ngcontent-%COMP%], .kanban-back-link[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]{display:none!important}}"]})};var GA=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Up},{path:"register",component:zp},{path:"module-selector",component:$p},{path:"dashboard",component:Wp},{path:"modules/bingo",component:Gp},{path:"modules/kanban-board",component:Kp},{path:"modules/quiz",component:Qp},{path:"modules/whiteboard",component:Zp},{path:"modules/vision-board",component:Yp}];var KA={production:!1,firebase:{apiKey:"AIzaSyACQAKUf4uX2mHQEZ7vgBy8BS9GA-g2AMQ",authDomain:"personal-life-dashboard-f9406.firebaseapp.com",projectId:"personal-life-dashboard-f9406",storageBucket:"personal-life-dashboard-f9406.firebasestorage.app",messagingSenderId:"784696551040",appId:"1:784696551040:web:16a55dbe89c2c94e59e865"}};var QA={providers:[xT({eventCoalescing:!0}),dv(GA),aS(()=>cS(KA.firebase)),mP(()=>vP()),$A(()=>qA())]};var Jp=class n{constructor(e){this.themeService=e}title="personal-life-dashboard";ngOnInit(){this.themeService.loadTheme()}static \u0275fac=function(t){return new(t||n)(W(Sr))};static \u0275cmp=Ge({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&Ie(0,"router-outlet")},dependencies:[yl],encapsulation:2})};Fy(Jp,QA).catch(n=>console.error(n));
